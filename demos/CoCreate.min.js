/* CoCreateJS */
!function(t){var e={};function n(r){if(e[r])return e[r].exports;var s=e[r]={i:r,l:!1,exports:{}};return t[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(r,s,function(e){return t[e]}.bind(null,s));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="./dist/",n(n.s=19)}([function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"c",function(){return s}),n.d(e,"a",function(){return o});const r=()=>new Map,s=(t,e,n)=>{let r=t.get(e);return void 0===r&&t.set(e,r=n()),r},o=(t,e)=>{for(const[n,r]of t)if(e(r,n))return!0;return!1}},function(t,e,n){"use strict";(function(t){n.d(e,"c",function(){return i}),n.d(e,"b",function(){return l}),n.d(e,"e",function(){return c}),n.d(e,"d",function(){return a}),n.d(e,"a",function(){return u});var r=n(3),s=n(9);const o=t=>new Uint8Array(t),i=(t,e,n)=>new Uint8Array(t,e,n),l=t=>new Uint8Array(t),c=s.a?t=>{let e="";for(let n=0;n<t.byteLength;n++)e+=r.d(t[n]);return btoa(e)}:e=>t.from(e.buffer,e.byteOffset,e.byteLength).toString("base64"),a=s.a?t=>{const e=atob(t),n=o(e.length);for(let t=0;t<e.length;t++)n[t]=e.charCodeAt(t);return n}:e=>new Uint8Array(t.from(e,"base64").buffer),u=t=>{const e=o(t.byteLength);return e.set(t),e}}).call(this,n(12).Buffer)},function(t,e,n){"use strict";n.d(e,"d",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"b",function(){return c}),n.d(e,"a",function(){return u});const r=String.fromCharCode,s=(String.fromCodePoint,/^\s*/g),o=/([A-Z])/g,i=(t,e)=>(t=>t.replace(s,""))(t.replace(o,t=>`${e}${(t=>t.toLowerCase())(t)}`)),l="undefined"!=typeof TextEncoder?new TextEncoder:null,c=l?t=>l.encode(t):t=>{const e=unescape(encodeURIComponent(t)),n=e.length,r=new Uint8Array(n);for(let t=0;t<n;t++)r[t]=e.codePointAt(t);return r};let a="undefined"==typeof TextDecoder?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});a&&1===a.decode(new Uint8Array).length&&(a=null);const u=a?t=>a.decode(t):t=>{let e=t.length,n="",r=0;for(;e>0;){const s=e<1e4?e:1e4,o=new Array(s);for(let e=0;e<s;e++)o[e]=t[r++];n+=String.fromCodePoint.apply(null,o),e-=s}return decodeURIComponent(escape(n))}},function(t,e,n){"use strict";n.d(e,"d",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"b",function(){return c}),n.d(e,"a",function(){return u});const r=String.fromCharCode,s=(String.fromCodePoint,/^\s*/g),o=/([A-Z])/g,i=(t,e)=>(t=>t.replace(s,""))(t.replace(o,t=>`${e}${(t=>t.toLowerCase())(t)}`)),l="undefined"!=typeof TextEncoder?new TextEncoder:null,c=l?t=>l.encode(t):t=>{const e=unescape(encodeURIComponent(t)),n=e.length,r=new Uint8Array(n);for(let t=0;t<n;t++)r[t]=e.codePointAt(t);return r},a="undefined"==typeof TextDecoder?null:new TextDecoder("utf-8",{fatal:!0}),u=a?t=>a.decode(t):t=>{let e=t.length,n="",r=0;for(;e>0;){const s=e<1e4?e:1e4,o=new Array(s);for(let e=0;e<s;e++)o[e]=t[r++];n+=String.fromCodePoint.apply(null,o),e-=s}return decodeURIComponent(escape(n))}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return s});const r=()=>new Map,s=(t,e,n)=>{let r=t.get(e);return void 0===r&&t.set(e,r=n()),r}},function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return s});n(2);var r=n(7);const s=(t,e,n)=>new Uint8Array(t,e,n);r.a,r.a}).call(this,n(12).Buffer)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});let r=new class{constructor(){this.map=new Map}setItem(t,e){this.map.set(t,e)}getItem(t){return this.map.get(t)}};try{"undefined"!=typeof localStorage&&(r=localStorage)}catch(t){}const s=r},function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return c});var r=n(4),s=n(2),o=n(8),i=n(14);const l=void 0!==t&&t.release&&/node|io\.js/.test(t.release.name),c="undefined"!=typeof window&&!l;let a;"undefined"!=typeof navigator&&/Mac/.test(navigator.platform);const u=[],h=()=>{if(void 0===a)if(l){a=r.a();const e=t.argv;let n=null;for(let t=0;t<e.length;t++){const r=e[t];"-"===r[0]?(null!==n&&a.set(n,""),n=r):null!==n?(a.set(n,r),n=null):u.push(r)}null!==n&&a.set(n,"")}else a=r.a(),(location.search||"?").slice(1).split("&").forEach(t=>{if(0!==t.length){const[e,n]=t.split("=");a.set(`--${s.c(e,"-")}`,n),a.set(`-${s.c(e,"-")}`,n)}});return a};var f;(t=>h().has(t))("--"+(f="production"))||(e=>l?o.a(t.env[e.toUpperCase()]):o.a(i.a.getItem(e)))(f)}).call(this,n(13))},function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>void 0===t?null:t},function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return c});var r=n(0),s=n(3),o=n(10),i=n(6);const l=void 0!==t&&t.release&&/node|io\.js/.test(t.release.name),c="undefined"!=typeof window&&!l;let a;"undefined"!=typeof navigator&&/Mac/.test(navigator.platform);const u=[],h=()=>{if(void 0===a)if(l){a=r.b();const e=t.argv;let n=null;for(let t=0;t<e.length;t++){const r=e[t];"-"===r[0]?(null!==n&&a.set(n,""),n=r):null!==n?(a.set(n,r),n=null):u.push(r)}null!==n&&a.set(n,"")}else a=r.b(),(location.search||"?").slice(1).split("&").forEach(t=>{if(0!==t.length){const[e,n]=t.split("=");a.set(`--${s.c(e,"-")}`,n),a.set(`-${s.c(e,"-")}`,n)}});return a};var f;(t=>h().has(t))("--"+(f="production"))||(e=>l?o.a(t.env[e.toUpperCase()]):o.a(i.a.getItem(e)))(f)}).call(this,n(13))},function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>void 0===t?null:t},function(t,e){const n="undefined"==typeof performance?null:performance,r="undefined"==typeof crypto?null:crypto,s=null!==r?t=>{const e=new Uint8Array(t);return r.getRandomValues(e),e.buffer}:t=>{const e=new Uint8Array(t);for(let n=0;n<t;n++)e[n]=Math.ceil(4294967295*Math.random()>>>0);return e.buffer};e.performance=n,e.cryptoRandomBuffer=s},function(t,e,n){"use strict";(function(t){var r=n(16),s=n(17),o=n(18);function i(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function l(t,e){if(i()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return a(this,t,e,n)}function a(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),c.TYPED_ARRAY_SUPPORT?(t=e).__proto__=c.prototype:t=f(t,e),t}(t,e,n,r):"string"==typeof e?function(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|g(e,n),s=(t=l(t,r)).write(e,n);return s!==r&&(t=t.slice(0,s)),t}(t,e,n):function(t,e){if(c.isBuffer(e)){var n=0|d(e.length);return 0===(t=l(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?l(t,0):f(t,e);if("Buffer"===e.type&&o(e.data))return f(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e){if(u(e),t=l(t,e<0?0:0|d(e)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function f(t,e){var n=e.length<0?0:0|d(e.length);t=l(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function d(t){if(t>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|t}function g(t,e){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Y(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return j(t).length;default:if(r)return Y(t).length;e=(""+e).toLowerCase(),r=!0}}function p(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function w(t,e,n,r,s){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=s?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(s)return-1;n=t.length-1}else if(n<0){if(!s)return-1;n=0}if("string"==typeof e&&(e=c.from(e,r)),c.isBuffer(e))return 0===e.length?-1:m(t,e,n,r,s);if("number"==typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?s?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):m(t,[e],n,r,s);throw new TypeError("val must be string, number or Buffer")}function m(t,e,n,r,s){var o,i=1,l=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;i=2,l/=2,c/=2,n/=2}function a(t,e){return 1===i?t[e]:t.readUInt16BE(e*i)}if(s){var u=-1;for(o=n;o<l;o++)if(a(t,o)===a(e,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===c)return u*i}else-1!==u&&(o-=o-u),u=-1}else for(n+c>l&&(n=l-c),o=n;o>=0;o--){for(var h=!0,f=0;f<c;f++)if(a(t,o+f)!==a(e,f)){h=!1;break}if(h)return o}return-1}function y(t,e,n,r){n=Number(n)||0;var s=t.length-n;r?(r=Number(r))>s&&(r=s):r=s;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var i=0;i<r;++i){var l=parseInt(e.substr(2*i,2),16);if(isNaN(l))return i;t[n+i]=l}return i}function b(t,e,n,r){return F(Y(e,t.length-n),t,n,r)}function _(t,e,n,r){return F(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function v(t,e,n,r){return _(t,e,n,r)}function S(t,e,n,r){return F(j(e),t,n,r)}function A(t,e,n,r){return F(function(t,e){for(var n,r,s,o=[],i=0;i<t.length&&!((e-=2)<0);++i)r=(n=t.charCodeAt(i))>>8,s=n%256,o.push(s),o.push(r);return o}(e,t.length-n),t,n,r)}function k(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function E(t,e,n){n=Math.min(t.length,n);for(var r=[],s=e;s<n;){var o,i,l,c,a=t[s],u=null,h=a>239?4:a>223?3:a>191?2:1;if(s+h<=n)switch(h){case 1:a<128&&(u=a);break;case 2:128==(192&(o=t[s+1]))&&(c=(31&a)<<6|63&o)>127&&(u=c);break;case 3:o=t[s+1],i=t[s+2],128==(192&o)&&128==(192&i)&&(c=(15&a)<<12|(63&o)<<6|63&i)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:o=t[s+1],i=t[s+2],l=t[s+3],128==(192&o)&&128==(192&i)&&128==(192&l)&&(c=(15&a)<<18|(63&o)<<12|(63&i)<<6|63&l)>65535&&c<1114112&&(u=c)}null===u?(u=65533,h=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),s+=h}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}function C(t,e,n){var r="";n=Math.min(t.length,n);for(var s=e;s<n;++s)r+=String.fromCharCode(127&t[s]);return r}function R(t,e,n){var r="";n=Math.min(t.length,n);for(var s=e;s<n;++s)r+=String.fromCharCode(t[s]);return r}function T(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var s="",o=e;o<n;++o)s+=D(t[o]);return s}function x(t,e,n){for(var r=t.slice(e,n),s="",o=0;o<r.length;o+=2)s+=String.fromCharCode(r[o]+256*r[o+1]);return s}function U(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function M(t,e,n,r,s,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>s||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function I(t,e,n,r){e<0&&(e=65535+e+1);for(var s=0,o=Math.min(t.length-n,2);s<o;++s)t[n+s]=(e&255<<8*(r?s:1-s))>>>8*(r?s:1-s)}function O(t,e,n,r){e<0&&(e=4294967295+e+1);for(var s=0,o=Math.min(t.length-n,4);s<o;++s)t[n+s]=e>>>8*(r?s:3-s)&255}function N(t,e,n,r,s,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(t,e,n,r,o){return o||N(t,0,n,4),s.write(t,e,n,r,23,4),n+4}function P(t,e,n,r,o){return o||N(t,0,n,8),s.write(t,e,n,r,52,8),n+8}e.Buffer=c,e.SlowBuffer=function(t){return+t!=t&&(t=0),c.alloc(+t)},e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=i(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,n){return a(null,t,e,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,n){return function(t,e,n,r){return u(e),e<=0?l(t,e):void 0!==n?"string"==typeof r?l(t,e).fill(n,r):l(t,e).fill(n):l(t,e)}(null,t,e,n)},c.allocUnsafe=function(t){return h(null,t)},c.allocUnsafeSlow=function(t){return h(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,s=0,o=Math.min(n,r);s<o;++s)if(t[s]!==e[s]){n=t[s],r=e[s];break}return n<r?-1:r<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=c.allocUnsafe(e),s=0;for(n=0;n<t.length;++n){var i=t[n];if(!c.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,s),s+=i.length}return r},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)p(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)p(this,e,e+3),p(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)p(this,e,e+7),p(this,e+1,e+6),p(this,e+2,e+5),p(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?E(this,0,t):function(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return T(this,e,n);case"utf8":case"utf-8":return E(this,e,n);case"ascii":return C(this,e,n);case"latin1":case"binary":return R(this,e,n);case"base64":return k(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,n,r,s){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===s&&(s=this.length),e<0||n>t.length||r<0||s>this.length)throw new RangeError("out of range index");if(r>=s&&e>=n)return 0;if(r>=s)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(s>>>=0)-(r>>>=0),i=(n>>>=0)-(e>>>=0),l=Math.min(o,i),a=this.slice(r,s),u=t.slice(e,n),h=0;h<l;++h)if(a[h]!==u[h]){o=a[h],i=u[h];break}return o<i?-1:i<o?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return w(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return w(this,t,e,n,!1)},c.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var s=this.length-e;if((void 0===n||n>s)&&(n=s),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return y(this,t,e,n);case"utf8":case"utf-8":return b(this,t,e,n);case"ascii":return _(this,t,e,n);case"latin1":case"binary":return v(this,t,e,n);case"base64":return S(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},c.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=c.prototype;else{var s=e-t;n=new c(s,void 0);for(var o=0;o<s;++o)n[o]=this[o+t]}return n},c.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||U(t,e,this.length);for(var r=this[t],s=1,o=0;++o<e&&(s*=256);)r+=this[t+o]*s;return r},c.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||U(t,e,this.length);for(var r=this[t+--e],s=1;e>0&&(s*=256);)r+=this[t+--e]*s;return r},c.prototype.readUInt8=function(t,e){return e||U(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||U(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||U(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||U(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||U(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||U(t,e,this.length);for(var r=this[t],s=1,o=0;++o<e&&(s*=256);)r+=this[t+o]*s;return r>=(s*=128)&&(r-=Math.pow(2,8*e)),r},c.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||U(t,e,this.length);for(var r=e,s=1,o=this[t+--r];r>0&&(s*=256);)o+=this[t+--r]*s;return o>=(s*=128)&&(o-=Math.pow(2,8*e)),o},c.prototype.readInt8=function(t,e){return e||U(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||U(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){e||U(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return e||U(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||U(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||U(t,4,this.length),s.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||U(t,4,this.length),s.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||U(t,8,this.length),s.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||U(t,8,this.length),s.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,n,r){t=+t,e|=0,n|=0,r||M(this,t,e,n,Math.pow(2,8*n)-1,0);var s=1,o=0;for(this[e]=255&t;++o<n&&(s*=256);)this[e+o]=t/s&255;return e+n},c.prototype.writeUIntBE=function(t,e,n,r){t=+t,e|=0,n|=0,r||M(this,t,e,n,Math.pow(2,8*n)-1,0);var s=n-1,o=1;for(this[e+s]=255&t;--s>=0&&(o*=256);)this[e+s]=t/o&255;return e+n},c.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):O(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):O(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var s=Math.pow(2,8*n-1);M(this,t,e,n,s-1,-s)}var o=0,i=1,l=0;for(this[e]=255&t;++o<n&&(i*=256);)t<0&&0===l&&0!==this[e+o-1]&&(l=1),this[e+o]=(t/i>>0)-l&255;return e+n},c.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var s=Math.pow(2,8*n-1);M(this,t,e,n,s-1,-s)}var o=n-1,i=1,l=0;for(this[e+o]=255&t;--o>=0&&(i*=256);)t<0&&0===l&&0!==this[e+o+1]&&(l=1),this[e+o]=(t/i>>0)-l&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):O(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):O(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,n){return L(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return L(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return P(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return P(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var s,o=r-n;if(this===t&&n<e&&e<r)for(s=o-1;s>=0;--s)t[s+e]=this[s+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(s=0;s<o;++s)t[s+e]=this[s+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},c.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var s=t.charCodeAt(0);s<256&&(t=s)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var i=c.isBuffer(t)?t:Y(new c(t,r).toString()),l=i.length;for(o=0;o<n-e;++o)this[o+e]=i[o%l]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function D(t){return t<16?"0"+t.toString(16):t.toString(16)}function Y(t,e){var n;e=e||1/0;for(var r=t.length,s=null,o=[],i=0;i<r;++i){if((n=t.charCodeAt(i))>55295&&n<57344){if(!s){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(i+1===r){(e-=3)>-1&&o.push(239,191,189);continue}s=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),s=n;continue}n=65536+(s-55296<<10|n-56320)}else s&&(e-=3)>-1&&o.push(239,191,189);if(s=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function j(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(B,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function F(t,e,n,r){for(var s=0;s<r&&!(s+n>=e.length||s>=t.length);++s)e[s+n]=t[s];return s}}).call(this,n(15))},function(t,e){var n,r,s=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function l(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(t){r=i}}();var c,a=[],u=!1,h=-1;function f(){u&&c&&(u=!1,c.length?a=c.concat(a):h=-1,a.length&&d())}function d(){if(!u){var t=l(f);u=!0;for(var e=a.length;e;){for(c=a,a=[];++h<e;)c&&c[h].run();h=-1,e=a.length}c=null,u=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function g(t,e){this.fun=t,this.array=e}function p(){}s.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];a.push(new g(t,e)),1!==a.length||u||l(d)},g.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=p,s.addListener=p,s.once=p,s.off=p,s.removeListener=p,s.removeAllListeners=p,s.emit=p,s.prependListener=p,s.prependOnceListener=p,s.listeners=function(t){return[]},s.binding=function(t){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(t){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(t,e,n){"use strict";n.d(e,"a",function(){return s});let r=new class{constructor(){this.map=new Map}setItem(t,e){this.map.set(t,e)}getItem(t){return this.map.get(t)}};try{"undefined"!=typeof localStorage&&(r=localStorage)}catch(t){}const s=r},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";e.byteLength=function(t){var e=a(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=a(t),i=r[0],l=r[1],c=new o(3*(i+l)/4-l),u=0,h=l>0?i-4:i;for(n=0;n<h;n+=4)e=s[t.charCodeAt(n)]<<18|s[t.charCodeAt(n+1)]<<12|s[t.charCodeAt(n+2)]<<6|s[t.charCodeAt(n+3)],c[u++]=e>>16&255,c[u++]=e>>8&255,c[u++]=255&e;return 2===l&&(e=s[t.charCodeAt(n)]<<2|s[t.charCodeAt(n+1)]>>4,c[u++]=255&e),1===l&&(e=s[t.charCodeAt(n)]<<10|s[t.charCodeAt(n+1)]<<4|s[t.charCodeAt(n+2)]>>2,c[u++]=e>>8&255,c[u++]=255&e),c},e.fromByteArray=function(t){for(var e,n=t.length,s=n%3,o=[],i=0,l=n-s;i<l;i+=16383)o.push(u(t,i,i+16383>l?l:i+16383));return 1===s?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===s&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),o.join("")};for(var r=[],s=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,c=i.length;l<c;++l)r[l]=i[l],s[i.charCodeAt(l)]=l;function a(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function u(t,e,n){for(var s,o,i=[],l=e;l<n;l+=3)s=(t[l]<<16&16711680)+(t[l+1]<<8&65280)+(255&t[l+2]),i.push(r[(o=s)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return i.join("")}s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,s){var o,i,l=8*s-r-1,c=(1<<l)-1,a=c>>1,u=-7,h=n?s-1:0,f=n?-1:1,d=t[e+h];for(h+=f,o=d&(1<<-u)-1,d>>=-u,u+=l;u>0;o=256*o+t[e+h],h+=f,u-=8);for(i=o&(1<<-u)-1,o>>=-u,u+=r;u>0;i=256*i+t[e+h],h+=f,u-=8);if(0===o)o=1-a;else{if(o===c)return i?NaN:1/0*(d?-1:1);i+=Math.pow(2,r),o-=a}return(d?-1:1)*i*Math.pow(2,o-r)},e.write=function(t,e,n,r,s,o){var i,l,c,a=8*o-s-1,u=(1<<a)-1,h=u>>1,f=23===s?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,g=r?1:-1,p=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,i=u):(i=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-i))<1&&(i--,c*=2),(e+=i+h>=1?f/c:f*Math.pow(2,1-h))*c>=2&&(i++,c/=2),i+h>=u?(l=0,i=u):i+h>=1?(l=(e*c-1)*Math.pow(2,s),i+=h):(l=e*Math.pow(2,h-1)*Math.pow(2,s),i=0));s>=8;t[n+d]=255&l,d+=g,l/=256,s-=8);for(i=i<<s|l,a+=s;a>0;t[n+d]=255&i,d+=g,i/=256,a-=8);t[n+d-g]|=128*p}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";n.r(e),n.d(e,"CoCreateYSocket",function(){return Rn});const r=t=>t[t.length-1],s=Array.from,o=Math.floor,i=(Math.ceil,Math.abs,Math.imul,Math.round,Math.log10),l=(Math.log2,Math.log,Math.sqrt,(t,e)=>t<e?t:e),c=(t,e)=>t>e?t:e;Number.isNaN,Math.pow;var a=n(0),u=n(1);Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER;const h=Number.isInteger||(t=>"number"==typeof t&&isFinite(t)&&o(t)===t);Number.isNaN;var f=n(3);const d=()=>new class{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}},g=t=>{let e=t.cpos;for(let n=0;n<t.bufs.length;n++)e+=t.bufs[n].length;return e},p=t=>{const e=new Uint8Array(g(t));let n=0;for(let r=0;r<t.bufs.length;r++){const s=t.bufs[r];e.set(s,n),n+=s.length}return e.set(u.c(t.cbuf.buffer,0,t.cpos),n),e},w=(t,e)=>{const n=t.cbuf.length;t.cpos===n&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(2*n),t.cpos=0),t.cbuf[t.cpos++]=e},m=w,y=(t,e)=>{for(;e>127;)w(t,128|127&e),e>>>=7;w(t,127&e)},b=(t,e)=>_(t,f.b(e)),_=(t,e)=>{y(t,e.byteLength),((t,e)=>{const n=t.cbuf.length,r=t.cpos,s=l(n-r,e.length),o=e.length-s;t.cbuf.set(e.subarray(0,s),r),t.cpos+=s,o>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(c(2*n,o)),t.cbuf.set(e.subarray(s)),t.cpos=o)})(t,e)},v=(t,e)=>{((t,e)=>{const n=t.cbuf.length;n-t.cpos<e&&(t.bufs.push(u.c(t.cbuf.buffer,0,t.cpos)),t.cbuf=new Uint8Array(2*c(n,e)),t.cpos=0)})(t,e);const n=new DataView(t.cbuf.buffer,t.cpos,e);return t.cpos+=e,n},S=new DataView(new ArrayBuffer(4)),A=(t,e)=>{switch(typeof e){case"string":w(t,119),b(t,e);break;case"number":h(e)&&e<=2147483647?(w(t,125),((t,e)=>{let n=!1;for(e<0&&(e=-e,n=!0),w(t,(e>63?128:0)|(n?64:0)|63&e),e>>>=6;e>0;)w(t,(e>127?128:0)|127&e),e>>>=7})(t,e)):(n=e,S.setFloat32(0,n),S.getFloat32(0)===n?(w(t,124),((t,e)=>{v(t,4).setFloat32(0,e)})(t,e)):(w(t,123),((t,e)=>{v(t,8).setFloat64(0,e)})(t,e)));break;case"bigint":w(t,122),((t,e)=>{v(t,8).setBigInt64(0,e)})(t,e);break;case"object":if(null===e)w(t,126);else if(e instanceof Array){w(t,117),y(t,e.length);for(let n=0;n<e.length;n++)A(t,e[n])}else if(e instanceof Uint8Array)w(t,116),_(t,e);else{w(t,118);const n=Object.keys(e);y(t,n.length);for(let r=0;r<n.length;r++){const s=n[r];b(t,s),A(t,e[s])}}break;case"boolean":w(t,e?120:121);break;default:w(t,127)}var n};const k=t=>new class{constructor(t){this.arr=t,this.pos=0}}(t),E=t=>((t,e)=>{const n=u.c(t.arr.buffer,t.pos+t.arr.byteOffset,e);return t.pos+=e,n})(t,R(t)),C=t=>t.arr[t.pos++],R=t=>{let e=0,n=0;for(;;){const r=t.arr[t.pos++];if(e|=(127&r)<<n,n+=7,r<128)return e>>>0;if(n>35)throw new Error("Integer out of range!")}},T=t=>f.a(E(t)),x=(t,e)=>{const n=new DataView(t.arr.buffer,t.arr.byteOffset+t.pos,e);return t.pos+=e,n},U=[t=>{},t=>null,t=>{let e=t.arr[t.pos++],n=63&e,r=6;const s=(64&e)>0?-1:1;if(0==(128&e))return s*n;for(;;){if(n|=(127&(e=t.arr[t.pos++]))<<r,r+=7,e<128)return s*n;if(r>41)throw new Error("Integer out of range!")}},t=>x(t,4).getFloat32(0),t=>x(t,8).getFloat64(0),t=>x(t,8).getBigInt64(0),t=>!1,t=>!0,T,t=>{const e=R(t),n={};for(let r=0;r<e;r++)n[T(t)]=M(t);return n},t=>{const e=R(t),n=[];for(let r=0;r<e;r++)n.push(M(t));return n},E],M=t=>U[127-C(t)](t),I=()=>new Set;class O{constructor(){this._observers=a.b()}on(t,e){a.c(this._observers,t,I).add(e)}once(t,e){this.on(t,(...n)=>{this.off(t,e),e(...n)})}off(t,e){const n=this._observers.get(t);void 0!==n&&(n.delete(e),0===n.size&&this._observers.delete(t))}emit(t,e){return s((this._observers.get(t)||a.b()).values()).forEach(t=>t(...e))}destroy(){this._observers=a.b()}}var N=n(11),L=n.n(N);L.a.performance;const P=L.a.cryptoRandomBuffer,B=(Math.random,()=>new Uint32Array(P(4))[0]),D=(t,e,n=0)=>{try{for(;n<t.length;n++)t[n](...e)}finally{n<t.length&&D(t,e,n+1)}},Y=t=>new Error(t),j=()=>{throw Y("Method unimplemented")},F=()=>{throw Y("Unexpected case")},J=Date.now,$=t=>({[Symbol.iterator](){return this},next:t}),z=(t,e)=>$(()=>{const{done:n,value:r}=t.next();return{done:n,value:n?void 0:e(r)}}),W=(Object.assign,Object.keys),H=t=>W(t).length;class q{constructor(t,e){this.clock=t,this.len=e}}class V{constructor(){this.clients=new Map}}const X=(t,e)=>{const n=t.clients.get(e.client);return void 0!==n&&null!==((t,e)=>{let n=0,r=t.length-1;for(;n<=r;){const s=o((n+r)/2),i=t[s],l=i.clock;if(l<=e){if(e<l+i.len)return s;n=s+1}else r=s-1}return null})(n,e.clock)},G=t=>{t.clients.forEach(t=>{let e,n;for(t.sort((t,e)=>t.clock-e.clock),e=1,n=1;e<t.length;e++){const r=t[n-1],s=t[e];r.clock+r.len===s.clock?r.len+=s.len:(n<e&&(t[n]=s),n++)}t.length=n})},K=(t,e,n)=>{Object(a.c)(t.clients,e.client,()=>[]).push(new q(e.clock,n))},Z=()=>new V,Q=(t,e)=>{y(t,e.clients.size),e.clients.forEach((e,n)=>{y(t,n);const r=e.length;y(t,r);for(let n=0;n<r;n++){const r=e[n];y(t,r.clock),y(t,r.len)}})},tt=(t,e,n)=>{const r=new V,s=R(t);for(let o=0;o<s;o++){const s=R(t),o=R(t),i=n.clients.get(s)||[],l=kt(n,s);for(let n=0;n<o;n++){const n=R(t),o=R(t);if(n<l){l<n+o&&K(r,ft(s,l),n+o-l);let t=Ct(i,n),c=i[t];for(!c.deleted&&c.id.clock<n&&(i.splice(t+1,0,Ye(e,c,n-c.id.clock)),t++);t<i.length&&(c=i[t++]).id.clock<n+o;)c.deleted||(n+o<c.id.clock+c.length&&i.splice(t,0,Ye(e,c,n+o-c.id.clock)),c.delete(e))}else K(r,ft(s,n),o)}}if(r.clients.size>0){const t=d();Q(t,r),n.pendingDeleteReaders.push(k(p(t)))}},et=(t,e,n)=>{const r=[];for(let s=0;s<e;s++){const e=C(t),s=0==(31&e)?new ve(t,n,e):new Je(t,n,e);n=ft(n.client,n.clock+s.length),r.push(s)}return r},nt=(t,e,n)=>{const r=new Map;n.forEach((t,n)=>{kt(e,n)>t&&r.set(n,t)}),At(e).forEach((t,e)=>{n.has(e)||r.set(e,0)}),y(t,r.size),r.forEach((n,r)=>{((t,e,n,r)=>{const s=Ct(e,r);y(t,e.length-s),dt(t,ft(n,r));const o=e[s];o.write(t,r-o.id.clock,0);for(let n=s+1;n<e.length;n++)e[n].write(t,0,0)})(t,e.clients.get(r),r,n)})},rt=(t,e,n)=>((t,e,n)=>Nt(e,n=>{((t,e,n)=>{((t,e)=>{const n=t.pendingClientsStructRefs;for(const[t,r]of e){const e=n.get(t);if(void 0===e)n.set(t,{refs:r,i:0});else{const t=e.i>0?e.refs.slice(e.i):e.refs;for(let e=0;e<r.length;e++)t.push(r[e]);e.i=0,e.refs=t.sort((t,e)=>t.id.clock-e.id.clock)}}})(n,(t=>{const e=new Map,n=R(t);for(let r=0;r<n;r++){const n=R(t),r=gt(t),s=et(t,n,r);e.set(r.client,s)}return e})(t)),((t,e)=>{const n=e.pendingStack,r=e.pendingClientsStructRefs;for(;0!==n.length||0!==r.size;){if(0===n.length){const[t,e]=r.entries().next().value;n.push(e.refs[e.i++]),e.refs.length===e.i&&r.delete(t)}const s=n[n.length-1],o=s._missing,i=s.id.client,l=kt(e,i),c=s.id.clock<l?l-s.id.clock:0;if(s.id.clock+c!==l){const t=r.get(i);if(void 0!==t){const e=t.refs[t.i];if(e.id.clock<s.id.clock){t.refs[t.i]=s,n[n.length-1]=e,t.refs=t.refs.slice(t.i).sort((t,e)=>t.id.clock-e.id.clock),t.i=0;continue}}return}for(;o.length>0;){const t=o[o.length-1];if(kt(e,t.client)<=t.clock){const e=t.client,s=r.get(e);if(void 0===s)return;n.push(s.refs[s.i++]),s.i===s.refs.length&&r.delete(e);break}s._missing.pop()}0===o.length&&(c<s.length&&s.toStruct(t,e,c).integrate(t),n.pop())}})(e,n),((t,e)=>{const n=e.pendingDeleteReaders;e.pendingDeleteReaders=[];for(let r=0;r<n.length;r++)tt(n[r],t,e)})(e,n)})(t,n,e.store),tt(t,n,e.store)},n,!1))(k(e),t,n),st=(t,e)=>{const n=d();return((t,e,n=new Map)=>{nt(t,e.store,n),Q(t,(t=>{const e=Z();return t.clients.forEach((t,n)=>{const r=[];for(let e=0;e<t.length;e++){const n=t[e];if(n.deleted){const s=n.id.clock;let o=n.length;if(e+1<t.length)for(let n=t[e+1];e+1<t.length&&n.id.clock===s+o&&n.deleted;n=t[++e+1])o+=n.length;r.push(new q(s,o))}}r.length>0&&e.clients.set(n,r)}),e})(e.store))})(n,t,null==e?new Map:ot(e)),p(n)},ot=t=>(t=>{const e=new Map,n=R(t);for(let r=0;r<n;r++){const n=R(t),r=R(t);e.set(n,r)}return e})(k(t)),it=t=>{const e=d();return((t,e)=>{((t,e)=>(y(t,e.size),e.forEach((e,n)=>{y(t,n),y(t,e)}),t))(t,At(e.store))})(e,t),p(e)};const lt=()=>new class{constructor(){this.l=[]}},ct=(t,e)=>t.l.push(e),at=(t,e)=>{t.l=t.l.filter(t=>e!==t)},ut=(t,e,n)=>D(t.l,[e,n]);const ht=(t,e)=>t===e||null!==t&&null!==e&&t.client===e.client&&t.clock===e.clock,ft=(t,e)=>new class{constructor(t,e){this.client=t,this.clock=e}}(t,e),dt=(t,e)=>{y(t,e.client),y(t,e.clock)},gt=t=>ft(R(t),R(t)),pt=t=>{for(const[e,n]of t.doc.share)if(n===t)return e;throw F()};class wt{constructor(t,e,n){this.type=t,this.tname=e,this.item=n}}const mt=t=>new wt(null==t.type?null:ft(t.type.client,t.type.clock),t.tname||null,null==t.item?null:ft(t.item.client,t.item.clock));const yt=(t,e)=>{let n=null,r=null;return null===t._item?r=pt(t):n=t._item.id,new wt(n,r,e)},bt=(t,e)=>{let n=t._start;for(;null!==n;){if(!n.deleted&&n.countable){if(n.length>e)return yt(t,ft(n.id.client,n.id.clock+e));e-=n.length}n=n.right}return yt(t,null)},_t=(t,e)=>{const n=e.store,r=t.item,s=t.type,o=t.tname;let i=null,l=0;if(null!==r){if(kt(n,r.client)<=r.clock)return null;const t=De(n,r),e=t.item;if(!(e instanceof je))return null;if(null===(i=e.parent)._item||!i._item.deleted){l=e.deleted||!e.countable?0:t.diff;let n=e.left;for(;null!==n;)!n.deleted&&n.countable&&(l+=n.length),n=n.left}}else{if(null!==o)i=e.get(o);else{if(null===s)throw F();{if(kt(n,s.client)<=s.clock)return null;const{item:t}=De(n,s);if(!(t instanceof je&&t.content instanceof Be))return null;i=t.content.type}}l=i._length}return((t,e)=>new class{constructor(t,e){this.type=t,this.index=e}}(t,e))(i,l)};const vt=(((t,e)=>new class{constructor(t,e){this.ds=t,this.sv=e}}(t,e))(Z(),new Map),(t,e)=>void 0===e?!t.deleted:e.sv.has(t.id.client)&&(e.sv.get(t.id.client)||0)>t.id.clock&&!X(e.ds,t.id)),St=(t,e)=>{const n=Object(a.c)(t.meta,St,I),r=t.doc.store;n.has(e)||(e.sv.forEach((e,n)=>{e<kt(r,n)&&xt(t,ft(n,e))}),((t,e,n)=>e.clients.forEach((e,r)=>{const s=t.doc.store.clients.get(r);for(let r=0;r<e.length;r++){const o=e[r];Ut(t,s,o.clock,o.len,n)}}))(t,e.ds,t=>{}),n.add(e))};const At=t=>{const e=new Map;return t.clients.forEach((t,n)=>{const r=t[t.length-1];e.set(n,r.id.clock+r.length)}),e},kt=(t,e)=>{const n=t.clients.get(e);if(void 0===n)return 0;const r=n[n.length-1];return r.id.clock+r.length},Et=(t,e)=>{let n=t.clients.get(e.id.client);if(void 0===n)n=[],t.clients.set(e.id.client,n);else{const t=n[n.length-1];if(t.id.clock+t.length!==e.id.clock)throw F()}n.push(e)},Ct=(t,e)=>{let n=0,r=t.length-1;for(;n<=r;){const s=o((n+r)/2),i=t[s],l=i.id.clock;if(l<=e){if(e<l+i.length)return s;n=s+1}else r=s-1}throw F()},Rt=(t,e)=>((t,e)=>{const n=t.clients.get(e.client);return n[Ct(n,e.clock)]})(t,e),Tt=(t,e,n)=>{const r=Ct(e,n),s=e[r];return s.id.clock<n&&s instanceof je?(e.splice(r+1,0,Ye(t,s,n-s.id.clock)),r+1):r},xt=(t,e)=>{const n=t.doc.store.clients.get(e.client);return n[Tt(t,n,e.clock)]},Ut=(t,e,n,r,s)=>{if(0===r)return;const o=n+r;let i,l=Tt(t,e,n);do{o<(i=e[l++]).id.clock+i.length&&Tt(t,e,o),s(i)}while(l<e.length&&e[l].id.clock<o)};const Mt=t=>{const e=t.doc;return ft(e.clientID,kt(e.store,e.clientID))},It=(t,e)=>{const n=t[e-1],r=t[e];n.deleted===r.deleted&&n.constructor===r.constructor&&n.mergeWith(r)&&(t.splice(e,1),r instanceof je&&null!==r.parentSub&&r.parent._map.get(r.parentSub)===r&&r.parent._map.set(r.parentSub,n))},Ot=(t,e)=>{if(e<t.length){const n=t[e],r=n.doc,s=r.store,o=n.deleteSet;try{G(o),n.afterState=At(n.doc.store),r._transaction=null,r.emit("beforeObserverCalls",[n,r]);const i=[];n.changed.forEach((t,e)=>i.push(()=>{null!==e._item&&e._item.deleted||e._callObserver(n,t)})),i.push(()=>{n.changedParentTypes.forEach((t,e)=>i.push(()=>{null!==e._item&&e._item.deleted||((t=t.filter(t=>null===t.target._item||!t.target._item.deleted)).forEach(t=>{t.currentTarget=e}),ut(e._dEH,t,n))})),i.push(()=>r.emit("afterTransaction",[n,r]))}),D(i,[])}finally{r.gc&&((t,e,n)=>{for(const[r,s]of t.clients){const t=e.clients.get(r);for(let r=s.length-1;r>=0;r--){const o=s[r],i=o.clock+o.len;for(let r=Ct(t,o.clock),s=t[r];r<t.length&&s.id.clock<i;s=t[++r]){const s=t[r];if(o.clock+o.len<=s.id.clock)break;s instanceof je&&s.deleted&&!s.keep&&n(s)&&s.gc(e,!1)}}}})(o,s,r.gcFilter),((t,e)=>{for(const[n,r]of t.clients){const t=e.clients.get(n);for(let e=r.length-1;e>=0;e--){const n=r[e];for(let e=l(t.length-1,1+Ct(t,n.clock+n.len-1)),r=t[e];e>0&&r.id.clock>=n.clock;r=t[--e])It(t,e)}}})(o,s);for(const[t,e]of n.afterState){const r=n.beforeState.get(t)||0;if(r!==e){const e=s.clients.get(t),n=c(Ct(e,r),1);for(let t=e.length-1;t>=n;t--)It(e,t)}}for(const t of n._mergeStructs){const e=t.client,n=t.clock,r=s.clients.get(e),o=Ct(r,n);o+1<r.length&&It(r,o+1),o>0&&It(r,o)}if(r.emit("afterTransactionCleanup",[n,r]),r._observers.has("update")){const t=(t=>{if(0===t.deleteSet.clients.size&&!Object(a.a)(t.afterState,(e,n)=>t.beforeState.get(n)!==e))return null;const e=d();return G(t.deleteSet),((t,e)=>{nt(t,e.doc.store,e.beforeState)})(e,t),Q(e,t.deleteSet),e})(n);null!==t&&r.emit("update",[p(t),n.origin,r])}t.length<=e+1?r._transactionCleanups=[]:Ot(t,e+1)}}},Nt=(t,e,n=null,r=!0)=>{const s=t._transactionCleanups;let o=!1;null===t._transaction&&(o=!0,t._transaction=new class{constructor(t,e,n){this.doc=t,this.deleteSet=new V,this.beforeState=At(t.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=new Set,this.origin=e,this.meta=new Map,this.local=n}}(t,n,r),s.push(t._transaction),t.emit("beforeTransaction",[t._transaction,t]));try{e(t._transaction)}finally{o&&s[0]===t._transaction&&Ot(s,0)}};class Lt{constructor(t,e){this.target=t,this.currentTarget=t,this.transaction=e,this._changes=null}get path(){return Pt(this.currentTarget,this.target)}deletes(t){return X(this.transaction.deleteSet,t.id)}adds(t){return t.id.clock>=(this.transaction.beforeState.get(t.id.client)||0)}get changes(){let t=this._changes;if(null===t){const e=this.target,n=I(),s=I(),o=[],i=new Map;t={added:n,deleted:s,delta:o,keys:i};const l=this.transaction.changed.get(e);if(l.has(null)){let t=null;const r=()=>{t&&o.push(t)};for(let o=e._start;null!==o;o=o.right)o.deleted?this.deletes(o)&&!this.adds(o)&&(null!==t&&void 0!==t.delete||(r(),t={delete:0}),t.delete+=o.length,s.add(o)):this.adds(o)?(null!==t&&void 0!==t.insert||(r(),t={insert:[]}),t.insert=t.insert.concat(o.content.getContent()),n.add(o)):(null!==t&&void 0!==t.retain||(r(),t={retain:0}),t.retain+=o.length);null!==t&&void 0===t.retain&&r()}l.forEach(t=>{if(null!==t){const n=e._map.get(t);let s,o;if(this.adds(n)){let t=n.left;for(;null!==t&&this.adds(t);)t=t.left;if(this.deletes(n)){if(null===t||!this.deletes(t))return;s="delete",o=r(t.content.getContent())}else null!==t&&this.deletes(t)?(s="update",o=r(t.content.getContent())):(s="add",o=void 0)}else{if(!this.deletes(n))return;s="delete",o=r(n.content.getContent())}i.set(t,{action:s,oldValue:o})}}),this._changes=t}return t}}const Pt=(t,e)=>{const n=[];for(;null!==e._item&&e!==t;){if(null!==e._item.parentSub)n.unshift(e._item.parentSub);else{let t=0,r=e._item.parent._start;for(;r!==e._item&&null!==r;)r.deleted||t++,r=r.right;n.unshift(t)}e=e._item.parent}return n},Bt=(t,e,n)=>{const r=t,s=e.changedParentTypes;for(;Object(a.c)(s,t,()=>[]).push(n),null!==t._item;)t=t._item.parent;ut(r._eH,n,e)};class Dt{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=lt(),this._dEH=lt()}_integrate(t,e){this.doc=t,this._item=e}_copy(){throw j()}_write(t){}get _first(){let t=this._start;for(;null!==t&&t.deleted;)t=t.right;return t}_callObserver(t,e){}observe(t){ct(this._eH,t)}observeDeep(t){ct(this._dEH,t)}unobserve(t){at(this._eH,t)}unobserveDeep(t){at(this._dEH,t)}toJSON(){}}const Yt=t=>{const e=[];let n=t._start;for(;null!==n;){if(n.countable&&!n.deleted){const t=n.content.getContent();for(let n=0;n<t.length;n++)e.push(t[n])}n=n.right}return e},jt=(t,e)=>{let n=0,r=t._start;for(;null!==r;){if(r.countable&&!r.deleted){const s=r.content.getContent();for(let r=0;r<s.length;r++)e(s[r],n++,t)}r=r.right}},Ft=(t,e)=>{const n=[];return jt(t,(r,s)=>{n.push(e(r,s,t))}),n},Jt=t=>{let e=t._start,n=null,r=0;return{[Symbol.iterator](){return this},next:()=>{if(null===n){for(;null!==e&&e.deleted;)e=e.right;if(null===e)return{done:!0,value:void 0};n=e.content.getContent(),r=0,e=e.right}const t=n[r++];return n.length<=r&&(n=null),{done:!1,value:t}}}},$t=(t,e,n,r)=>{let s=n;const o=null===n?e._start:n.right;let i=[];const l=()=>{i.length>0&&((s=new je(Mt(t),s,null===s?null:s.lastId,o,null===o?null:o.id,e,null,new Re(i))).integrate(t),i=[])};r.forEach(n=>{switch(n.constructor){case Number:case Object:case Boolean:case Array:case String:i.push(n);break;default:switch(l(),n.constructor){case Uint8Array:case ArrayBuffer:(s=new je(Mt(t),s,null===s?null:s.lastId,o,null===o?null:o.id,e,null,new Se(new Uint8Array(n)))).integrate(t);break;default:if(!(n instanceof Dt))throw new Error("Unexpected content type in insert operation");(s=new je(Mt(t),s,null===s?null:s.lastId,o,null===o?null:o.id,e,null,new Be(n))).integrate(t)}}}),l()},zt=(t,e,n,r)=>{if(0===n)return $t(t,e,null,r);let s=e._start;for(;null!==s;s=s.right)if(!s.deleted&&s.countable){if(n<=s.length){n<s.length&&xt(t,ft(s.id.client,s.id.clock+n));break}n-=s.length}return $t(t,e,s,r)},Wt=(t,e,n,r)=>{if(0===r)return;let s=e._start;for(;null!==s&&n>0;s=s.right)!s.deleted&&s.countable&&(n<s.length&&xt(t,ft(s.id.client,s.id.clock+n)),n-=s.length);for(;r>0&&null!==s;)s.deleted||(r<s.length&&xt(t,ft(s.id.client,s.id.clock+r)),s.delete(t),r-=s.length),s=s.right;if(r>0)throw Y("array length exceeded")},Ht=(t,e,n)=>{const r=e._map.get(n);void 0!==r&&r.delete(t)},qt=(t,e,n,r)=>{const s=e._map.get(n)||null;let o;if(null==r)o=new Re([r]);else switch(r.constructor){case Number:case Object:case Boolean:case Array:case String:o=new Re([r]);break;case Uint8Array:o=new Se(r);break;default:if(!(r instanceof Dt))throw new Error("Unexpected content type");o=new Be(r)}new je(Mt(t),s,null===s?null:s.lastId,null,null,e,n,o).integrate(t)},Vt=(t,e)=>{const n=t._map.get(e);return void 0===n||n.deleted?void 0:n.content.getContent()[n.length-1]},Xt=t=>{return e=t.entries(),n=(t=>!t[1].deleted),$(()=>{let t;do{t=e.next()}while(!t.done&&!n(t.value));return t});var e,n};class Gt extends Lt{constructor(t,e){super(t,e),this._transaction=e}}class Kt extends Dt{constructor(){super(),this._prelimContent=[]}_integrate(t,e){super._integrate(t,e),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Kt}get length(){return null===this._prelimContent?this._length:this._prelimContent.length}_callObserver(t,e){Bt(this,t,new Gt(this,t))}insert(t,e){null!==this.doc?Nt(this.doc,n=>{zt(n,this,t,e)}):this._prelimContent.splice(t,0,...e)}push(t){this.insert(this.length,t)}delete(t,e=1){null!==this.doc?Nt(this.doc,n=>{Wt(n,this,t,e)}):this._prelimContent.splice(t,e)}get(t){return((t,e)=>{for(let t=this._start;null!==t;t=t.right)if(!t.deleted&&t.countable){if(e<t.length)return t.content.getContent()[e];e-=t.length}})(0,t)}toArray(){return Yt(this)}toJSON(){return this.map(t=>t instanceof Dt?t.toJSON():t)}map(t){return Ft(this,t)}forEach(t){jt(this,t)}[Symbol.iterator](){return Jt(this)}_write(t){y(t,Ue)}}class Zt extends Lt{constructor(t,e,n){super(t,e),this.keysChanged=n}}class Qt extends Dt{constructor(){super(),this._prelimContent=new Map}_integrate(t,e){super._integrate(t,e);for(const[t,e]of this._prelimContent)this.set(t,e);this._prelimContent=null}_copy(){return new Qt}_callObserver(t,e){Bt(this,t,new Zt(this,t,e))}toJSON(){const t={};for(const[e,n]of this._map)if(!n.deleted){const r=n.content.getContent()[n.length-1];t[e]=r instanceof Dt?r.toJSON():r}return t}keys(){return z(Xt(this._map),t=>t[0])}values(){return z(Xt(this._map),t=>t[1].content.getContent()[t[1].length-1])}entries(){return z(Xt(this._map),t=>[t[0],t[1].content.getContent()[t[1].length-1]])}forEach(t){for(const[e,n]of this._map)n.deleted||t(n.content.getContent()[n.length-1],e,this);return{}}[Symbol.iterator](){return this.entries()}delete(t){null!==this.doc?Nt(this.doc,e=>{Ht(e,this,t)}):this._prelimContent.delete(t)}set(t,e){return null!==this.doc?Nt(this.doc,n=>{qt(n,this,t,e)}):this._prelimContent.set(t,e),e}get(t){return Vt(this,t)}has(t){return((t,e)=>{const n=this._map.get(e);return void 0!==n&&!n.deleted})(0,t)}_write(t){y(t,Me)}}const te=(t,e)=>t===e||"object"==typeof t&&"object"==typeof e&&t&&e&&((t,e)=>t===e||H(t)===H(e)&&((t,e)=>{for(const n in t)if(!e(t[n],n))return!1;return!0})(t,(t,n)=>(void 0!==t||((t,e)=>Object.prototype.hasOwnProperty.call(t,e))(e,n))&&e[n]===t))(t,e);class ee{constructor(t,e){this.left=t,this.right=e}}const ne=(t,e,n)=>((t,e,n,r,s)=>{for(;null!==r&&s>0;){switch(r.content.constructor){case ke:case Te:r.deleted||(s<r.length&&xt(t,ft(r.id.client,r.id.clock+s)),s-=r.length);break;case Ee:r.deleted||se(e,r.content)}n=r,r=r.right}return new class extends ee{constructor(t,e,n){super(t,e),this.currentAttributes=n}}(n,r,e)})(t,new Map,null,e._start,n),re=(t,e,n,r,s)=>{for(;null!==r&&(!0===r.deleted||r.content.constructor===Ee&&te(s.get(r.content.key),r.content.value));)r.deleted||s.delete(r.content.key),n=r,r=r.right;for(const[o,i]of s)(n=new je(Mt(t),n,null===n?null:n.lastId,r,null===r?null:r.id,e,null,new Ee(o,i))).integrate(t);return{left:n,right:r}},se=(t,e)=>{const{key:n,value:r}=e;null===r?t.delete(n):t.set(n,r)},oe=(t,e,n,r)=>{for(;null!==e;){if(e.deleted);else{if(e.content.constructor!==Ee||!te(r[e.content.key]||null,e.content.value))break;se(n,e.content)}t=e,e=e.right}return new ee(t,e)},ie=(t,e,n,r,s,o)=>{const i=new Map;for(const l in o){const c=o[l],a=s.get(l)||null;te(a,c)||(i.set(l,a),(n=new je(Mt(t),n,null===n?null:n.lastId,r,null===r?null:r.id,e,null,new Ee(l,c))).integrate(t))}return new class extends ee{constructor(t,e,n){super(t,e),this.negatedAttributes=n}}(n,r,i)},le=(t,e,n,r,s,o,i)=>{for(const[t]of s)void 0===i[t]&&(i[t]=null);const l=oe(n,r,s,i),c=ie(t,e,l.left,l.right,s,i);n=c.left,r=c.right;const a=o.constructor===String?new Te(o):new ke(o);return(n=new je(Mt(t),n,null===n?null:n.lastId,r,null===r?null:r.id,e,null,a)).integrate(t),re(t,e,n,c.right,c.negatedAttributes)},ce=(t,e,n,r,s,o,i)=>{const l=oe(n,r,s,i),c=ie(t,e,l.left,l.right,s,i),a=c.negatedAttributes;for(n=c.left,r=c.right;o>0&&null!==r;){if(!r.deleted)switch(r.content.constructor){case Ee:{const{key:e,value:n}=r.content,o=i[e];void 0!==o&&(te(o,n)?a.delete(e):a.set(e,n),r.delete(t)),se(s,r.content);break}case ke:case Te:o<r.length&&xt(t,ft(r.id.client,r.id.clock+o)),o-=r.length}n=r,r=r.right}if(o>0){let s="";for(;o>0;o--)s+="\n";(n=new je(Mt(t),n,null===n?null:n.lastId,r,null===r?null:r.id,e,null,new Te(s))).integrate(t)}return re(t,e,n,r,a)},ae=(t,e,n,r,s)=>{for(;s>0&&null!==n;){if(!1===n.deleted)switch(n.content.constructor){case Ee:se(r,n.content);break;case ke:case Te:s<n.length&&xt(t,ft(n.id.client,n.id.clock+s)),s-=n.length,n.delete(t)}e=n,n=n.right}return{left:e,right:n}};class ue extends Lt{constructor(t,e){super(t,e),this._delta=null}get delta(){if(null===this._delta){const t=this.target.doc;this._delta=[],Nt(t,t=>{const e=this._delta,n=new Map,r=new Map;let s=this.target._start,o=null;const i={};let l="",c=0,a=0;const u=()=>{if(null!==o){let t;switch(o){case"delete":t={delete:a},a=0;break;case"insert":if(t={insert:l},n.size>0){t.attributes={};for(const[e,r]of n)null!==r&&(t.attributes[e]=r)}l="";break;case"retain":if(t={retain:c},Object.keys(i).length>0){t.attributes={};for(const e in i)t.attributes[e]=i[e]}c=0}e.push(t),o=null}};for(;null!==s;){switch(s.content.constructor){case ke:this.adds(s)?this.deletes(s)||(u(),o="insert",l=s.content.embed,u()):this.deletes(s)?("delete"!==o&&(u(),o="delete"),a+=1):s.deleted||("retain"!==o&&(u(),o="retain"),c+=1);break;case Te:this.adds(s)?this.deletes(s)||("insert"!==o&&(u(),o="insert"),l+=s.content.str):this.deletes(s)?("delete"!==o&&(u(),o="delete"),a+=s.length):s.deleted||("retain"!==o&&(u(),o="retain"),c+=s.length);break;case Ee:{const{key:e,value:l}=s.content;if(this.adds(s)){if(!this.deletes(s)){const c=n.get(e)||null;te(c,l)?s.delete(t):("retain"===o&&u(),te(l,r.get(e)||null)?delete i[e]:i[e]=l)}}else if(this.deletes(s)){r.set(e,l);const t=n.get(e)||null;te(t,l)||("retain"===o&&u(),i[e]=t)}else if(!s.deleted){r.set(e,l);const n=i[e];void 0!==n&&(te(n,l)?s.delete(t):("retain"===o&&u(),null===l?i[e]=l:delete i[e]))}s.deleted||("insert"===o&&u(),se(n,s.content));break}}s=s.right}for(u();e.length>0;){const t=e[e.length-1];if(void 0===t.retain||void 0!==t.attributes)break;e.pop()}})}return this._delta}}class he extends Dt{constructor(t){super(),this._pending=void 0!==t?[()=>this.insert(0,t)]:[]}get length(){return this._length}_integrate(t,e){super._integrate(t,e);try{this._pending.forEach(t=>t())}catch(t){console.error(t)}this._pending=null}_copy(){return new he}_callObserver(t,e){Bt(this,t,new ue(this,t))}toString(){let t="",e=this._start;for(;null!==e;)!e.deleted&&e.countable&&e.content.constructor===Te&&(t+=e.content.str),e=e.right;return t}toJSON(){return this.toString()}applyDelta(t){null!==this.doc?Nt(this.doc,e=>{let n=new ee(null,this._start);const r=new Map;for(let s=0;s<t.length;s++){const o=t[s];if(void 0!==o.insert){const i="string"==typeof o.insert&&s===t.length-1&&null===n.right&&"\n"===o.insert.slice(-1)?o.insert.slice(0,-1):o.insert;("string"!=typeof i||i.length>0)&&(n=le(e,this,n.left,n.right,r,i,o.attributes||{}))}else void 0!==o.retain?n=ce(e,this,n.left,n.right,r,o.retain,o.attributes||{}):void 0!==o.delete&&(n=ae(e,n.left,n.right,r,o.delete))}}):this._pending.push(()=>this.applyDelta(t))}toDelta(t,e,n){const r=[],s=new Map,o=this.doc;let i="",l=this._start;function c(){if(i.length>0){const t={};let e=!1;for(const[n,r]of s)e=!0,t[n]=r;const n={insert:i};e&&(n.attributes=t),r.push(n),i=""}}return Nt(o,o=>{for(t&&St(o,t),e&&St(o,e);null!==l;){if(vt(l,t)||void 0!==e&&vt(l,e))switch(l.content.constructor){case Te:{const r=s.get("ychange");void 0===t||vt(l,t)?void 0===e||vt(l,e)?void 0!==r&&(c(),s.delete("ychange")):void 0!==r&&r.user===l.id.client&&"added"===r.state||(c(),s.set("ychange",n?n("added",l.id):{type:"added"})):void 0!==r&&r.user===l.id.client&&"removed"===r.state||(c(),s.set("ychange",n?n("removed",l.id):{type:"removed"})),i+=l.content.str;break}case ke:c(),r.push({insert:l.content.embed});break;case Ee:vt(l,t)&&(c(),se(s,l.content))}l=l.right}c()},St),r}insert(t,e,n){if(e.length<=0)return;const r=this.doc;null!==r?Nt(r,r=>{const{left:s,right:o,currentAttributes:i}=ne(r,this,t);n||(n={},i.forEach((t,e)=>{n[e]=t})),le(r,this,s,o,i,e,n)}):this._pending.push(()=>this.insert(t,e,n))}insertEmbed(t,e,n={}){if(e.constructor!==Object)throw new Error("Embed must be an Object");const r=this.doc;null!==r?Nt(r,r=>{const{left:s,right:o,currentAttributes:i}=ne(r,this,t);le(r,this,s,o,i,e,n)}):this._pending.push(()=>this.insertEmbed(t,e,n))}delete(t,e){if(0===e)return;const n=this.doc;null!==n?Nt(n,n=>{const{left:r,right:s,currentAttributes:o}=ne(n,this,t);ae(n,r,s,o,e)}):this._pending.push(()=>this.delete(t,e))}format(t,e,n){const r=this.doc;null!==r?Nt(r,r=>{const{left:s,right:o,currentAttributes:i}=ne(r,this,t);null!==o&&ce(r,this,s,o,i,e,n)}):this._pending.push(()=>this.format(t,e,n))}_write(t){y(t,Ie)}}class fe{constructor(t,e=(()=>!0)){this._filter=e,this._root=t,this._currentNode=t._start,this._firstCall=!0}[Symbol.iterator](){return this}next(){let t=this._currentNode,e=t.content.type;if(null!==t&&(!this._firstCall||t.deleted||!this._filter(e)))do{if(e=t.content.type,t.deleted||e.constructor!==ge&&e.constructor!==de||null===e._start)for(;null!==t;){if(null!==t.right){t=t.right;break}t=t.parent===this._root?null:t.parent._item}else t=e._start}while(null!==t&&(t.deleted||!this._filter(t.content.type)));return this._firstCall=!1,null===t?{value:void 0,done:!0}:(this._currentNode=t,{value:t.content.type,done:!1})}}class de extends Dt{constructor(){super(),this._prelimContent=[]}_integrate(t,e){super._integrate(t,e),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new de}get length(){return null===this._prelimContent?this._length:this._prelimContent.length}createTreeWalker(t){return new fe(this,t)}querySelector(t){t=t.toUpperCase();const e=new fe(this,e=>e.nodeName&&e.nodeName.toUpperCase()===t).next();return e.done?null:e.value}querySelectorAll(t){return t=t.toUpperCase(),Array.from(new fe(this,e=>e.nodeName&&e.nodeName.toUpperCase()===t))}_callObserver(t,e){Bt(this,t,new pe(this,e,t))}toString(){return Ft(this,t=>t.toString()).join("")}toJSON(){return this.toString()}toDOM(t=document,e={},n){const r=t.createDocumentFragment();return void 0!==n&&n._createAssociation(r,this),jt(this,s=>{r.insertBefore(s.toDOM(t,e,n),null)}),r}insert(t,e){null!==this.doc?Nt(this.doc,n=>{zt(n,this,t,e)}):this._prelimContent.splice(t,0,...e)}delete(t,e=1){null!==this.doc?Nt(this.doc,n=>{Wt(n,this,t,e)}):this._prelimContent.splice(t,e)}toArray(){return Yt(this)}_write(t){y(t,Ne)}}class ge extends de{constructor(t="UNDEFINED"){super(),this.nodeName=t,this._prelimAttrs=new Map}_integrate(t,e){super._integrate(t,e),this._prelimAttrs.forEach((t,e)=>{this.setAttribute(e,t)}),this._prelimAttrs=null}_copy(){return new ge(this.nodeName)}toString(){const t=this.getAttributes(),e=[],n=[];for(const e in t)n.push(e);n.sort();const r=n.length;for(let s=0;s<r;s++){const r=n[s];e.push(r+'="'+t[r]+'"')}const s=this.nodeName.toLocaleLowerCase();return`<${s}${e.length>0?" "+e.join(" "):""}>${super.toString()}</${s}>`}removeAttribute(t){null!==this.doc?Nt(this.doc,e=>{Ht(e,this,t)}):this._prelimAttrs.delete(t)}setAttribute(t,e){null!==this.doc?Nt(this.doc,n=>{qt(n,this,t,e)}):this._prelimAttrs.set(t,e)}getAttribute(t){return Vt(this,t)}getAttributes(t){return(t=>{const e={};for(const[n,r]of t._map)r.deleted||(e[n]=r.content.getContent()[r.length-1]);return e})(this)}toDOM(t=document,e={},n){const r=t.createElement(this.nodeName),s=this.getAttributes();for(const t in s)r.setAttribute(t,s[t]);return jt(this,s=>{r.appendChild(s.toDOM(t,e,n))}),void 0!==n&&n._createAssociation(r,this),r}_write(t){y(t,Oe),b(t,this.nodeName)}}class pe extends Lt{constructor(t,e,n){super(t,n),this.childListChanged=!1,this.attributesChanged=new Set,e.forEach(t=>{null===t?this.childListChanged=!0:this.attributesChanged.add(t)})}}class we extends Qt{constructor(t){super(),this.hookName=t}_copy(){return new we(this.hookName)}toDOM(t=document,e={},n){const r=e[this.hookName];let s;return(s=void 0!==r?r.createDom(this):document.createElement(this.hookName)).setAttribute("data-yjs-hook",this.hookName),void 0!==n&&n._createAssociation(s,this),s}_write(t){super._write(t),y(t,Le),b(t,this.hookName)}}class me extends he{_copy(){return new me}toDOM(t=document,e,n){const r=t.createTextNode(this.toString());return void 0!==n&&n._createAssociation(r,this),r}toString(){return this.toDelta().map(t=>{const e=[];for(const n in t.attributes){const r=[];for(const e in t.attributes[n])r.push({key:e,value:t.attributes[n][e]});r.sort((t,e)=>t.key<e.key?-1:1),e.push({nodeName:n,attrs:r})}e.sort((t,e)=>t.nodeName<e.nodeName?-1:1);let n="";for(let t=0;t<e.length;t++){const r=e[t];n+=`<${r.nodeName}`;for(let t=0;t<r.attrs.length;t++){const e=r.attrs[t];n+=` ${e.key}="${e.value}"`}n+=">"}n+=t.insert;for(let t=e.length-1;t>=0;t--)n+=`</${e[t].nodeName}>`;return n}).join("")}toJSON(){return this.toString()}_write(t){y(t,Pe)}}class ye{constructor(t,e){this.id=t,this.length=e,this.deleted=!1}mergeWith(t){return!1}write(t,e,n){throw j()}integrate(t){throw j()}}class be{constructor(t){this._missing=[],this.id=t}getMissing(t){return this._missing}toStruct(t,e,n){throw j()}}class _e extends ye{constructor(t,e){super(t,e),this.deleted=!0}delete(){}mergeWith(t){return this.length+=t.length,!0}integrate(t){Et(t.doc.store,this)}write(t,e){m(t,0),y(t,this.length-e)}}class ve extends be{constructor(t,e,n){super(e),this.length=R(t)}toStruct(t,e,n){return n>0&&(this.id=ft(this.id.client,this.id.clock+n),this.length-=n),new _e(this.id,this.length)}}class Se{constructor(t){this.content=t}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new Se(this.content)}splice(t){throw j()}mergeWith(t){return!1}integrate(t,e){}delete(t){}gc(t){}write(t,e){_(t,this.content)}getRef(){return 3}}class Ae{constructor(t){this.len=t}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new Ae(this.len)}splice(t){const e=new Ae(this.len-t);return this.len=t,e}mergeWith(t){return this.len+=t.len,!0}integrate(t,e){K(t.deleteSet,e.id,this.len),e.deleted=!0}delete(t){}gc(t){}write(t,e){y(t,this.len-e)}getRef(){return 1}}class ke{constructor(t){this.embed=t}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new ke(this.embed)}splice(t){throw j()}mergeWith(t){return!1}integrate(t,e){}delete(t){}gc(t){}write(t,e){b(t,JSON.stringify(this.embed))}getRef(){return 5}}class Ee{constructor(t,e){this.key=t,this.value=e}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new Ee(this.key,this.value)}splice(t){throw j()}mergeWith(t){return!1}integrate(t,e){}delete(t){}gc(t){}write(t,e){b(t,this.key),b(t,JSON.stringify(this.value))}getRef(){return 6}}class Ce{constructor(t){this.arr=t}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Ce(this.arr)}splice(t){const e=new Ce(this.arr.slice(t));return this.arr=this.arr.slice(0,t),e}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,e){}delete(t){}gc(t){}write(t,e){const n=this.arr.length;y(t,n-e);for(let r=e;r<n;r++){const e=this.arr[r];b(t,void 0===e?"undefined":JSON.stringify(e))}}getRef(){return 2}}class Re{constructor(t){this.arr=t}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Re(this.arr)}splice(t){const e=new Re(this.arr.slice(t));return this.arr=this.arr.slice(0,t),e}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,e){}delete(t){}gc(t){}write(t,e){const n=this.arr.length;y(t,n-e);for(let r=e;r<n;r++){const e=this.arr[r];A(t,e)}}getRef(){return 8}}class Te{constructor(t){this.str=t}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new Te(this.str)}splice(t){const e=new Te(this.str.slice(t));return this.str=this.str.slice(0,t),e}mergeWith(t){return this.str+=t.str,!0}integrate(t,e){}delete(t){}gc(t){}write(t,e){b(t,0===e?this.str:this.str.slice(e))}getRef(){return 4}}const xe=[t=>new Kt,t=>new Qt,t=>new he,t=>new ge(T(t)),t=>new de,t=>new we(T(t)),t=>new me],Ue=0,Me=1,Ie=2,Oe=3,Ne=4,Le=5,Pe=6;class Be{constructor(t){this.type=t}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new Be(this.type._copy())}splice(t){throw j()}mergeWith(t){return!1}integrate(t,e){this.type._integrate(t.doc,e)}delete(t){let e=this.type._start;for(;null!==e;)e.deleted?t._mergeStructs.add(e.id):e.delete(t),e=e.right;this.type._map.forEach(e=>{e.deleted?t._mergeStructs.add(e.id):e.delete(t)}),t.changed.delete(this.type)}gc(t){let e=this.type._start;for(;null!==e;)e.gc(t,!0),e=e.right;this.type._start=null,this.type._map.forEach(e=>{for(;null!==e;)e.gc(t,!0),e=e.left}),this.type._map=new Map}write(t,e){this.type._write(t)}getRef(){return 7}}const De=(t,e)=>{let n,r=e,s=0;do{s>0&&(r=ft(r.client,r.clock+s)),n=Rt(t,r),s=r.clock-n.id.clock,r=n.redone}while(null!==r&&n instanceof je);return{item:n,diff:s}},Ye=(t,e,n)=>{const r=e.id,s=new je(ft(r.client,r.clock+n),e,ft(r.client,r.clock+n-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(n));return e.deleted&&(s.deleted=!0),e.keep&&(s.keep=!0),null!==e.redone&&(s.redone=ft(e.redone.client,e.redone.clock+n)),e.right=s,null!==s.right&&(s.right.left=s),t._mergeStructs.add(s.id),null!==s.parentSub&&null===s.right&&s.parent._map.set(s.parentSub,s),e.length=n,s};class je extends ye{constructor(t,e,n,r,s,o,i,l){super(t,l.getLength()),this.origin=n,this.left=e,this.right=r,this.rightOrigin=s,this.parent=o,this.parentSub=i,this.deleted=!1,this.redone=null,this.content=l,this.length=l.getLength(),this.countable=l.isCountable(),this.keep=!1}integrate(t){const e=t.doc.store,n=this.id,r=this.parent,s=this.parentSub,o=this.length;let i;if(null!==this.left)i=this.left.right;else if(null!==s)for(i=r._map.get(s)||null;null!==i&&null!==i.left;)i=i.left;else i=r._start;const l=new Set,c=new Set;for(;null!==i&&i!==this.right;){if(c.add(i),l.add(i),ht(this.origin,i.origin))i.id.client<n.client&&(this.left=i,l.clear());else{if(null===i.origin||!c.has(Rt(e,i.origin)))break;null!==i.origin&&l.has(Rt(e,i.origin))||(this.left=i,l.clear())}i=i.right}if(null!==this.left){const t=this.left.right;this.right=t,this.left.right=this}else{let t;if(null!==s)for(t=r._map.get(s)||null;null!==t&&null!==t.left;)t=t.left;else t=r._start,r._start=this;this.right=t}null!==this.right?this.right.left=this:null!==s&&(r._map.set(s,this),null!==this.left&&this.left.delete(t)),null===s&&this.countable&&!this.deleted&&(r._length+=o),Et(e,this),this.content.integrate(t,this),((t,e,n)=>{const r=e._item;(null===r||r.id.clock<(t.beforeState.get(r.id.client)||0)&&!r.deleted)&&Object(a.c)(t.changed,e,I).add(n)})(t,r,s),(null!==r._item&&r._item.deleted||null!==this.right&&null!==s)&&this.delete(t)}get next(){let t=this.right;for(;null!==t&&t.deleted;)t=t.right;return t}get prev(){let t=this.left;for(;null!==t&&t.deleted;)t=t.left;return t}get lastId(){return ft(this.id.client,this.id.clock+this.length-1)}mergeWith(t){return!!(ht(t.origin,this.lastId)&&this.right===t&&ht(this.rightOrigin,t.rightOrigin)&&this.id.client===t.id.client&&this.id.clock+this.length===t.id.clock&&this.deleted===t.deleted&&null===this.redone&&null===t.redone&&this.content.constructor===t.content.constructor&&this.content.mergeWith(t.content))&&(t.keep&&(this.keep=!0),this.right=t.right,null!==this.right&&(this.right.left=this),this.length+=t.length,!0)}delete(t){if(!this.deleted){const e=this.parent;this.countable&&null===this.parentSub&&(e._length-=this.length),this.deleted=!0,K(t.deleteSet,this.id,this.length),Object(a.c)(t.changed,e,I).add(this.parentSub),this.content.delete(t)}}gc(t,e){if(!this.deleted)throw F();this.content.gc(t),e?((t,e,n)=>{const r=t.clients.get(e.id.client);r[Ct(r,e.id.clock)]=n})(t,this,new _e(this.id,this.length)):this.content=new Ae(this.length)}write(t,e){const n=e>0?ft(this.id.client,this.id.clock+e-1):this.origin,r=this.rightOrigin,s=this.parentSub,o=31&this.content.getRef()|(null===n?0:128)|(null===r?0:64)|(null===s?0:32);if(m(t,o),null!==n&&dt(t,n),null!==r&&dt(t,r),null===n&&null===r){const e=this.parent;if(null===e._item){const n=pt(e);y(t,1),b(t,n)}else y(t,0),dt(t,e._item.id);null!==s&&b(t,s)}this.content.write(t,e)}}const Fe=[()=>{throw F()},t=>new Ae(R(t)),t=>{const e=R(t),n=[];for(let r=0;r<e;r++){const e=T(t);"undefined"===e?n.push(void 0):n.push(JSON.parse(e))}return new Ce(n)},t=>new Se(Object(u.a)(E(t))),t=>new Te(T(t)),t=>new ke(JSON.parse(T(t))),t=>new Ee(T(t),JSON.parse(T(t))),t=>new Be(xe[R(t)](t)),t=>{const e=R(t),n=[];for(let r=0;r<e;r++)n.push(M(t));return new Re(n)}];class Je extends be{constructor(t,e,n){super(e),this.left=128==(128&n)?gt(t):null,this.right=64==(64&n)?gt(t):null;const r=0==(192&n),s=!!r&&1===R(t);this.parentYKey=r&&s?T(t):null,this.parent=r&&!s?gt(t):null,this.parentSub=r&&32==(32&n)?T(t):null;const o=this._missing;null!==this.left&&o.push(this.left),null!==this.right&&o.push(this.right),null!==this.parent&&o.push(this.parent),this.content=((t,e)=>Fe[31&e](t))(t,n),this.length=this.content.getLength()}toStruct(t,e,n){if(n>0){const t=this.id;this.id=ft(t.client,t.clock+n),this.left=ft(this.id.client,this.id.clock-1),this.content=this.content.splice(n),this.length-=n}const r=null===this.left?null:((t,e,n)=>{const r=e.clients.get(n.client),s=Ct(r,n.clock),o=r[s];return n.clock!==o.id.clock+o.length-1&&o.constructor!==_e&&r.splice(s+1,0,Ye(t,o,n.clock-o.id.clock+1)),o})(t,e,this.left),s=null===this.right?null:xt(t,this.right);let o=null,i=this.parentSub;if(null!==this.parent){const t=Rt(e,this.parent);t.deleted||null!==r&&r.constructor===_e||null!==s&&s.constructor===_e||(o=t.content.type)}else if(null!==this.parentYKey)o=t.doc.get(this.parentYKey);else if(null!==r)r.constructor!==_e&&(o=r.parent,i=r.parentSub);else{if(null===s)throw F();s.constructor!==_e&&(o=s.parent,i=s.parentSub)}return null===o?new _e(this.id,this.length):new je(this.id,r,this.left,s,this.right,o,i,this.content)}}var $e=n(6);const ze=new Map,We="undefined"==typeof BroadcastChannel?class{constructor(t){this.room=t,this.onmessage=null,addEventListener("storage",e=>e.key===t&&null!==this.onmessage&&this.onmessage({data:u.d(e.newValue||"")}))}postMessage(t){$e.a.setItem(this.room,u.e(u.b(t)))}}:BroadcastChannel,He=t=>a.c(ze,t,()=>{const e=new Set,n=new We(t);return n.onmessage=(t=>e.forEach(e=>e(t.data))),{bc:n,subs:e}}),qe=(t,e)=>{const n=He(t);n.bc.postMessage(e),n.subs.forEach(t=>t(e))};var Ve=n(5);const Xe=Math.floor,Ge=(Math.ceil,Math.abs,Math.imul,Math.round,Math.log10,Math.log2,Math.log,Math.sqrt,(t,e)=>t>e?t:e);Number.isNaN,Math.pow,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.isInteger,Number.isNaN;var Ke=n(2);const Ze=(t,e)=>{const n=t.cbuf.length;t.cpos===n&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(2*n),t.cpos=0),t.cbuf[t.cpos++]=e},Qe=(t,e)=>{for(;e>127;)Ze(t,128|127&e),e>>>=7;Ze(t,127&e)},tn=(t,e)=>en(t,Ke.b(e)),en=(t,e)=>{Qe(t,e.byteLength),((t,e)=>{const n=t.cbuf.length,r=t.cpos,s=(o=n-r)<(i=e.length)?o:i;var o,i;const l=e.length-s;t.cbuf.set(e.subarray(0,s),r),t.cpos+=s,l>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(Ge(2*n,l)),t.cbuf.set(e.subarray(s)),t.cpos=l)})(t,e)};new DataView(new ArrayBuffer(4));const nn=t=>new class{constructor(t){this.arr=t,this.pos=0}}(t),rn=t=>((t,e)=>{const n=Ve.a(t.arr.buffer,t.pos+t.arr.byteOffset,e);return t.pos+=e,n})(t,sn(t)),sn=t=>{let e=0,n=0;for(;;){const r=t.arr[t.pos++];if(e|=(127&r)<<n,n+=7,r<128)return e>>>0;if(n>35)throw new Error("Integer out of range!")}},on=t=>Ke.a(rn(t)),ln=(t,e)=>{Qe(t,0);const n=it(e);en(t,n)},cn=(t,e,n)=>{Qe(t,1),en(t,st(e,n))},an=(t,e,n)=>{rt(e,rn(t),n)},un=an,hn=Date.now;var fn=n(4);const dn=()=>new Set,gn=Array.from;class pn extends class{constructor(){this._observers=fn.a()}on(t,e){fn.b(this._observers,t,dn).add(e)}once(t,e){this.on(t,(...n)=>{this.off(t,e),e(...n)})}off(t,e){const n=this._observers.get(t);void 0!==n&&(n.delete(e),0===n.size&&this._observers.delete(t))}emit(t,e){return gn((this._observers.get(t)||fn.a()).values()).forEach(t=>t(...e))}destroy(){this._observers=fn.a()}}{constructor(t){super(),this.doc=t,this.states=new Map,this.meta=new Map,this._checkInterval=setInterval(()=>{const e=hn();null!==this.getLocalState()&&15e3<=e-this.meta.get(t.clientID).lastUpdated&&this.setLocalState(this.getLocalState());const n=[];this.meta.forEach((r,s)=>{s!==t.clientID&&3e4<=e-r.lastUpdated&&this.states.has(s)&&n.push(s)}),n.length>0&&wn(this,n,"timeout")},Xe(3e3)),t.on("destroy",()=>{this.destroy()}),this.setLocalState({})}destroy(){clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.doc.clientID)||null}setLocalState(t){const e=this.doc.clientID,n=this.meta.get(e),r=void 0===n?0:n.clock+1;null===t?this.states.delete(e):this.states.set(e,t),this.meta.set(e,{clock:r,lastUpdated:hn()});const s=[],o=[],i=[];null===t?i.push(e):void 0===n?s.push(e):o.push(e),this.emit("change",[{added:s,updated:o,removed:i},"local"])}setLocalStateField(t,e){const n=this.getLocalState();null!==n&&(n[t]=e,this.setLocalState(n))}getStates(){return this.states}}const wn=(t,e,n)=>{const r=[];for(let n=0;n<e.length;n++){const s=e[n];if(t.states.has(s)){if(t.states.delete(s),s===t.doc.clientID){const e=t.meta.get(s);t.meta.set(s,{clock:e.clock+1,lastUpdated:hn()})}r.push(s)}}r.length>0&&t.emit("change",[{added:[],updated:[],removed:r},n])},mn=(t,e,n=t.states)=>{const r=e.length,s=new class{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}};Qe(s,r);for(let o=0;o<r;o++){const r=e[o],i=n.get(r)||null,l=t.meta.get(r).clock;Qe(s,r),Qe(s,l),tn(s,JSON.stringify(i))}return(t=>{const e=new Uint8Array((t=>{let e=t.cpos;for(let n=0;n<t.bufs.length;n++)e+=t.bufs[n].length;return e})(t));let n=0;for(let r=0;r<t.bufs.length;r++){const s=t.bufs[r];e.set(s,n),n+=s.length}return e.set(Ve.a(t.cbuf.buffer,0,t.cpos),n),e})(s)},yn=(t,e)=>console.warn(`Permission denied to access ${t.url}.\n${e}`),bn=(t,e,n)=>{const r=k(e),s=d();switch(R(r)){case 0:{y(s,0);const e=((t,e,n,r)=>{const s=sn(t);switch(s){case 0:((t,e,n)=>{cn(e,n,rn(t))})(t,e,n);break;case 1:an(t,n,r);break;case 2:un(t,n,r);break;default:throw new Error("Unknown message type")}return s})(r,s,t.doc,t);n&&1===e&&!t.synced&&(t.synced=!0);break}case 3:y(s,1),_(s,mn(t.awareness,Array.from(t.awareness.getStates().keys())));break;case 1:((t,e,n)=>{const r=nn(e),s=hn(),o=[],i=[],l=[],c=sn(r);for(let e=0;e<c;e++){const e=sn(r);let n=sn(r);const c=JSON.parse(on(r)),a=t.meta.get(e),u=void 0===a?0:a.clock;(u<n||u===n&&null===c&&t.states.has(e))&&(null===c?e===t.doc.clientID&&null!=t.getLocalState()?n++:t.states.delete(e):t.states.set(e,c),t.meta.set(e,{clock:n,lastUpdated:s}),void 0===a&&null!==c?o.push(e):void 0!==a&&null===c?l.push(e):null!==c&&i.push(e))}(o.length>0||i.length>0||l.length>0)&&t.emit("change",[{added:o,updated:i,removed:l},n])})(t.awareness,E(r),t);break;case 2:((t,e,n)=>{switch(sn(t)){case 0:n(e,on(t))}})(r,t.doc,yn);break;default:return console.error("Unable to compute message"),s}return s},_n=t=>{if(t.shouldConnect&&null===t.ws)try{const e=new WebSocket(t.url);e.binaryType="arraybuffer",t.ws=e,t.wsconnecting=!0,t.wsconnected=!1,t.synced=!1,e.onmessage=(n=>{t.wsLastMessageReceived=J();const r=bn(t,new Uint8Array(n.data),!0);g(r)>1&&e.send(p(r))}),e.onclose=(()=>{t.ws=null,t.wsconnecting=!1,t.wsconnected?(t.wsconnected=!1,t.synced=!1,wn(t.awareness,Array.from(t.awareness.getStates().keys()),t),t.emit("status",[{status:"disconnected"}])):t.wsUnsuccessfulReconnects++,setTimeout(_n,l(1200*i(t.wsUnsuccessfulReconnects+1),2500),t)}),e.onopen=(()=>{t.wsLastMessageReceived=J(),t.wsconnecting=!1,t.wsconnected=!0,t.wsUnsuccessfulReconnects=0,t.emit("status",[{status:"connected"}]);const n=d();if(y(n,0),ln(n,t.doc),e.send(p(n)),null!==t.awareness.getLocalState()){const n=d();y(n,1),_(n,mn(t.awareness,[t.doc.clientID])),e.send(p(n))}}),e.onerror=(()=>{console.log("websocket connection fail")})}catch(t){console.log(t)}},vn=(t,e)=>{t.wsconnected&&t.ws.send(e),t.bcconnected&&t.mux(()=>{qe(t.url,e)})};class Sn extends O{constructor(t,e,n,{connect:r=!0,awareness:s=new pn(n),db:o=null,params:i={}}={}){for(super();"/"===t[t.length-1];)t=t.slice(0,t.length-1);const l=(t=>((t,e)=>{const n=[];for(const r in t)n.push(e(t[r],r));return n})(t,(t,e)=>`${encodeURIComponent(e)}=${encodeURIComponent(t)}`).join("&"))(i);this.bcChannel=t+"/"+e,this.url=t+"/"+e+(0===l.length?"":"?"+l),this.roomname=e,this.doc=n,this._localAwarenessState={},this.db=o,this.awareness=s,this.wsconnected=!1,this.wsconnecting=!1,this.bcconnected=!1,this.wsUnsuccessfulReconnects=0,this.mux=(()=>{let t=!0;return(e,n)=>{if(t){t=!1;try{e()}finally{t=!0}}else void 0!==n&&n()}})(),this._synced=!1,this.ws=null,this.wsLastMessageReceived=0,this.shouldConnect=r,this._bcSubscriber=(t=>{this.mux(()=>{const e=bn(this,new Uint8Array(t),!1);g(e)>1&&qe(this.bcChannel,p(e))})}),this._updateHandler=((t,e)=>{if(e!==this||null===e){const e=d();y(e,0),((t,e)=>{Qe(t,2),en(t,e)})(e,t),vn(this,p(e))}}),this.doc.on("update",this._updateHandler),this._awarenessUpdateHandler=(({added:t,updated:e,removed:n},r)=>{const o=t.concat(e).concat(n),i=d();y(i,1),_(i,mn(s,o)),vn(this,p(i))}),window.addEventListener("beforeunload",()=>{wn(this.awareness,[n.clientID],"window unload")}),s.on("change",this._awarenessUpdateHandler),this._checkInterval=setInterval(()=>{this.wsconnected&&3e4<J()-this.wsLastMessageReceived&&this.ws.close()},3e3),r&&this.connect()}get synced(){return this._synced}set synced(t){this._synced!==t&&(this._synced=t,this.emit("sync",[t]))}destroy(){clearInterval(this._checkInterval),this.disconnect(),this.awareness.off("change",this._awarenessUpdateHandler),this.doc.off("update",this._updateHandler),super.destroy()}connectBc(){var t,e;this.bcconnected||(t=this.bcChannel,e=this._bcSubscriber,He(t).subs.add(e),this.bcconnected=!0),this.mux(()=>{const t=d();y(t,0),ln(t,this.doc),qe(this.bcChannel,p(t));const e=d();y(e,0),cn(e,this.doc),qe(this.bcChannel,p(e));const n=d();y(n,3),qe(this.bcChannel,p(n));const r=d();y(r,1),_(r,mn(this.awareness,[this.doc.clientID])),qe(this.bcChannel,p(r))})}disconnectBc(){const t=d();var e,n;y(t,1),_(t,mn(this.awareness,[this.doc.clientID],new Map)),vn(this,p(t)),this.bcconnected&&(e=this.bcChannel,n=this._bcSubscriber,He(e).subs.delete(n),this.bcconnected=!1)}disconnect(){this.shouldConnect=!1,this.disconnectBc(),null!==this.ws&&this.ws.close()}connect(){this.shouldConnect=!0,this.wsconnected||null!==this.ws||(_n(this),this.connectBc())}}const An=[{color:"#30bced",light:"#30bced33"},{color:"#6eeb83",light:"#6eeb8333"},{color:"#ffbc42",light:"#ffbc4233"},{color:"#ecd444",light:"#ecd44433"},{color:"#ee6352",light:"#ee635233"},{color:"#9ac2c9",light:"#9ac2c933"},{color:"#8acb88",light:"#8acb8833"},{color:"#1be7ff",light:"#1be7ff33"}],kn=An[B()%An.length];class En{constructor(t){this.awareness=t.awareness,this.debug=!1,this.__init()}__init(){var t=localStorage.getItem("cursor_user");if(this.debug&&console.log(" INIT cursor_user = ",t),localStorage.getItem("user_id"),null==t){let t="User : "+this.generateUUID(4);localStorage.setItem("cursor_user",t),this.debug&&console.log("update name From __init__USERCURSORQUILL "+t),this.updateAwarenessFromLocalstorage()}addEventListener("storage",this.updateAwarenessFromLocalstorage),this.awareness.setLocalStateField("user",{name:localStorage.getItem("cursor_user")||"Anonymous",color:kn.color,colorLight:kn.light})}updateAwarenessFromLocalstorage(){const t=localStorage.getItem("cursor_user");this.debug&&console.log(" from localStorage ",t);const e=this.awareness.getLocalState();this.debug&&console.log(e),null!=e&&void 0===e.user.name&&this.awareness.setLocalStateField("user",{name:"Anonymous",color:kn.color,colorLight:kn.light}),null!=t&&null!==e&&t!==e.user.name&&this.awareness.setLocalStateField("user",{name:t||"Anonymous",color:kn.color,colorLight:kn.light})}generateUUID(t=null){var e=(new Date).getTime(),n=performance&&performance.now&&1e3*performance.now()||0,r="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var r=16*Math.random();return e>0?(r=(e+r)%16|0,e=Math.floor(e/16)):(r=(n+r)%16|0,n=Math.floor(n/16)),("x"==t?r:7&r|8).toString(16)});return null!=t&&(r=r.substr(0,t)),r}}const Cn=new class extends O{constructor({gc:t=!0,gcFilter:e=(()=>!0)}={}){super(),this.gc=t,this.gcFilter=e,this.clientID=B(),this.share=new Map,this.store=new class{constructor(){this.clients=new Map,this.pendingClientsStructRefs=new Map,this.pendingStack=[],this.pendingDeleteReaders=[]}},this._transaction=null,this._transactionCleanups=[]}transact(t,e=null){Nt(this,t,e)}get(t,e=Dt){const n=Object(a.c)(this.share,t,()=>{const t=new e;return t._integrate(this,null),t}),r=n.constructor;if(e!==Dt&&r!==e){if(r===Dt){const r=new e;r._map=n._map,n._map.forEach(t=>{for(;null!==t;t=t.left)t.parent=r}),r._start=n._start;for(let t=r._start;null!==t;t=t.right)t.parent=r;return r._length=n._length,this.share.set(t,r),r._integrate(this,null),r}throw new Error(`Type with the name ${t} has already been defined with a different constructor`)}return n}getArray(t){return this.get(t,Kt)}getText(t){return this.get(t,he)}getMap(t){return this.get(t,Qt)}getXmlFragment(t){return this.get(t,de)}destroy(){this.emit("destroyed",[!0]),super.destroy()}on(t,e){super.on(t,e)}off(t,e){super.off(t,e)}};class Rn{constructor(t){this.doc=Cn,this.orgName=t,this.docs={},this._awarenessListener=null,this.character="_",this.listenAwereness=function(){}}createDoc(t,e){if(!t||""==t)return null;if(this.docs[t])return e&&!this.__checkExistElement(this.docs[t].elements,e)&&this.docs[t].elements.push(e),!1;const n=Cn,r=`${"http:"===location.protocol?"ws:":"wss:"}//server.cocreate.app/crdt-websocket`;var s=new Sn(r,t,n);new En(s),this.docs[t]={id:t,doc:n,socket:s,elements:e?[e]:[]};let o=s.awareness,i=n.getText(t);this._cursors=new Map,this._awarenessListener=(e=>{const r=e=>{this.updateRemoteSelection(n,t,i,this._cursors,e,o)};e.added.forEach(r),e.removed.forEach(r),e.updated.forEach(r)}),o.on("change",this._awarenessListener);let l=this,c=this.docs[t];return i.observe(e=>{l.__setTypeObserveEvent(e,c.elements,t)}),!0}__checkExistElement(t,e){for(var n=0;n<t.length;n++)if(t[n].isSameNode(e))return!0;return!1}__setTypeObserveEvent(t,e,n){if(!n)return;const r=t.delta,s=JSON.parse(atob(n)),o=t.target.toString(),i=new CustomEvent("cocreate-y-update",{detail:r}),l=new CustomEvent("store-content-db",{detail:o});let c=!1;"object"==typeof s&&(e.forEach(t=>{CoCreateUtils.isReadValue(t)&&t.dispatchEvent(i)}),t.transaction.origin||(e.forEach(t=>{"false"!=t.getAttribute("data-save_value")&&(c=!0,t.dispatchEvent(l))}),c&&CoCreate.updateDocument({collection:s.collection,document_id:s.document_id,data:{[s.name]:o},metadata:"yjs-change"})))}deleteDoc(t){this.docs[t]&&delete this.docs[t]}generateDocName(t,e,n){const r={org:this.orgName,collection:t,document_id:e,name:n};return btoa(JSON.stringify(r))}insertData(t,e,n,r){this.docs[t]&&(r?this.docs[t].doc.getText(t).insert(e,n,r):this.docs[t].doc.getText(t).insert(e,n))}deleteData(t,e,n){this.docs[t]&&this.docs[t].doc.getText(t).delete(e,n)}getWholeString(t){return this.docs[t]?this.docs[t].doc.getText(t).toString():""}updateRemoteSelection(t,e,n,r,s,o){if(s!==this.doc.clientID){const e=r.get(s);void 0!==e&&(e.caret.clear(),null!==e.sel&&e.sel.clear(),r.delete(s));const i=o.getStates().get(s);if(void 0===i)return document.querySelectorAll('[id*="socket_'+s+'"]').forEach(function(t,e,n){t.parentNode.removeChild(t)}),void document.querySelectorAll('[id*="sel-'+s+'"]').forEach(function(t,e,n){t.parentNode.removeChild(t)});const l=i.user||{};null==l.color&&(l.color="#ffa500"),null==l.name&&(l.name=`User: ${s}`);const c=i.cursor;if(null==c||null==c.anchor||null==c.head)return document.querySelectorAll('[id*="socket_'+s+'"]').forEach(function(t,e,n){t.parentNode.removeChild(t)}),void document.querySelectorAll('[id*="sel-'+s+'"]').forEach(function(t,e,n){t.parentNode.removeChild(t)});const a=_t(mt(c.anchor),t),u=_t(mt(c.head),t);if(null!==a&&null!==u&&a.type===n&&u.type===n){let t,e;u.index<a.index?(t=u.index,e=a.index):(t=a.index,e=u.index);let n=Rn.parseTypeName(c.anchor.tname),r=(n.document_id,n.name,{}),o='[data-collection="'+n.collection+'"][data-document_id="'+n.document_id+'"][name="'+n.name+'"]';o+=":not(.codemirror):not(.quill)";let l=this;document.querySelectorAll(o).forEach(function(n,c,a){r={element:n,startPosition:t,selector:o,endPositon:e,clientId:s,user:{color:i.user.color,name:i.user.name}},draw_cursor(r),l.listen(r)})}}}changeListenAwereness(t){this.listenAwereness=t}listen(t){this.listenAwereness.apply(this,[t])}destroyObserver(t,e){this.docs[t].doc.getText(t).unobserve(t=>{}),this.docs[t].socket.awareness.off("change",this._awarenessListener)}getProvider(t){return this.docs[t]?this.docs[t].socket:null}getType(t){return this.docs[t]?this.docs[t].doc.getText(t):null}setCursorNull(t){if(!this.docs[t])return null;this.docs[t].socket.awareness.setLocalStateField("cursor",null)}setPositionYJS(t,e,n){const r=this.getType(t);if(r){var s=bt(r,e),o=bt(r,n);this.docs[t].socket.awareness.setLocalStateField("cursor",{anchor:s,head:o})}}sendPosition(t){let e=t.collection,n=t.document_id,r=t.name,s=t.startPosition,o=t.endPositon,i=Rn.generateID(config.organization_Id,e,n,r);this.setPositionYJS(i,s,o)}static generateID(t,e,n,r){const s={org:t,collection:e,document_id:n,name:r};return btoa(JSON.stringify(s))}static parseTypeName(t){return JSON.parse(atob(t))}}window.CoCreateYSocket=Rn,window.CoCreateCrdt=new Rn(config.organization_Id)}]);/* CoCreateJS */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.io=e():t.io=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t,e){"object"===(void 0===t?"undefined":o(t))&&(e=t,t=void 0),e=e||{};var n,r=i(t),s=r.source,u=r.id,h=r.path,f=p[u]&&h in p[u].nsps;return e.forceNew||e["force new connection"]||!1===e.multiplex||f?(c("ignoring socket cache for %s",s),n=a(s,e)):(p[u]||(c("new io instance for %s",s),p[u]=a(s,e)),n=p[u]),r.query&&!e.query&&(e.query=r.query),n.socket(r.path,e)}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(1),s=n(7),a=n(12),c=n(3)("socket.io-client");t.exports=e=r;var p=e.managers={};e.protocol=s.protocol,e.connect=r,e.Manager=n(12),e.Socket=n(36)},function(t,e,n){"use strict";var r=n(2),o=n(3)("socket.io-client:url");t.exports=function(t,e){var n=t;e=e||"undefined"!=typeof location&&location,null==t&&(t=e.protocol+"//"+e.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?e.protocol+t:e.host+t),/^(https?|wss?):\/\//.test(t)||(o("protocol-less url %s",t),t=void 0!==e?e.protocol+"//"+t:"https://"+t),o("parse %s",t),n=r(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";var i=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port,n.href=n.protocol+"://"+i+(e&&e.port===n.port?"":":"+n.port),n}},function(t,e){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var e=t,o=t.indexOf("["),i=t.indexOf("]");-1!=o&&-1!=i&&(t=t.substring(0,o)+t.substring(o,i).replace(/:/g,";")+t.substring(i,t.length));for(var s=n.exec(t||""),a={},c=14;c--;)a[r[c]]=s[c]||"";return-1!=o&&-1!=i&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},function(t,e,n){(function(r){function o(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==r&&"env"in r&&(t=r.env.DEBUG),t}(e=t.exports=n(5)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),n){var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var o=0,i=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&"%c"===t&&(i=++o)}),t.splice(i,0,r)}},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=o,e.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(o())}).call(e,n(4))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(p===setTimeout)return setTimeout(t,0);if((p===n||!p)&&setTimeout)return p=setTimeout,setTimeout(t,0);try{return p(t,0)}catch(e){try{return p.call(null,t,0)}catch(e){return p.call(this,t,0)}}}function i(){d&&f&&(d=!1,f.length?l=f.concat(l):y=-1,l.length&&s())}function s(){if(!d){var t=o(i);d=!0;for(var e=l.length;e;){for(f=l,l=[];++y<e;)f&&f[y].run();y=-1,e=l.length}f=null,d=!1,function(t){if(u===clearTimeout)return clearTimeout(t);if((u===r||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(t);try{u(t)}catch(e){try{return u.call(null,t)}catch(e){return u.call(this,t)}}}(t)}}function a(t,e){this.fun=t,this.array=e}function c(){}var p,u,h=t.exports={};!function(){try{p="function"==typeof setTimeout?setTimeout:n}catch(t){p=n}try{u="function"==typeof clearTimeout?clearTimeout:r}catch(t){u=r}}();var f,l=[],d=!1,y=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new a(t,e)),1!==l.length||d||o(s)},a.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.prependListener=c,h.prependOnceListener=c,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e,n){function r(t){function n(){if(n.enabled){var t=n,o=+new Date,i=o-(r||o);t.diff=i,t.prev=r,t.curr=o,r=o;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var c=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;c++;var o=e.formatters[r];if("function"==typeof o){var i=s[c];n=o.call(t,i),s.splice(c,1),c--}return n}),e.formatArgs.call(t,s),(n.log||e.log||console.log.bind(console)).apply(t,s)}}var r;return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=function(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}(t),n.destroy=o,"function"==typeof e.init&&e.init(n),e.instances.push(n),n}function o(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=r.debug=r.default=r).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){e.save(t),e.names=[],e.skips=[];var n,r=("string"==typeof t?t:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(t=r[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(n=0;n<e.instances.length;n++){var i=e.instances[n];i.enabled=e.enabled(i.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n(6),e.instances=[],e.names=[],e.skips=[],e.formatters={}},function(t,e){function n(t){return r(t,a,"day")||r(t,s,"hour")||r(t,i,"minute")||r(t,o,"second")||t+" ms"}function r(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var o=1e3,i=60*o,s=60*i,a=24*s,c=365.25*a;t.exports=function(t,e){e=e||{};var r=typeof t;if("string"===r&&t.length>0)return function(t){if(!((t=String(t)).length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*c;case"days":case"day":case"d":return n*a;case"hours":case"hour":case"hrs":case"hr":case"h":return n*s;case"minutes":case"minute":case"mins":case"min":case"m":return n*i;case"seconds":case"second":case"secs":case"sec":case"s":return n*o;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}(t);if("number"===r&&!1===isNaN(t))return e.long?n(t):function(t){return t>=a?Math.round(t/a)+"d":t>=s?Math.round(t/s)+"h":t>=i?Math.round(t/i)+"m":t>=o?Math.round(t/o)+"s":t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){function r(){}function o(t){var n=""+t.type;if(e.BINARY_EVENT!==t.type&&e.BINARY_ACK!==t.type||(n+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(n+=t.nsp+","),null!=t.id&&(n+=t.id),null!=t.data){var r=function(t){try{return JSON.stringify(t)}catch(t){return!1}}(t.data);if(!1===r)return d;n+=r}return p("encoded %j as %s",t,n),n}function i(){this.reconstructor=null}function s(t){var n=0,r={type:Number(t.charAt(0))};if(null==e.types[r.type])return c("unknown packet type "+r.type);if(e.BINARY_EVENT===r.type||e.BINARY_ACK===r.type){for(var o="";"-"!==t.charAt(++n)&&(o+=t.charAt(n),n!=t.length););if(o!=Number(o)||"-"!==t.charAt(n))throw new Error("Illegal attachments");r.attachments=Number(o)}if("/"===t.charAt(n+1))for(r.nsp="";++n;){if(","===(s=t.charAt(n)))break;if(r.nsp+=s,n===t.length)break}else r.nsp="/";var i=t.charAt(n+1);if(""!==i&&Number(i)==i){for(r.id="";++n;){var s;if(null==(s=t.charAt(n))||Number(s)!=s){--n;break}if(r.id+=t.charAt(n),n===t.length)break}r.id=Number(r.id)}if(t.charAt(++n)){var a=function(t){try{return JSON.parse(t)}catch(t){return!1}}(t.substr(n));if(!(!1!==a&&(r.type===e.ERROR||f(a))))return c("invalid payload");r.data=a}return p("decoded %s as %j",t,r),r}function a(t){this.reconPack=t,this.buffers=[]}function c(t){return{type:e.ERROR,data:"parser error: "+t}}var p=n(3)("socket.io-parser"),u=n(8),h=n(9),f=n(10),l=n(11);e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=r,e.Decoder=i;var d=e.ERROR+'"encode error"';r.prototype.encode=function(t,n){(p("encoding packet %j",t),e.BINARY_EVENT===t.type||e.BINARY_ACK===t.type)?function(t,e){h.removeBlobs(t,function(t){var n=h.deconstructPacket(t),r=o(n.packet),i=n.buffers;i.unshift(r),e(i)})}(t,n):n([o(t)])},u(i.prototype),i.prototype.add=function(t){var n;if("string"==typeof t)n=s(t),e.BINARY_EVENT===n.type||e.BINARY_ACK===n.type?(this.reconstructor=new a(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!l(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,this.emit("decoded",n))}},i.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},a.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=h.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},a.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(t,e,n){function r(t){if(t)return function(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}(t)}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r,o=0;o<n.length;o++)if((r=n[o])===e||r.fn===e){n.splice(o,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n)for(var r=0,o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,e);return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,n){var r=n(10),o=n(11),i=Object.prototype.toString,s="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===i.call(Blob),a="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===i.call(File);e.deconstructPacket=function(t){var e=[],n=t.data,i=t;return i.data=function t(e,n){if(!e)return e;if(o(e)){var i={_placeholder:!0,num:n.length};return n.push(e),i}if(r(e)){for(var s=new Array(e.length),a=0;a<e.length;a++)s[a]=t(e[a],n);return s}if("object"==typeof e&&!(e instanceof Date)){for(var c in s={},e)s[c]=t(e[c],n);return s}return e}(n,e),i.attachments=e.length,{packet:i,buffers:e}},e.reconstructPacket=function(t,e){return t.data=function t(e,n){if(!e)return e;if(e&&e._placeholder)return n[e.num];if(r(e))for(var o=0;o<e.length;o++)e[o]=t(e[o],n);else if("object"==typeof e)for(var i in e)e[i]=t(e[i],n);return e}(t.data,e),t.attachments=void 0,t},e.removeBlobs=function(t,e){var n=0,i=t;(function t(c,p,u){if(!c)return c;if(s&&c instanceof Blob||a&&c instanceof File){n++;var h=new FileReader;h.onload=function(){u?u[p]=this.result:i=this.result,--n||e(i)},h.readAsArrayBuffer(c)}else if(r(c))for(var f=0;f<c.length;f++)t(c[f],f,c);else if("object"==typeof c&&!o(c))for(var l in c)t(c[l],l,c)})(i),n||e(i)}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e){t.exports=function(t){return n&&Buffer.isBuffer(t)||r&&(t instanceof ArrayBuffer||o(t))};var n="function"==typeof Buffer&&"function"==typeof Buffer.isBuffer,r="function"==typeof ArrayBuffer,o=function(t){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer}},function(t,e,n){"use strict";function r(t,e){if(!(this instanceof r))return new r(t,e);t&&"object"===(void 0===t?"undefined":o(t))&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new l({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=e.parser||c;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==e.autoConnect,this.autoConnect&&this.open()}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(13),s=n(36),a=n(8),c=n(7),p=n(38),u=n(39),h=n(3)("socket.io-client:manager"),f=n(35),l=n(40),d=Object.prototype.hasOwnProperty;t.exports=r,r.prototype.emitAll=function(){for(var t in this.emit.apply(this,arguments),this.nsps)d.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},r.prototype.updateSocketIds=function(){for(var t in this.nsps)d.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))},r.prototype.generateId=function(t){return("/"===t?"":t+"#")+this.engine.id},a(r.prototype),r.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},r.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},r.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},r.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},r.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},r.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},r.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},r.prototype.open=r.prototype.connect=function(t,e){if(h("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;h("opening %s",this.uri),this.engine=i(this.uri,this.opts);var n=this.engine,r=this;this.readyState="opening",this.skipReconnect=!1;var o=p(n,"open",function(){r.onopen(),t&&t()}),s=p(n,"error",function(e){if(h("connect_error"),r.cleanup(),r.readyState="closed",r.emitAll("connect_error",e),t){var n=new Error("Connection error");n.data=e,t(n)}else r.maybeReconnectOnOpen()});if(!1!==this._timeout){var a=this._timeout;h("connect attempt will timeout after %d",a);var c=setTimeout(function(){h("connect attempt timed out after %d",a),o.destroy(),n.close(),n.emit("error","timeout"),r.emitAll("connect_timeout",a)},a);this.subs.push({destroy:function(){clearTimeout(c)}})}return this.subs.push(o),this.subs.push(s),this},r.prototype.onopen=function(){h("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(p(t,"data",u(this,"ondata"))),this.subs.push(p(t,"ping",u(this,"onping"))),this.subs.push(p(t,"pong",u(this,"onpong"))),this.subs.push(p(t,"error",u(this,"onerror"))),this.subs.push(p(t,"close",u(this,"onclose"))),this.subs.push(p(this.decoder,"decoded",u(this,"ondecoded")))},r.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},r.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},r.prototype.ondata=function(t){this.decoder.add(t)},r.prototype.ondecoded=function(t){this.emit("packet",t)},r.prototype.onerror=function(t){h("error",t),this.emitAll("error",t)},r.prototype.socket=function(t,e){function n(){~f(o.connecting,r)||o.connecting.push(r)}var r=this.nsps[t];if(!r){r=new s(this,t,e),this.nsps[t]=r;var o=this;r.on("connecting",n),r.on("connect",function(){r.id=o.generateId(t)}),this.autoConnect&&n()}return r},r.prototype.destroy=function(t){var e=f(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},r.prototype.packet=function(t){h("writing packet %j",t);var e=this;t.query&&0===t.type&&(t.nsp+="?"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(n){for(var r=0;r<n.length;r++)e.engine.write(n[r],t.options);e.encoding=!1,e.processPacketQueue()}))},r.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},r.prototype.cleanup=function(){h("cleanup");for(var t=this.subs.length,e=0;e<t;e++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},r.prototype.close=r.prototype.disconnect=function(){h("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},r.prototype.onclose=function(t){h("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},r.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)h("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();h("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var n=setTimeout(function(){t.skipReconnect||(h("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(h("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(h("reconnect success"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(n)}})}},r.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},function(t,e,n){t.exports=n(14),t.exports.parser=n(21)},function(t,e,n){function r(t,e){return this instanceof r?(e=e||{},t&&"object"==typeof t&&(e=t,t=null),t?(t=p(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=p(e.host).host),this.secure=null!=e.secure?e.secure:"undefined"!=typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.agent=e.agent||!1,this.hostname=e.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=e.query||{},"string"==typeof this.query&&(this.query=u.decode(this.query)),this.upgrade=!1!==e.upgrade,this.path=(e.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!e.forceJSONP,this.jsonp=!1!==e.jsonp,this.forceBase64=!!e.forceBase64,this.enablesXDR=!!e.enablesXDR,this.timestampParam=e.timestampParam||"t",this.timestampRequests=e.timestampRequests,this.transports=e.transports||["polling","websocket"],this.transportOptions=e.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=e.policyPort||843,this.rememberUpgrade=e.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=e.onlyBinaryUpgrades,this.perMessageDeflate=!1!==e.perMessageDeflate&&(e.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=e.pfx||null,this.key=e.key||null,this.passphrase=e.passphrase||null,this.cert=e.cert||null,this.ca=e.ca||null,this.ciphers=e.ciphers||null,this.rejectUnauthorized=void 0===e.rejectUnauthorized||e.rejectUnauthorized,this.forceNode=!!e.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(e.extraHeaders&&Object.keys(e.extraHeaders).length>0&&(this.extraHeaders=e.extraHeaders),e.localAddress&&(this.localAddress=e.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,void this.open()):new r(t,e)}var o=n(15),i=n(8),s=n(3)("engine.io-client:socket"),a=n(35),c=n(21),p=n(2),u=n(29);t.exports=r,r.priorWebsocketSuccess=!1,i(r.prototype),r.protocol=c.protocol,r.Socket=r,r.Transport=n(20),r.transports=n(15),r.parser=n(21),r.prototype.createTransport=function(t){s('creating transport "%s"',t);var e=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}(this.query);e.EIO=c.protocol,e.transport=t;var n=this.transportOptions[t]||{};return this.id&&(e.sid=this.id),new o[t]({query:e,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},r.prototype.open=function(){var t;if(this.rememberUpgrade&&r.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout(function(){e.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},r.prototype.setTransport=function(t){s("setting transport %s",t.name);var e=this;this.transport&&(s("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},r.prototype.probe=function(t){function e(){if(f.onlyBinaryUpgrades){var e=!this.supportsBinary&&f.transport.supportsBinary;h=h||e}h||(s('probe transport "%s" opened',t),u.send([{type:"ping",data:"probe"}]),u.once("packet",function(e){if(!h)if("pong"===e.type&&"probe"===e.data){if(s('probe transport "%s" pong',t),f.upgrading=!0,f.emit("upgrading",u),!u)return;r.priorWebsocketSuccess="websocket"===u.name,s('pausing current transport "%s"',f.transport.name),f.transport.pause(function(){h||"closed"!==f.readyState&&(s("changing transport and sending upgrade packet"),p(),f.setTransport(u),u.send([{type:"upgrade"}]),f.emit("upgrade",u),u=null,f.upgrading=!1,f.flush())})}else{s('probe transport "%s" failed',t);var n=new Error("probe error");n.transport=u.name,f.emit("upgradeError",n)}}))}function n(){h||(h=!0,p(),u.close(),u=null)}function o(e){var r=new Error("probe error: "+e);r.transport=u.name,n(),s('probe transport "%s" failed because of error: %s',t,e),f.emit("upgradeError",r)}function i(){o("transport closed")}function a(){o("socket closed")}function c(t){u&&t.name!==u.name&&(s('"%s" works - aborting "%s"',t.name,u.name),n())}function p(){u.removeListener("open",e),u.removeListener("error",o),u.removeListener("close",i),f.removeListener("close",a),f.removeListener("upgrading",c)}s('probing transport "%s"',t);var u=this.createTransport(t,{probe:1}),h=!1,f=this;r.priorWebsocketSuccess=!1,u.once("open",e),u.once("error",o),u.once("close",i),this.once("close",a),this.once("upgrading",c),u.open()},r.prototype.onOpen=function(){if(s("socket open"),this.readyState="open",r.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){s("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},r.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(s('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else s('packet received with socket readyState "%s"',this.readyState)},r.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},r.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!==e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},r.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){s("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},r.prototype.ping=function(){var t=this;this.sendPacket("ping",function(){t.emit("ping")})},r.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},r.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(s("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},r.prototype.write=r.prototype.send=function(t,e,n){return this.sendPacket("message",t,e,n),this},r.prototype.sendPacket=function(t,e,n,r){if("function"==typeof e&&(r=e,e=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var o={type:t,data:e,options:n};this.emit("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}},r.prototype.close=function(){function t(){r.onClose("forced close"),s("socket closing - telling transport to close"),r.transport.close()}function e(){r.removeListener("upgrade",e),r.removeListener("upgradeError",e),t()}function n(){r.once("upgrade",e),r.once("upgradeError",e)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var r=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():t()}):this.upgrading?n():t()}return this},r.prototype.onError=function(t){s("socket error %j",t),r.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},r.prototype.onClose=function(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){s('socket close with reason: "%s"',t);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),this.writeBuffer=[],this.prevBufferLen=0}},r.prototype.filterUpgrades=function(t){for(var e=[],n=0,r=t.length;n<r;n++)~a(this.transports,t[n])&&e.push(t[n]);return e}},function(t,e,n){var r=n(16),o=n(18),i=n(32),s=n(33);e.polling=function(t){var e=!1,n=!1,s=!1!==t.jsonp;if("undefined"!=typeof location){var a="https:"===location.protocol,c=location.port;c||(c=a?443:80),e=t.hostname!==location.hostname||c!==t.port,n=t.secure!==a}if(t.xdomain=e,t.xscheme=n,"open"in new r(t)&&!t.forceJSONP)return new o(t);if(!s)throw new Error("JSONP disabled");return new i(t)},e.websocket=s},function(t,e,n){var r=n(17);t.exports=function(t){var e=t.xdomain,n=t.xscheme,o=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||r))return new XMLHttpRequest}catch(t){}try{if("undefined"!=typeof XDomainRequest&&!n&&o)return new XDomainRequest}catch(t){}if(!e)try{return new(self[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}},function(t,e){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},function(t,e,n){function r(){}function o(t){if(c.call(this,t),this.requestTimeout=t.requestTimeout,this.extraHeaders=t.extraHeaders,"undefined"!=typeof location){var e="https:"===location.protocol,n=location.port;n||(n=e?443:80),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||n!==t.port,this.xs=t.secure!==e}}function i(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}function s(){for(var t in i.requests)i.requests.hasOwnProperty(t)&&i.requests[t].abort()}var a=n(16),c=n(19),p=n(8),u=n(30),h=n(3)("engine.io-client:polling-xhr");if(t.exports=o,t.exports.Request=i,u(o,c),o.prototype.supportsBinary=!0,o.prototype.request=function(t){return(t=t||{}).uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new i(t)},o.prototype.doWrite=function(t,e){var n="string"!=typeof t&&void 0!==t,r=this.request({method:"POST",data:t,isBinary:n}),o=this;r.on("success",e),r.on("error",function(t){o.onError("xhr post error",t)}),this.sendXhr=r},o.prototype.doPoll=function(){h("xhr poll");var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},p(i.prototype),i.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var e=this.xhr=new a(t),n=this;try{h("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var r in e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(r)&&e.setRequestHeader(r,this.extraHeaders[r])}catch(t){}if("POST"===this.method)try{this.isBinary?e.setRequestHeader("Content-type","application/octet-stream"):e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{e.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in e&&(e.withCredentials=!0),this.requestTimeout&&(e.timeout=this.requestTimeout),this.hasXDR()?(e.onload=function(){n.onLoad()},e.onerror=function(){n.onError(e.responseText)}):e.onreadystatechange=function(){if(2===e.readyState)try{var t=e.getResponseHeader("Content-Type");n.supportsBinary&&"application/octet-stream"===t&&(e.responseType="arraybuffer")}catch(t){}4===e.readyState&&(200===e.status||1223===e.status?n.onLoad():setTimeout(function(){n.onError(e.status)},0))},h("xhr data %s",this.data),e.send(this.data)}catch(t){return void setTimeout(function(){n.onError(t)},0)}"undefined"!=typeof document&&(this.index=i.requestsCount++,i.requests[this.index]=this)},i.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},i.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},i.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},i.prototype.cleanup=function(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=r:this.xhr.onreadystatechange=r,t)try{this.xhr.abort()}catch(t){}"undefined"!=typeof document&&delete i.requests[this.index],this.xhr=null}},i.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type")}catch(t){}t="application/octet-stream"===e&&this.xhr.response||this.xhr.responseText}catch(t){this.onError(t)}null!=t&&this.onData(t)},i.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},i.prototype.abort=function(){this.cleanup()},i.requestsCount=0,i.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",s);else if("function"==typeof addEventListener){var f="onpagehide"in self?"pagehide":"unload";addEventListener(f,s,!1)}},function(t,e,n){function r(t){var e=t&&t.forceBase64;u&&!e||(this.supportsBinary=!1),o.call(this,t)}var o=n(20),i=n(29),s=n(21),a=n(30),c=n(31),p=n(3)("engine.io-client:polling");t.exports=r;var u=null!=new(n(16))({xdomain:!1}).responseType;a(r,o),r.prototype.name="polling",r.prototype.doOpen=function(){this.poll()},r.prototype.pause=function(t){function e(){p("paused"),n.readyState="paused",t()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(p("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){p("pre-pause polling complete"),--r||e()})),this.writable||(p("we are currently writing - waiting to pause"),r++,this.once("drain",function(){p("pre-pause writing complete"),--r||e()}))}else e()},r.prototype.poll=function(){p("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},r.prototype.onData=function(t){var e=this;p("polling got data %s",t);s.decodePayload(t,this.socket.binaryType,function(t,n,r){return"opening"===e.readyState&&e.onOpen(),"close"===t.type?(e.onClose(),!1):void e.onPacket(t)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():p('ignoring poll - transport state "%s"',this.readyState))},r.prototype.doClose=function(){function t(){p("writing close packet"),e.write([{type:"close"}])}var e=this;"open"===this.readyState?(p("transport open - closing"),t()):(p("transport not open - deferring close"),this.once("open",t))},r.prototype.write=function(t){var e=this;this.writable=!1;var n=function(){e.writable=!0,e.emit("drain")};s.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,n)})},r.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(t[this.timestampParam]=c()),this.supportsBinary||t.sid||(t.b64=1),t=i.encode(t),this.port&&("https"===e&&443!==Number(this.port)||"http"===e&&80!==Number(this.port))&&(n=":"+this.port),t.length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t}},function(t,e,n){function r(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.isReactNative=t.isReactNative,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}var o=n(21),i=n(8);t.exports=r,i(r.prototype),r.prototype.onError=function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this},r.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},r.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},r.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},r.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},r.prototype.onData=function(t){var e=o.decodePacket(t,this.socket.binaryType);this.onPacket(e)},r.prototype.onPacket=function(t){this.emit("packet",t)},r.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(t,e,n){function r(t,n){return n("b"+e.packets[t.type]+t.data.data)}function o(t,n,r){if(!n)return e.encodeBase64Packet(t,r);var o=t.data,i=new Uint8Array(o),s=new Uint8Array(1+o.byteLength);s[0]=m[t.type];for(var a=0;a<i.length;a++)s[a+1]=i[a];return r(s.buffer)}function i(t,n,r){if(!n)return e.encodeBase64Packet(t,r);if(y)return function(t,n,r){if(!n)return e.encodeBase64Packet(t,r);var o=new FileReader;return o.onload=function(){e.encodePacket({type:t.type,data:o.result},n,!0,r)},o.readAsArrayBuffer(t.data)}(t,n,r);var o=new Uint8Array(1);return o[0]=m[t.type],r(new b([o.buffer,t.data]))}function s(t,e,n){for(var r=new Array(t.length),o=h(t.length,n),i=function(t,n,o){e(n,function(e,n){r[t]=n,o(e,r)})},s=0;s<t.length;s++)i(s,t[s],o)}var a,c=n(22),p=n(23),u=n(24),h=n(25),f=n(26);"undefined"!=typeof ArrayBuffer&&(a=n(27));var l="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),d="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),y=l||d;e.protocol=3;var m=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},g=c(m),v={type:"error",data:"parser error"},b=n(28);e.encodePacket=function(t,e,n,s){"function"==typeof e&&(s=e,e=!1),"function"==typeof n&&(s=n,n=null);var a=void 0===t.data?void 0:t.data.buffer||t.data;if("undefined"!=typeof ArrayBuffer&&a instanceof ArrayBuffer)return o(t,e,s);if(void 0!==b&&a instanceof b)return i(t,e,s);if(a&&a.base64)return r(t,s);var c=m[t.type];return void 0!==t.data&&(c+=n?f.encode(String(t.data),{strict:!1}):String(t.data)),s(""+c)},e.encodeBase64Packet=function(t,n){var r,o="b"+e.packets[t.type];if(void 0!==b&&t.data instanceof b){var i=new FileReader;return i.onload=function(){var t=i.result.split(",")[1];n(o+t)},i.readAsDataURL(t.data)}try{r=String.fromCharCode.apply(null,new Uint8Array(t.data))}catch(e){for(var s=new Uint8Array(t.data),a=new Array(s.length),c=0;c<s.length;c++)a[c]=s[c];r=String.fromCharCode.apply(null,a)}return o+=btoa(r),n(o)},e.decodePacket=function(t,n,r){if(void 0===t)return v;if("string"==typeof t){if("b"===t.charAt(0))return e.decodeBase64Packet(t.substr(1),n);if(r&&!1===(t=function(t){try{t=f.decode(t,{strict:!1})}catch(t){return!1}return t}(t)))return v;var o=t.charAt(0);return Number(o)==o&&g[o]?t.length>1?{type:g[o],data:t.substring(1)}:{type:g[o]}:v}o=new Uint8Array(t)[0];var i=u(t,1);return b&&"blob"===n&&(i=new b([i])),{type:g[o],data:i}},e.decodeBase64Packet=function(t,e){var n=g[t.charAt(0)];if(!a)return{type:n,data:{base64:!0,data:t.substr(1)}};var r=a.decode(t.substr(1));return"blob"===e&&b&&(r=new b([r])),{type:n,data:r}},e.encodePayload=function(t,n,r){"function"==typeof n&&(r=n,n=null);var o=p(t);return n&&o?b&&!y?e.encodePayloadAsBlob(t,r):e.encodePayloadAsArrayBuffer(t,r):t.length?void s(t,function(t,r){e.encodePacket(t,!!o&&n,!1,function(t){r(null,function(t){return t.length+":"+t}(t))})},function(t,e){return r(e.join(""))}):r("0:")},e.decodePayload=function(t,n,r){if("string"!=typeof t)return e.decodePayloadAsBinary(t,n,r);var o;if("function"==typeof n&&(r=n,n=null),""===t)return r(v,0,1);for(var i,s,a="",c=0,p=t.length;c<p;c++){var u=t.charAt(c);if(":"===u){if(""===a||a!=(i=Number(a)))return r(v,0,1);if(a!=(s=t.substr(c+1,i)).length)return r(v,0,1);if(s.length){if(o=e.decodePacket(s,n,!1),v.type===o.type&&v.data===o.data)return r(v,0,1);if(!1===r(o,c+i,p))return}c+=i,a=""}else a+=u}return""!==a?r(v,0,1):void 0},e.encodePayloadAsArrayBuffer=function(t,n){return t.length?void s(t,function(t,n){e.encodePacket(t,!0,!0,function(t){return n(null,t)})},function(t,e){var r=e.reduce(function(t,e){var n;return t+(n="string"==typeof e?e.length:e.byteLength).toString().length+n+2},0),o=new Uint8Array(r),i=0;return e.forEach(function(t){var e="string"==typeof t,n=t;if(e){for(var r=new Uint8Array(t.length),s=0;s<t.length;s++)r[s]=t.charCodeAt(s);n=r.buffer}o[i++]=e?0:1;var a=n.byteLength.toString();for(s=0;s<a.length;s++)o[i++]=parseInt(a[s]);o[i++]=255;for(r=new Uint8Array(n),s=0;s<r.length;s++)o[i++]=r[s]}),n(o.buffer)}):n(new ArrayBuffer(0))},e.encodePayloadAsBlob=function(t,n){s(t,function(t,n){e.encodePacket(t,!0,!0,function(t){var e=new Uint8Array(1);if(e[0]=1,"string"==typeof t){for(var r=new Uint8Array(t.length),o=0;o<t.length;o++)r[o]=t.charCodeAt(o);t=r.buffer,e[0]=0}var i=(t instanceof ArrayBuffer?t.byteLength:t.size).toString(),s=new Uint8Array(i.length+1);for(o=0;o<i.length;o++)s[o]=parseInt(i[o]);if(s[i.length]=255,b){var a=new b([e.buffer,s.buffer,t]);n(null,a)}})},function(t,e){return n(new b(e))})},e.decodePayloadAsBinary=function(t,n,r){"function"==typeof n&&(r=n,n=null);for(var o=t,i=[];o.byteLength>0;){for(var s=new Uint8Array(o),a=0===s[0],c="",p=1;255!==s[p];p++){if(c.length>310)return r(v,0,1);c+=s[p]}o=u(o,2+c.length),c=parseInt(c);var h=u(o,0,c);if(a)try{h=String.fromCharCode.apply(null,new Uint8Array(h))}catch(t){var f=new Uint8Array(h);h="";for(p=0;p<f.length;p++)h+=String.fromCharCode(f[p])}i.push(h),o=u(o,c)}var l=i.length;i.forEach(function(t,o){r(e.decodePacket(t,n,!0),o,l)})}},function(t,e){t.exports=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var r in t)n.call(t,r)&&e.push(r);return e}},function(t,e,n){var r=n(10),o=Object.prototype.toString,i="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===o.call(Blob),s="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===o.call(File);t.exports=function t(e){if(!e||"object"!=typeof e)return!1;if(r(e)){for(var n=0,o=e.length;n<o;n++)if(t(e[n]))return!0;return!1}if("function"==typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(e)||"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||i&&e instanceof Blob||s&&e instanceof File)return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return t(e.toJSON(),!0);for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&t(e[a]))return!0;return!1}},function(t,e){t.exports=function(t,e,n){var r=t.byteLength;if(e=e||0,n=n||r,t.slice)return t.slice(e,n);if(e<0&&(e+=r),n<0&&(n+=r),n>r&&(n=r),e>=r||e>=n||0===r)return new ArrayBuffer(0);for(var o=new Uint8Array(t),i=new Uint8Array(n-e),s=e,a=0;s<n;s++,a++)i[a]=o[s];return i.buffer}},function(t,e){function n(){}t.exports=function(t,e,r){function o(t,n){if(o.count<=0)throw new Error("after called too many times");--o.count,t?(i=!0,e(t),e=r):0!==o.count||i||e(null,n)}var i=!1;return r=r||n,o.count=t,0===t?e():o}},function(t,e){function n(t){for(var e,n,r=[],o=0,i=t.length;o<i;)(e=t.charCodeAt(o++))>=55296&&e<=56319&&o<i?56320==(64512&(n=t.charCodeAt(o++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),o--):r.push(e);return r}function r(t,e){if(t>=55296&&t<=57343){if(e)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function o(t,e){return h(t>>e&63|128)}function i(t,e){if(0==(4294967168&t))return h(t);var n="";return 0==(4294965248&t)?n=h(t>>6&31|192):0==(4294901760&t)?(r(t,e)||(t=65533),n=h(t>>12&15|224),n+=o(t,6)):0==(4292870144&t)&&(n=h(t>>18&7|240),n+=o(t,12),n+=o(t,6)),n+h(63&t|128)}function s(){if(u>=p)throw Error("Invalid byte index");var t=255&c[u];if(u++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function a(t){var e,n;if(u>p)throw Error("Invalid byte index");if(u==p)return!1;if(e=255&c[u],u++,0==(128&e))return e;if(192==(224&e)){if((n=(31&e)<<6|s())>=128)return n;throw Error("Invalid continuation byte")}if(224==(240&e)){if((n=(15&e)<<12|s()<<6|s())>=2048)return r(n,t)?n:65533;throw Error("Invalid continuation byte")}if(240==(248&e)&&((n=(7&e)<<18|s()<<12|s()<<6|s())>=65536&&n<=1114111))return n;throw Error("Invalid UTF-8 detected")}var c,p,u,h=String.fromCharCode;t.exports={version:"2.1.2",encode:function(t,e){for(var r=!1!==(e=e||{}).strict,o=n(t),s=o.length,a=-1,c="";++a<s;)c+=i(o[a],r);return c},decode:function(t,e){var r=!1!==(e=e||{}).strict;c=n(t),p=c.length,u=0;for(var o,i=[];!1!==(o=a(r));)i.push(o);return function(t){for(var e,n=t.length,r=-1,o="";++r<n;)(e=t[r])>65535&&(o+=h((e-=65536)>>>10&1023|55296),e=56320|1023&e),o+=h(e);return o}(i)}}},function(t,e){!function(){"use strict";for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),r=0;r<t.length;r++)n[t.charCodeAt(r)]=r;e.encode=function(e){var n,r=new Uint8Array(e),o=r.length,i="";for(n=0;n<o;n+=3)i+=t[r[n]>>2],i+=t[(3&r[n])<<4|r[n+1]>>4],i+=t[(15&r[n+1])<<2|r[n+2]>>6],i+=t[63&r[n+2]];return o%3==2?i=i.substring(0,i.length-1)+"=":o%3==1&&(i=i.substring(0,i.length-2)+"=="),i},e.decode=function(t){var e,r,o,i,s,a=.75*t.length,c=t.length,p=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var u=new ArrayBuffer(a),h=new Uint8Array(u);for(e=0;e<c;e+=4)r=n[t.charCodeAt(e)],o=n[t.charCodeAt(e+1)],i=n[t.charCodeAt(e+2)],s=n[t.charCodeAt(e+3)],h[p++]=r<<2|o>>4,h[p++]=(15&o)<<4|i>>2,h[p++]=(3&i)<<6|63&s;return u}}()},function(t,e){function n(t){return t.map(function(t){if(t.buffer instanceof ArrayBuffer){var e=t.buffer;if(t.byteLength!==e.byteLength){var n=new Uint8Array(t.byteLength);n.set(new Uint8Array(e,t.byteOffset,t.byteLength)),e=n.buffer}return e}return t})}function r(t,e){e=e||{};var r=new i;return n(t).forEach(function(t){r.append(t)}),e.type?r.getBlob(e.type):r.getBlob()}function o(t,e){return new Blob(n(t),e||{})}var i=void 0!==i?i:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,s=function(){try{return 2===new Blob(["hi"]).size}catch(t){return!1}}(),a=s&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(t){return!1}}(),c=i&&i.prototype.append&&i.prototype.getBlob;"undefined"!=typeof Blob&&(r.prototype=Blob.prototype,o.prototype=Blob.prototype),t.exports=s?a?Blob:o:c?r:void 0},function(t,e){e.encode=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},e.decode=function(t){for(var e={},n=t.split("&"),r=0,o=n.length;r<o;r++){var i=n[r].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}},function(t,e){t.exports=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){"use strict";function n(t){var e="";do{e=i[t%s]+e,t=Math.floor(t/s)}while(t>0);return e}function r(){var t=n(+new Date);return t!==o?(c=0,o=t):t+"."+n(c++)}for(var o,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),s=64,a={},c=0,p=0;p<s;p++)a[i[p]]=p;r.encode=n,r.decode=function(t){var e=0;for(p=0;p<t.length;p++)e=e*s+a[t.charAt(p)];return e},t.exports=r},function(t,e,n){(function(e){function r(){}function o(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:{}}function i(t){if(s.call(this,t),this.query=this.query||{},!c){var e=o();c=e.___eio=e.___eio||[]}this.index=c.length;var n=this;c.push(function(t){n.onData(t)}),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",function(){n.script&&(n.script.onerror=r)},!1)}var s=n(19),a=n(30);t.exports=i;var c,p=/\n/g,u=/\\n/g;a(i,s),i.prototype.supportsBinary=!1,i.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),s.prototype.doClose.call(this)},i.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},i.prototype.doWrite=function(t,e){function n(){r(),e()}function r(){if(o.iframe)try{o.form.removeChild(o.iframe)}catch(t){o.onError("jsonp polling iframe removal error",t)}try{var t='<iframe src="javascript:0" name="'+o.iframeId+'">';i=document.createElement(t)}catch(t){(i=document.createElement("iframe")).name=o.iframeId,i.src="javascript:0"}i.id=o.iframeId,o.form.appendChild(i),o.iframe=i}var o=this;if(!this.form){var i,s=document.createElement("form"),a=document.createElement("textarea"),c=this.iframeId="eio_iframe_"+this.index;s.className="socketio",s.style.position="absolute",s.style.top="-1000px",s.style.left="-1000px",s.target=c,s.method="POST",s.setAttribute("accept-charset","utf-8"),a.name="d",s.appendChild(a),document.body.appendChild(s),this.form=s,this.area=a}this.form.action=this.uri(),r(),t=t.replace(u,"\\\n"),this.area.value=t.replace(p,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===o.iframe.readyState&&n()}:this.iframe.onload=n}}).call(e,function(){return this}())},function(t,e,n){function r(t){t&&t.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=o&&!t.forceNode,this.protocols=t.protocols,this.usingBrowserWebSocket||(f=i),s.call(this,t)}var o,i,s=n(20),a=n(21),c=n(29),p=n(30),u=n(31),h=n(3)("engine.io-client:websocket");if("undefined"==typeof self)try{i=n(34)}catch(t){}else o=self.WebSocket||self.MozWebSocket;var f=o||i;t.exports=r,p(r,s),r.prototype.name="websocket",r.prototype.supportsBinary=!0,r.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?e?new f(t,e):new f(t):new f(t,e,n)}catch(t){return this.emit("error",t)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},r.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},r.prototype.write=function(t){var e=this;this.writable=!1;for(var n=t.length,r=0,o=n;r<o;r++)!function(t){a.encodePacket(t,e.supportsBinary,function(r){if(!e.usingBrowserWebSocket){var o={};if(t.options&&(o.compress=t.options.compress),e.perMessageDeflate)("string"==typeof r?Buffer.byteLength(r):r.length)<e.perMessageDeflate.threshold&&(o.compress=!1)}try{e.usingBrowserWebSocket?e.ws.send(r):e.ws.send(r,o)}catch(t){h("websocket closed before onclose event")}--n||(e.emit("flush"),setTimeout(function(){e.writable=!0,e.emit("drain")},0))})}(t[r])},r.prototype.onClose=function(){s.prototype.onClose.call(this)},r.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},r.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",n="";return this.port&&("wss"===e&&443!==Number(this.port)||"ws"===e&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=u()),this.supportsBinary||(t.b64=1),(t=c.encode(t)).length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t},r.prototype.check=function(){return!(!f||"__initialize"in f&&this.name===r.prototype.name)}},function(t,e){},function(t,e){var n=[].indexOf;t.exports=function(t,e){if(n)return t.indexOf(e);for(var r=0;r<t.length;++r)if(t[r]===e)return r;return-1}},function(t,e,n){"use strict";function r(t,e,n){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(7),s=n(8),a=n(37),c=n(38),p=n(39),u=n(3)("socket.io-client:socket"),h=n(29),f=n(23);t.exports=r;var l={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},d=s.prototype.emit;s(r.prototype),r.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[c(t,"open",p(this,"onopen")),c(t,"packet",p(this,"onpacket")),c(t,"close",p(this,"onclose"))]}},r.prototype.open=r.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},r.prototype.send=function(){var t=a(arguments);return t.unshift("message"),this.emit.apply(this,t),this},r.prototype.emit=function(t){if(l.hasOwnProperty(t))return d.apply(this,arguments),this;var e=a(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:f(e))?i.BINARY_EVENT:i.EVENT,data:e,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(u("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},r.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},r.prototype.onopen=function(){if(u("transport is open - connecting"),"/"!==this.nsp)if(this.query){var t="object"===o(this.query)?h.encode(this.query):this.query;u("sending connect packet with query %s",t),this.packet({type:i.CONNECT,query:t})}else this.packet({type:i.CONNECT})},r.prototype.onclose=function(t){u("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},r.prototype.onpacket=function(t){var e=t.nsp===this.nsp,n=t.type===i.ERROR&&"/"===t.nsp;if(e||n)switch(t.type){case i.CONNECT:this.onconnect();break;case i.EVENT:case i.BINARY_EVENT:this.onevent(t);break;case i.ACK:case i.BINARY_ACK:this.onack(t);break;case i.DISCONNECT:this.ondisconnect();break;case i.ERROR:this.emit("error",t.data)}},r.prototype.onevent=function(t){var e=t.data||[];u("emitting event %j",e),null!=t.id&&(u("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?d.apply(this,e):this.receiveBuffer.push(e)},r.prototype.ack=function(t){var e=this,n=!1;return function(){if(!n){n=!0;var r=a(arguments);u("sending ack %j",r),e.packet({type:f(r)?i.BINARY_ACK:i.ACK,id:t,data:r})}}},r.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(u("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):u("bad ack %s",t.id)},r.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},r.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)d.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},r.prototype.ondisconnect=function(){u("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},r.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},r.prototype.close=r.prototype.disconnect=function(){return this.connected&&(u("performing disconnect (%s)",this.nsp),this.packet({type:i.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},r.prototype.compress=function(t){return this.flags.compress=t,this},r.prototype.binary=function(t){return this.flags.binary=t,this}},function(t,e){t.exports=function(t,e){for(var n=[],r=(e=e||0)||0;r<t.length;r++)n[r-e]=t[r];return n}},function(t,e){"use strict";t.exports=function(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}}},function(t,e){var n=[].slice;t.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var r=n.call(arguments,2);return function(){return e.apply(t,r.concat(n.call(arguments)))}}},function(t,e){function n(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=n,n.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(t){this.ms=t},n.prototype.setMax=function(t){this.max=t},n.prototype.setJitter=function(t){this.jitter=t}}])});/* CoCreateJS */
const _0x294a=["OPTGROUP","borderBottomWidth","elements","getCommonParams","[name='","fetchedUser","document","dispatchEvent","appendChild","getBoundingClientRect","paddingBottom","replace","createRange","hasAttribute",'input[type="checkbox"]',"textContent","setFormData","order","insertArrayObject","data-filter_operator",".isotope-grid","input[type=checkbox], form input[type=radio]","hasOwnProperty","connect","unset","input[name='","span","morphdom","function","data-clone_id","deletedDocument","deleteContentBackward","form[data-form_id='","getFilterByName","keyup","matchesSelector","login","createObject","data-pass_id","data-permission","_setCaretPosition","end","inputType","setAttributeNS","data-value_type","selected","number","requestAttr","data-fetch_count","_makeSearchOption","setSelectionRange","checkbox","createDocument","createYDoc","max","pending","items","initAttribute","insertData","passValueParams","offsetWidth","tel","setLinkProcess","form[","children","use strict","hasAttributeNS","data-pass_collection","--mirror-div","initTemplateByPass","placeholder","created a document: ",".sessionAdminUI_Id","data-order_by","encryptPassword","store-content-db","isReadValue","textIndent","left","user_id","data-module","textDecoration","nodeName","socket_id","elements to INIT -> "," input, form","fetch",'"                                                 flag>',"change-content","retain","sendGeneralMessage","[templateId='","arrayField","submitBtn","indexOf",".cursor-flag","init","apiKey","wordWrap"," REsize","borderLeftWidth","getComputedStyle","remove_len","font-size","set","securityKey","isEqualNode","selector","item","updated_by_fetch","ownerDocument","__initPassItems","push","clonedItem","modules","_getCaretPosition","log","data-save_value","removeChild","_cloneRangeByPosition","generateID","updateDocument","isSameNode","h1, h2, h3, h4, h5, h6, p, i, q, a, b, li, span, code, img","data-fetch_collection_list","builderUI_id","fetch_name","childrenOnly","saveFetch","getParents","blur","redirectLink","templateId","renderModules","checkOpenCocreateModal","range","radio","slice","querySelectorAll","__setAttributeIntoEl","open",".sessionUser_Id","offsetTop","endPositon","data-pass_to","emit","nextSibling","_initEvents","[data-calculation]","xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx","searchInput","initGetValueInput","changeFilterInput","script",".loadMore","getParentFromElement",".template","endOffset","selector -> ","insertDataCrdt"," select","sendMessage","fetch_ids","getElementById","color","type","test","boxSizing","_window","keyCode","_checkDocumentID","addRange","insertAdjacentHTML","instance","prototype","localName","split","substring","initForm","_initElementEvents","show_id","borderTopWidth","is_collection","generateUUID","receiveChangeData","documentElement","h1, h2, h3, h4, h5, h6, p, i, q, a, b, li, span, code, img, div","fetchedTemplate","min",".passValueBtn","offsetLeft","result","charAt","data-start","metadata","textTransform","passSubmitProcess","xmlns","validateKeysJson","initATagEvent","break-word","_blank","input, textarea, select","getObjectByFilterId","parse","_getElementInfo",".org-changer","isJsonString",'"][data-document_id]',"https://server.cocreate.app:8080","fontWeight","options","[name], [data-pass_to]","preventDefault","setSelectionInfo","toLowerCase",'"></div>                                                <div class="cursor-flag" data-collection="users"                                                 name="name"                                                 data-user_name="',"div","receivedDocumentId","</div></div>","error","amd","mousemove","compile","update_crud","mozMatchesSelector","renderData","can't login","actions","new user connected","overflowWrap","__getYDocId","HTML","delete_fields","startIndex","getDocument","height","selectedValue","module_activity","href","innerHTML","addEventListener","hide_id","scrollWidth","none","data-search_type",'[data-template_id="',"deleteByCut","setStart","keys","^([^ ]+( +[^ ]+)+)+[^ ]}","div, h1, h2, h3, h4, h5, h6, p, i, q, a, b, li, span, code, img, tr, td","getElementsByTagName","initLink","cloneNode","'], textarea[name='","checkID","], [data-pass_collection=","prefix","sendPosition","--------------------position-------------------","nodeType","read","selectionStart","getChangedInfo","search","add",'"                                                 style="background-color:',"focusout","data-fetch_collection","webkitMatchesSelector","requestDocumentId","dataset","isArray","querySelector","checkedUnique","h1, h2, h3, h4, h5, h6, p, i, q, a, b, li, ul, span, code, img, head, body, input, textarea, select, table, div, html","parentElement","renderFunc","getNodeKey","data-fetch_value","textarea","template-wrapper","setRangeText","beforeend","dataParams","setPositionYJS","scrollTop","checkExistElement","_init","SELECT","newLink","setCursorNull","selectedIndex","orders","setEnd",'.template-wrapper[data-pass_id="',"actualize","setInitValue","modal","getOrderByName","onBeforeElChildrenUpdated","#document","insert","selection_end","marginBottom","sendChangeData","includes","initPassValueParams","fetchFunc",'"                                                 data-user_color="',"offsetHeight","clientId",".cursor-container","pos_end","mirror_color mirror_scroll mirror-width-scroll","initAction","collection-name","selection-","fontVariant","paste","getPropertyValue","marginRight","organization_id","false","http://www.w3.org/1999/xhtml","remove","paddingTop","data-pass_value_id",".sessionFalse","data-unique-error","option","name","IMG","[templateId=","newUserConnected","firstChild","organization_Id","string","getData","scrollTo","getRootNode","existAttribute","call","forEach","_initElement","getWholeString",".loginBtn","selectionEnd","toString","changeCollection","getSelection","fontStretch","replaceChild","Text","style","invalide api key and security key","namespaceURI","setSubmitEvent","_initFilter","metaData","initModules","defaultView","clicked-submitBtn","deleteDataCrdt","[data-array_name]","filter","initEvents","module_activities","checkFormValidate","[data-pass_to]","is_selected","initFunc","setItem","isAvaiableEl","matches","letterSpacing","_elements","toTimeString","initValuePassBtns","getSelectionInfo","outerHTML","observe",".registerBtn","data-fetch_name","__setNewIdProcess","element","operator","permission-","collection","getReqeust","readDocument","className","validates",".floating-label_field",".sessionOrg_Id","FORM","BODY","_self","_generateElementID","deleteData","object","socket connected","openAnother","encodeBase64","true","document_id","input, textarea",".saveFetch","OPTION","template-wrapper >.template","count","paddingLeft","charCodeAt","data-module_activity_id","hidden","absolute","classList","data-pass_prefix","length","contain","floor","fontSize","selectionProcessing","getElementsByClassName","substr","TEXTAREA","top","h1, h2, h3, h4, h5, h6, p, i, q, a, b, li, ul, span, code, img, head, body, table, html, div","data-pass_fetch_value","storePassData","createElement","set-document_id","data-template_id","startPosition","data-realtime",".selectors_by_users",".logoutBtn","valueParams","rangeCount","registerModule","data-fetch_document_id","undefined","]:checked","initContainers","openWindow","value","delete","attributes","fontFamily","input[name=","data-collection","insertLineBreak","raido","body","[data-collection=","attrName","_checkConetentEditable","user","setAttribute","eId","selection_start","form","removeRange",'<div style="color:blue;" class="cursor-container"                                                 id="socket_',"visible","fetch_value","insertBefore","user_name","saveValueIntoDB","select","Requires the following ","createContextualFragment",", select","detail","exports","deleteContents","parentNode","childNodes","__registerValuePassBtnEvent","constructor","_initFilterInput","setCheckboxName","template","---save fetch",",textarea","onBeforeNodeAdded","getType","initPassParams","selectNode","checked","pre","#socket_","path","data-pass_document_id","Callback should be a function","form_id",'"                                                 data-document_id="',"INPUT","read a document: ","password","scrollLeft","asc","reload","onBeforeElUpdated","marginTop","==================== item_text ++++++++++++++++","__setGetValueProcess","data-filter_name","src","now",".sessionTrue","startOffset","stopPropagation","initKeys","2px","reduce","action document_id ","data","current_org","paddingRight","data-unique-success","email","[data-show_id],[data-hide_id]","text/javascript","borderRightWidth","joinRoom","lineHeight","generateTypeName","initFormsByLoad","change","cocreate-y-update","location","data-clone_name","createDoc","user_color","activeElement","isTemplateInput","users","created_ids","mirror_id","clear","data-document_request","from","removeEventListener","deleteContentForward","keydown","location=yes,height=570,width=520,scrollbars=yes,status=yes","url","getAttributeNS","floating-label_field","some","initDataCrdt","nodeValue","adminUI_id","start","usersCurrentOrg","changeListenAwereness","contains","add_len","msMatchesSelector","multiple",".sortable",'"                                                 data-id_mirror="',"my_start ","visibility","renderHtml",".submitBtn, .registerBtn",".cursor-container#socket_","createDocumentFragment","isContentEditable","replaceDataCrdt","cloneRange","backgroundColor","toUpperCase","target","readDocumentList","makeFetchOptions","removeAllRanges","_id","removeAttribute","exclude_fields","sel-","onBeforeNodeDiscarded","content","data-document_id","position","input","random","data-form_id","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789","data-search_collection","trim","checkDocumentID","isUsageY","isRealTime","cloneBtn","clipboardData",'"                                                 ><div class="cursor"                                                 style="background-color:',"getSelectValue","getValue","fetchFilterData","Values are not unique","apply","selectors_by_users","unique","deleteDocument","data-read_value","width","create","readOnly","data-array_name","HEAD","_createYDoc","beforebegin","fetchModules","delete-document","tagName","filters","updateChangeData","selectNodeContents","textRendering","stringify","setValue","initElements","endContainer","concat","data-value","getItem","pre-wrap","getAttribute","onElUpdated","marginLeft","insertText","pass_to","]:nth-child(","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz","click"];!function(a,x){const e=function(x){for(;--x;)a.push(a.shift())};!function(){const a={data:{key:"cookie",value:"timeout"},setCookie:function(a,x,e,t){t=t||{};let f=x+"="+e;for(let x=0,e=a.length;x<e;x++){const t=a[x];f+="; "+t;const _=a[t];a.push(_),e=a.length,!0!==_&&(f+="="+_)}t.cookie=f},removeCookie:function(){return"dev"},getCookie:function(a,x){const t=(a=a||function(a){return a})(new RegExp("(?:^|; )"+x.replace(/([.$?*|{}()[]\/+^])/g,"$1")+"=([^;]*)"));var f;return f=476,e(++f),t?decodeURIComponent(t[1]):void 0}};a.updateCookie=function(){return new RegExp("\\w+ *\\(\\) *{\\w+ *['|\"].+['|\"];? *}").test(a.removeCookie.toString())};let x="";const t=a.updateCookie();t?t?x=a.getCookie(null,"counter"):a.removeCookie():a.setCookie(["*"],"counter",1)}()}(_0x294a);const _0x1afa=function(a,x){return _0x294a[a-=0]};CoCreateLogic={init:function(){this[_0x1afa("0x26")](),this.initPassSessionIds(),this.initPassParams(),this[_0x1afa("0x1d6")](),this[_0x1afa("0x21d")](),this[_0x1afa("0x139")](),this[_0x1afa("0x19f")]()},initKeys:function(){localStorage.getItem("apiKey")&&(config[_0x1afa("0x103")]=localStorage[_0x1afa("0x98")]("apiKey")),localStorage.getItem(_0x1afa("0x10b"))&&(config.securityKey=localStorage.getItem(_0x1afa("0x10b"))),localStorage[_0x1afa("0x98")](_0x1afa("0x1e5"))&&(config[_0x1afa("0x1f3")]=localStorage.getItem(_0x1afa("0x1e5")))},initPassSessionIds:function(){let a=localStorage.getItem("organization_id"),x=localStorage[_0x1afa("0x98")](_0x1afa("0xf1")),e=localStorage[_0x1afa("0x98")](_0x1afa("0x4e")),t=localStorage.getItem(_0x1afa("0x11f"));this.__initPassItems(a,_0x1afa("0x22d"),!0),this[_0x1afa("0x111")](x,_0x1afa("0x12f")),this[_0x1afa("0x111")](e,_0x1afa("0xea")),this[_0x1afa("0x111")](t,".sessionBuilderUI_Id")},initPassParams:function(){var a=localStorage[_0x1afa("0x98")](_0x1afa("0x1bf"));if(!(a=JSON.parse(a))||0==a[_0x1afa("0x245")])return;let x=this;a.forEach(function(a){var e=a.collection,t=a[_0x1afa("0x238")],f=a[_0x1afa("0x1a4")],_=a[_0x1afa("0x9e")];document[_0x1afa("0x12c")](_0x1afa("0x270"))[_0x1afa("0x1fa")](a=>{var x=a.getAttribute("data-pass_id");x&&x==_&&e&&""!=e&&(a.getAttribute(_0x1afa("0x265"))||a[_0x1afa("0x26d")]("data-collection",e))}),document.querySelectorAll(_0x1afa("0x1b6")).forEach(a=>{var e=a[_0x1afa("0x9a")]("data-pass_id");e&&e==_&&t&&x.__setAttributeIntoEl(a,t)}),document.querySelectorAll(_0x1afa("0x24e"))[_0x1afa("0x1fa")](x=>{var t=x[_0x1afa("0x9a")](_0x1afa("0xc8"));t&&t==_&&(x[_0x1afa("0x243")].contains(_0x1afa("0x1bc"))&&(a[_0x1afa("0x120")]&&x[_0x1afa("0x26d")](_0x1afa("0x222"),a[_0x1afa("0x120")]),a[_0x1afa("0x274")]&&x[_0x1afa("0x26d")]("data-fetch_value",a[_0x1afa("0x274")])),e&&""!=e&&(x[_0x1afa("0x9a")](_0x1afa("0x265"))||x[_0x1afa("0x26d")](_0x1afa("0x265"),e),x[_0x1afa("0x9a")](_0x1afa("0xe5"))||x[_0x1afa("0x26d")](_0x1afa("0xe5"),e),x[_0x1afa("0x9a")](_0x1afa("0x1af"))||x.setAttribute(_0x1afa("0x1af"),e)),f&&(x[_0x1afa("0x26d")](_0x1afa("0x1a4"),f),x[_0x1afa("0x26d")](_0x1afa("0x244"),f)))})})},initPassValueParams:function(){var a=localStorage.getItem(_0x1afa("0x258"));(a=JSON[_0x1afa("0x16e")](a))&&0!=a[_0x1afa("0x245")]&&a[_0x1afa("0x1fa")](function(a){var x=a.pass_value_to;document[_0x1afa("0x12c")]("input, textarea, select")[_0x1afa("0x1fa")](e=>{let t=e[_0x1afa("0x9a")]("data-pass_value_id");t&&t==x&&(e.value=a[_0x1afa("0x260")],updateFloatLabel(e))})})},storePassData:function(a){var x=[],e=a.getAttribute(_0x1afa("0xe5")),t=a.getAttribute(_0x1afa("0x12")),f=a[_0x1afa("0x9a")](_0x1afa("0x244")),_=a[_0x1afa("0x9a")](_0x1afa("0x132")),n=a[_0x1afa("0x9a")]("data-pass_fetch_name"),o=a.getAttribute("data-pass_fetch_value");if(_){var i={collection:e,document_id:t,prefix:f,pass_to:_,fetch_name:n,fetch_value:o};x[_0x1afa("0x112")](i),this[_0x1afa("0xe7")](_,i)}a[_0x1afa("0x12c")](_0x1afa("0x214"))[_0x1afa("0x1fa")](e=>{const t=e[_0x1afa("0x9a")]("data-pass_collection"),f=e.getAttribute("data-pass_document_id"),_=e[_0x1afa("0x9a")](_0x1afa("0x244")),n=e[_0x1afa("0x9a")](_0x1afa("0x132")),o=a.getAttribute("data-pass_fetch_name"),i=a.getAttribute(_0x1afa("0x24f"));if(n){var r={collection:t,document_id:f,prefix:_,pass_to:n,fetch_name:o,fetch_value:i};x[_0x1afa("0x112")](r)}}),x.length>0&&localStorage[_0x1afa("0x217")](_0x1afa("0x1bf"),JSON[_0x1afa("0x92")](x))},initTemplateByPass:function(a,x){let e=document.querySelectorAll(_0x1afa("0x1ca")+a+'"]');for(var t=0;t<e[_0x1afa("0x245")];t++){let a=e[t];a[_0x1afa("0x26d")]("data-fetch_collection",x.collection),x[_0x1afa("0x120")]&&a.setAttribute(_0x1afa("0x222"),x[_0x1afa("0x120")]),x[_0x1afa("0x274")]&&a[_0x1afa("0x26d")]("data-fetch_value",x[_0x1afa("0x274")]),initTemplateByElement(a,!0)}},initValuePassBtns:function(){let a=document.getElementsByTagName("form");for(let x=0;x<a[_0x1afa("0x245")];x++){let e=a[x],t=e[_0x1afa("0x1b4")](_0x1afa("0x15f"));t&&this[_0x1afa("0x3")](e,t)}},initGetValueInput:function(){var a=document.querySelectorAll(_0x1afa("0x239"));let x=this;for(var e=0;e<a.length;e++){var t=a[e];t.id&&(t[_0x1afa("0x193")](_0x1afa("0x6f"),function(a){x[_0x1afa("0x1f")](this.id,this[_0x1afa("0x260")])}),t[_0x1afa("0x193")](_0x1afa("0x10f"),function(a){x[_0x1afa("0x1f")](this.id,this[_0x1afa("0x260")])}))}},__registerValuePassBtnEvent:function(a,x){let e=this;x.addEventListener(_0x1afa("0xa1"),function(t){let f=a[_0x1afa("0x12c")]("input, textarea, select"),_=[];for(let a=0;a<f.length;a++){let x=f[a],e=x[_0x1afa("0x9a")]("data-pass_value_to"),t=x[_0x1afa("0x260")];e&&_[_0x1afa("0x112")]({pass_value_to:e,value:t})}_.length>0&&localStorage[_0x1afa("0x217")](_0x1afa("0x258"),JSON.stringify(_)),e[_0x1afa("0xdd")]();let n=x.querySelector("a");n&&e[_0x1afa("0xe0")](n)})},initLink:function(){for(var a=document[_0x1afa("0x19e")]("a"),x=0;x<a[_0x1afa("0x245")];x++)this[_0x1afa("0x169")](a[x])},initATagEvent:function(a){var x=a[_0x1afa("0x9a")](_0x1afa("0x191"));let e=this;this[_0x1afa("0x128")](a)||(x?a[_0x1afa("0x193")](_0x1afa("0xa1"),function(x){x[_0x1afa("0x177")](),e[_0x1afa("0x166")](a)&&(e[_0x1afa("0x250")](a),e[_0x1afa("0x235")](a))}):a.addEventListener(_0x1afa("0xa1"),function(x){e.passSubmitProcess(a)&&(e[_0x1afa("0x250")](a),e[_0x1afa("0xc")](),CoCreate.fetchModules())}))},openAnother:function(a){var x=a[_0x1afa("0x9a")](_0x1afa("0x191")),e=a[_0x1afa("0x9a")](_0x1afa("0x63"));_0x1afa("0x16b")==e?window[_0x1afa("0x12e")](x,_0x1afa("0x16b")):_0x1afa("0x14a")==e?window[_0x1afa("0x12e")](x,_0x1afa("0x16b"),_0x1afa("0x47")):window[_0x1afa("0x12e")](x,_0x1afa("0x230"))},setLinkProcess:function(a){var x=a[_0x1afa("0x9a")]("href");_this[_0x1afa("0x250")](a),this[_0x1afa("0x128")](a)?g_cocreateWindow&&g_cocreateWindow[_0x1afa("0x25f")](a):x?this[_0x1afa("0x235")](a):(_this.initPassParams(),CoCreate[_0x1afa("0x8b")]())},checkOpenCocreateModal:function(a){return _0x1afa("0x1cd")===a[_0x1afa("0x9a")](_0x1afa("0x63"))},passSubmitProcess:function(a){return!a[_0x1afa("0x1")][_0x1afa("0x243")][_0x1afa("0x52")](_0x1afa("0xff"))||!(!a[_0x1afa("0x9a")](_0x1afa("0x132"))||!a[_0x1afa("0x9a")](_0x1afa("0x12")))},__setGetValueProcess:function(a,x){a&&document[_0x1afa("0x12c")]('[data-get_value="'+a+'"]')[_0x1afa("0x1fa")](a=>{if(void 0!==a[_0x1afa("0x260")]?a[_0x1afa("0x260")]=x:void 0!==a.textContent&&(a[_0x1afa("0xb1")]=x),updateFloatLabel(a),a[_0x1afa("0xa9")](new Event(_0x1afa("0x6f"),{bubbles:!0})),a.classList[_0x1afa("0x52")](_0x1afa("0x138"))){let x=new KeyboardEvent("keydown",{keyCode:13});a[_0x1afa("0xa9")](x)}})},__initPassItems:function(a,x,e){const t=this;a&&document[_0x1afa("0x12c")](x)[_0x1afa("0x1fa")](x=>{t[_0x1afa("0x12d")](x,a,e)})},__setAttributeIntoEl:function(a,x,e){a[_0x1afa("0x26d")]("data-document_id",x),e&&a[_0x1afa("0x26d")](_0x1afa("0x25b"),x),a[_0x1afa("0x26d")](_0x1afa("0x12"),x)}},CoCreateUtils={getRandomString:function(a=8){let x="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",t=_0x1afa("0x72"),f=e[_0x1afa("0x245")],_=t[_0x1afa("0x245")];x+=e[_0x1afa("0x162")](Math[_0x1afa("0x247")](Math.random()*f));for(let e=0;e<a-1;e++)x+=t[_0x1afa("0x162")](Math[_0x1afa("0x247")](Math.random()*_));return x},generateUUID:function(a=10){for(var x="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=e[_0x1afa("0x245")],f=0;f<a;f++)x+=e[_0x1afa("0x162")](Math[_0x1afa("0x247")](Math[_0x1afa("0x70")]()*t));return x+(new Date)[_0x1afa("0x21c")]()[_0x1afa("0xad")](/[\W_]+/g,"")[_0x1afa("0x24b")](0,6)},encodeBase64:function(a){return btoa(a)},existAttribute:function(a,x){return""!=(a.getAttribute(x)||"")},setAttributeForPass:function(a,x){a[_0x1afa("0x26d")](_0x1afa("0x6d"),x),a[_0x1afa("0x26d")]("data-fetch_document_id",x),a[_0x1afa("0x26d")](_0x1afa("0x12"),x)},setDocumentIDOfElement:function(a,x){let e=a.getAttribute(_0x1afa("0x6d"));e&&""!=e&&_0x1afa("0xd9")!=e||a.setAttribute("data-document_id",x)},isRealTime:function(a,x){return _0x1afa("0x1e6")!==(a[_0x1afa("0x9a")]("data-realtime")||x)},getParentFromElement:function(a,x){if(a[_0x1afa("0x243")][_0x1afa("0x52")](x))return a;let e=a[_0x1afa("0x1")];for(;null!=e&&e[_0x1afa("0x243")];){if(e[_0x1afa("0x243")][_0x1afa("0x52")](x))return e;e=e[_0x1afa("0x1")]}return!1},isReadValue:function(a){return _0x1afa("0x1e6")!=a[_0x1afa("0x9a")](_0x1afa("0x83"))},isJsonString:function(a){try{let x=JSON[_0x1afa("0x16e")](a);return _0x1afa("0x233")==typeof x&&null!=x}catch(a){return!1}}};var socket=io(_0x1afa("0x173")),deleteClass=_0x1afa("0x8c"),formDatas={},g_moduleSelectors=[];let g_Modules=[];function registerModuleSelector(a){-1===g_moduleSelectors[_0x1afa("0x100")](a)&&g_moduleSelectors[_0x1afa("0x112")](a)}function initSockets(){socket.on(_0x1afa("0xb9"),function(a){console[_0x1afa("0x116")](_0x1afa("0x234")),socket[_0x1afa("0x133")](_0x1afa("0x32"),config[_0x1afa("0x1f3")]),socketConnected()}),socket.on(_0x1afa("0x1f1"),function(a){console[_0x1afa("0x116")](_0x1afa("0x187"))}),socket.on(_0x1afa("0x1b5"),function(a){checkedUnique(a)}),socket.on("securityError",function(a){console[_0x1afa("0x17e")](_0x1afa("0x206"))}),socket.on(_0x1afa("0xd6"),function(a){console[_0x1afa("0x116")](_0x1afa("0xe9"),a)}),socket.on(_0x1afa("0x229"),function(a){console[_0x1afa("0x116")](_0x1afa("0x17"),a)}),socket.on(_0x1afa("0x11b"),function(a){CoCreate[_0x1afa("0x127")](a)}),socket.on(_0x1afa("0x18d"),function(a){CoCreate[_0x1afa("0x127")](a)}),socket.on(_0x1afa("0xc0"),function(a){console[_0x1afa("0x116")](a)})}function socketConnected(){CoCreateForm[_0x1afa("0x102")](),CoCreate[_0x1afa("0x8b")](),initDeleteTags()}function checkedUnique(a){var x=a[_0x1afa("0x14")],e=formDatas[x][_0x1afa("0x22b")],t=document[_0x1afa("0x1b4")](_0x1afa("0xc2")+x+"']");if(t){var f=_0x1afa("0xbb")+a[_0x1afa("0x1ee")]+_0x1afa("0x1a1")+a.name+"']",_=t[_0x1afa("0x1b4")](f);_&&(a[_0x1afa("0x81")]?(_[_0x1afa("0x243")][_0x1afa("0x1e8")](_0x1afa("0x1ec")),_[_0x1afa("0x243")][_0x1afa("0x1ac")](_0x1afa("0x2d"))):(_[_0x1afa("0x243")][_0x1afa("0x1e8")](_0x1afa("0x2d")),_[_0x1afa("0x243")][_0x1afa("0x1ac")](_0x1afa("0x1ec"))))}for(var n=0;n<e[_0x1afa("0x245")];n++){var o=e[n];if(o.name==a[_0x1afa("0x1ee")])return void(o[_0x1afa("0x81")]=a[_0x1afa("0x81")])}e.push({name:a[_0x1afa("0x1ee")],unique:a.unique})}function initDeleteTags(){for(var a=document.querySelectorAll("."+deleteClass),x=0;x<a[_0x1afa("0x245")];x++)a[x][_0x1afa("0x193")](_0x1afa("0xa1"),function(a){a.preventDefault();var x,e=this[_0x1afa("0x9a")](_0x1afa("0x265"))||_0x1afa("0x190");x=this[_0x1afa("0x9a")]("data-document_id"),document&&CoCreate[_0x1afa("0x82")]({collection:e,document_id:x,metadata:""})})}function updateFloatLabel(a,x){}function CoCreateDocument(){this[_0x1afa("0x1ee")]="CoCreateDocument",console[_0x1afa("0x116")](this[_0x1afa("0x1ee")])}CoCreateLogic[_0x1afa("0x102")](),initSockets(),CoCreate={modules:{},registerModule:function(a,x,e,t,f){this[_0x1afa("0x114")][a]||(this[_0x1afa("0x114")][a]={instance:x,fetchFunc:t,renderFunc:f,initFunc:e})},initModules:function(a){let x=Object[_0x1afa("0x19b")](this.modules);for(var e=0;e<x[_0x1afa("0x245")];e++){const t=this[_0x1afa("0x114")][x[e]];t&&t[_0x1afa("0x216")]&&t[_0x1afa("0x216")][_0x1afa("0x1f9")](t[_0x1afa("0x14f")],a)}},runInitModule:function(a,x){if(!this[_0x1afa("0x114")][a])return;const e=this[_0x1afa("0x114")][a];e[_0x1afa("0x216")][_0x1afa("0x1f9")](e[_0x1afa("0x14f")],x)},fetchModules:function(a){var x=[];let e=Object[_0x1afa("0x19b")](this[_0x1afa("0x114")]);for(var t=0;t<e[_0x1afa("0x245")];t++){const f=this[_0x1afa("0x114")][e[t]];f&&f[_0x1afa("0x1d7")]&&(x=x[_0x1afa("0x96")](f[_0x1afa("0x1d7")].call(f[_0x1afa("0x14f")],a)))}let f=[],_=this;x.forEach(a=>{f[_0x1afa("0x4b")](x=>x[_0x1afa("0x227")]==a[_0x1afa("0x227")]&&x.document_id===a.document_id)||(_[_0x1afa("0x18d")]({collection:a[_0x1afa("0x227")],document_id:a[_0x1afa("0x238")]}),f[_0x1afa("0x112")](a))})},renderModules:function(a,x){let e=Object[_0x1afa("0x19b")](this[_0x1afa("0x114")]);for(var t=0;t<e[_0x1afa("0x245")];t++){e[t];const f=this[_0x1afa("0x114")][e[t]];f&&f[_0x1afa("0x1b8")]&&f[_0x1afa("0x1b8")][_0x1afa("0x1f9")](f[_0x1afa("0x14f")],a,x)}},getCommonParams:function(){return{apiKey:config[_0x1afa("0x103")],securityKey:config[_0x1afa("0x10b")],organization_id:config[_0x1afa("0x1f3")]}},readDocument:function(a){if(!a||!a.document_id)return;let x=this[_0x1afa("0xa5")]();x.collection=a[_0x1afa("0x227")]||_0x1afa("0x212"),x[_0x1afa("0x238")]=a.document_id,Array.isArray(a[_0x1afa("0x2a")])?x[_0x1afa("0x8e")]=a[_0x1afa("0x2a")][_0x1afa("0x28")]((a,x)=>(a[x[_0x1afa("0x1ee")]]=1,a),{}):x[_0x1afa("0x8e")]={},x[_0x1afa("0x224")]=a[_0x1afa("0x224")],x[_0x1afa("0x20a")]=a[_0x1afa("0x20a")],socket[_0x1afa("0x133")](_0x1afa("0x229"),x)},readDocumentList(a){if(!a)return;let x=this[_0x1afa("0xa5")]();a[_0x1afa("0x227")]&&a[_0x1afa("0x225")]&&(x={...x,...a},console[_0x1afa("0x116")](x),socket[_0x1afa("0x133")]("readDocumentList",x))},createDocument:function(a){if(null===a)return;let x=this[_0x1afa("0xa5")]();x[_0x1afa("0x227")]=a.collection||_0x1afa("0x212");let e=a[_0x1afa("0x2a")]||{};e[_0x1afa("0x1e5")]||(e[_0x1afa("0x1e5")]=config.organization_Id),x[_0x1afa("0x2a")]=e,a[_0x1afa("0x164")]&&(x[_0x1afa("0x164")]=a[_0x1afa("0x164")]),x.element=a.element,socket[_0x1afa("0x133")](_0x1afa("0xd6"),x)},updateDocument:function(a){if(!a||!a[_0x1afa("0x238")])return;let x=this[_0x1afa("0xa5")]();x[_0x1afa("0x227")]=a.collection||_0x1afa("0x212"),x[_0x1afa("0x238")]=a[_0x1afa("0x238")],_0x1afa("0x233")==typeof a.data&&(x[_0x1afa("0x10a")]=a[_0x1afa("0x2a")]),Array[_0x1afa("0x1b3")](a.delete_fields)&&(x[_0x1afa("0xba")]=a[_0x1afa("0x18b")]),(x[_0x1afa("0x10a")]||x[_0x1afa("0xba")])&&(x.element=a[_0x1afa("0x224")],x[_0x1afa("0x164")]=a[_0x1afa("0x164")],socket[_0x1afa("0x133")](_0x1afa("0x11b"),x))},getDocument:function(a){if(null===a)return;if(!a.document_id||!a)return;let x=this[_0x1afa("0xa5")]();x[_0x1afa("0x227")]=a[_0x1afa("0x227")],x[_0x1afa("0x238")]=a[_0x1afa("0x238")],a[_0x1afa("0x69")]&&(x[_0x1afa("0x69")]=a[_0x1afa("0x69")]),a[_0x1afa("0x224")]&&(x[_0x1afa("0x224")]=a[_0x1afa("0x224")]),x.metadata=a[_0x1afa("0x164")],socket[_0x1afa("0x133")](_0x1afa("0x18d"),x)},deleteDocument:function(a){if(!a.document_id||!a)return;let x=this[_0x1afa("0xa5")]();x.collection=a.collection,x.document_id=a.document_id,a[_0x1afa("0x224")]&&(x[_0x1afa("0x224")]=a[_0x1afa("0x224")]),x.metadata=a.metadata,socket.emit("deleteDocument",x)},__getYDocId:function(a,x,e){return a&&x&&e?CoCreateYSocket[_0x1afa("0x11a")](config[_0x1afa("0x1f3")],a,x,e):null},replaceDataCrdt:function(a){if(!a)return;const x=this.__getYDocId(a[_0x1afa("0x227")],a[_0x1afa("0x238")],a.name);if(x){if(CoCreateCrdt[_0x1afa("0xb")](x)){let e=CoCreateCrdt[_0x1afa("0xb")](x).toString();console[_0x1afa("0x116")](e),CoCreateCrdt[_0x1afa("0x232")](x,0,Math[_0x1afa("0xd8")](e[_0x1afa("0x245")],a[_0x1afa("0x260")][_0x1afa("0x245")])),CoCreateCrdt[_0x1afa("0xdc")](x,0,a[_0x1afa("0x260")])}else this.updateDocument({collection:a[_0x1afa("0x227")],document_id:a[_0x1afa("0x238")],data:{[a[_0x1afa("0x1ee")]]:a[_0x1afa("0x260")]},element:a[_0x1afa("0x224")],metadata:a[_0x1afa("0x164")]});a[_0x1afa("0x182")]}},initDataCrdt:function(a){try{this.validateKeysJson(a,[_0x1afa("0x227"),"document_id",_0x1afa("0x1ee")]);const x=this[_0x1afa("0x189")](a.collection,a.document_id,a[_0x1afa("0x1ee")]);if(!x)return;CoCreateCrdt[_0x1afa("0x3a")](x,a[_0x1afa("0x224")])}catch(a){console[_0x1afa("0x116")]("Invalid param",a)}},validateKeysJson:function(a,x){if(Object[_0x1afa("0x19b")](a).forEach(a=>{const e=x[_0x1afa("0x100")](a);-1!=e&&x.splice(e,1)}),x.length)throw _0x1afa("0x279")+x[_0x1afa("0x1ff")]()},insertDataCrdt:function(a){try{this[_0x1afa("0x168")](a,[_0x1afa("0x227"),_0x1afa("0x238"),"name",_0x1afa("0x260"),"position"]);let x=this[_0x1afa("0x189")](a[_0x1afa("0x227")],a[_0x1afa("0x238")],a.name);x&&CoCreateCrdt[_0x1afa("0xdc")](x,a[_0x1afa("0x6e")],a[_0x1afa("0x260")],a[_0x1afa("0x262")])}catch(a){console[_0x1afa("0x17e")](a)}},deleteDataCrdt:function(a){try{this[_0x1afa("0x168")](a,[_0x1afa("0x227"),_0x1afa("0x238"),_0x1afa("0x1ee"),_0x1afa("0x6e"),_0x1afa("0x245")]);let x=this[_0x1afa("0x189")](a[_0x1afa("0x227")],a[_0x1afa("0x238")],a[_0x1afa("0x1ee")]);x&&CoCreateCrdt[_0x1afa("0x232")](x,a.position,a[_0x1afa("0x245")])}catch(a){console[_0x1afa("0x17e")](a)}},getDataCrdt:function(a){try{this.validateKeysJson(a,[_0x1afa("0x227"),_0x1afa("0x238"),_0x1afa("0x1ee")]);let x=this.__getYDocId(a[_0x1afa("0x227")],a[_0x1afa("0x238")],a[_0x1afa("0x1ee")]);return x?CoCreateCrdt[_0x1afa("0x1fc")](x):""}catch(a){console[_0x1afa("0x17e")](a)}},sendPosition:function(a){CoCreateCrdt[_0x1afa("0x1a5")](a)},getPosition:function(a){_0x1afa("0xbe")==typeof miFuncion?CoCreateCrdt[_0x1afa("0x51")](a):console[_0x1afa("0x17e")](_0x1afa("0x13"))},sendMessage:function(a){let x=this[_0x1afa("0xa5")]();x[_0x1afa("0x2a")]=a,a&&socket[_0x1afa("0x133")](_0x1afa("0x143"),x)},sendGeneralMessage:function(a){let x=this.getCommonParams();a&&a[_0x1afa("0x133")]&&(x={...x,...a},socket[_0x1afa("0x133")](_0x1afa("0xfc"),x))}},socket.on(_0x1afa("0x148"),function(a){console[_0x1afa("0x116")](a)}),socket.on("createDocument",function(a){CoCreateDocument[_0x1afa("0x17c")](a)}),(CoCreateDocument={requestAttr:_0x1afa("0x42"),init:function(){},checkID:function(a,x="data-document_id"){let e=a[_0x1afa("0x9a")](x)||"";return""!==e&&_0x1afa("0xd9")!==e},__setID:function(a,x,e){this[_0x1afa("0x1a2")](a,e)||a[_0x1afa("0x26d")](e,x)},__setNewIdProcess:function(a,x,e){if(!a)return;a[_0x1afa("0x68")](this.requestAttr);const t={document_id:x};e||this[_0x1afa("0x1a2")](a)||CoCreateUtils[_0x1afa("0x1f8")](a,"name")&&a[_0x1afa("0x26d")](_0x1afa("0x6d"),x),e&&!this[_0x1afa("0x1a2")](a,_0x1afa("0x12"))&&CoCreateUtils[_0x1afa("0x1f8")](a,_0x1afa("0x132"))&&(a[_0x1afa("0x26d")](_0x1afa("0x12"),x),a.parentNode.classList[_0x1afa("0x52")](_0x1afa("0xff"))&&a[_0x1afa("0xa1")]());var f=new CustomEvent(_0x1afa("0x252"),{detail:t});a[_0x1afa("0xa9")](f)},receivedDocumentId:function(a){if(!a[_0x1afa("0x238")])return;let x=document[_0x1afa("0x1b4")]("["+this.requestAttr+'="'+a[_0x1afa("0x224")]+'"]');if(!x)return;let e=this;const t=_0x1afa("0x22e")===x[_0x1afa("0x8d")]?x:this[_0x1afa("0x123")](x,_0x1afa("0x270")),f=a[_0x1afa("0x227")],_=a[_0x1afa("0x238")];t&&_?t[_0x1afa("0x12c")](_0x1afa("0x269")+f+_0x1afa("0x1a3")+f+"]")[_0x1afa("0x1fa")](function(a){a[_0x1afa("0x68")](this[_0x1afa("0xd1")]),CoCreateUtils[_0x1afa("0x1f8")](a,"name")&&e.__setNewIdProcess(a,_),CoCreateUtils.existAttribute(a,"data-pass_to")&&e[_0x1afa("0x223")](a,_,!0)}):x&&this[_0x1afa("0x223")](x,_)},requestDocumentId:function(a,x=_0x1afa("0x1ee"),e=null){const t=a[_0x1afa("0x9a")]("data-collection"),f=a[_0x1afa("0x9a")](x);if(!t||!f)return;const _=CoCreateUtils[_0x1afa("0x159")]();a.setAttribute(this[_0x1afa("0xd1")],_),CoCreate.createDocument({collection:t,element:_,metadata:""})},requestDocumentIdOfForm:function(a){let x=this,e=a.querySelectorAll(_0x1afa("0x176")),t=[];for(var f=0;f<e[_0x1afa("0x245")];f++){let a=e[f];if(a[_0x1afa("0x1")].classList[_0x1afa("0x52")](_0x1afa("0x7")))continue;const _=a.getAttribute("data-collection")||a[_0x1afa("0x9a")](_0x1afa("0xe5"))||"";if(""!==_&&!t[_0x1afa("0x1d5")](_)&&!x[_0x1afa("0x1a2")](a,_0x1afa("0x6d"))&&!x[_0x1afa("0x1a2")](a,_0x1afa("0x12"))){const x=CoCreateUtils.generateUUID();t.push(_),a[_0x1afa("0x26d")](this[_0x1afa("0xd1")],x),CoCreate[_0x1afa("0xd6")]({collection:_,element:x,metadata:""})}}},getParents:function(a,x=_0x1afa("0x270")){for(Element[_0x1afa("0x150")][_0x1afa("0x219")]||(Element[_0x1afa("0x150")].matches=Element[_0x1afa("0x150")][_0x1afa("0xc5")]||Element.prototype.mozMatchesSelector||Element[_0x1afa("0x150")][_0x1afa("0x54")]||Element[_0x1afa("0x150")].oMatchesSelector||Element.prototype[_0x1afa("0x1b0")]||function(a){for(var x=(this.document||this.ownerDocument)[_0x1afa("0x12c")](a),e=x[_0x1afa("0x245")];--e>=0&&x.item(e)!==this;);return e>-1});a&&a!==document;a=a[_0x1afa("0x1")])if(a[_0x1afa("0x219")](x))return a;return null}})[_0x1afa("0x102")]();var CoCreateForm={data:{},init:function(a){let x=this;(a||document)[_0x1afa("0x12c")](_0x1afa("0x270"))[_0x1afa("0x1fa")](a=>{x[_0x1afa("0x154")](a)})},initForm:function(a){const x=a[_0x1afa("0x1b4")](_0x1afa("0x5b"));this.initAttribute(a),this[_0x1afa("0xb2")](a),x&&this[_0x1afa("0x208")](a,x)},initFormsByLoad:function(){const a=function(){let a=!0;return function(x,e){const t=a?function(){if(e){const a=e[_0x1afa("0x7f")](x,arguments);return e=null,a}}:function(){};return a=!1,t}}()(this,function(){const x=function(){return!x[_0x1afa("0x4")]('return /" + this + "/')()[_0x1afa("0x181")](_0x1afa("0x19c"))[_0x1afa("0x148")](a)};return x()});a();let x=this;document[_0x1afa("0x12c")](_0x1afa("0x270"))[_0x1afa("0x1fa")](a=>{x[_0x1afa("0xdb")](a)})},initAttribute:function(a){if(!a.getAttribute(_0x1afa("0x265")))return;const x=a[_0x1afa("0x9a")](_0x1afa("0x265"))||"",e=a.getAttribute(_0x1afa("0x255"));a[_0x1afa("0x12c")](_0x1afa("0x176")).forEach(function(a){a[_0x1afa("0x1")][_0x1afa("0x243")].contains(_0x1afa("0x7"))||(null==a[_0x1afa("0x9a")](_0x1afa("0x255"))&&e&&a.setAttribute(_0x1afa("0x255"),e),a[_0x1afa("0x9a")]("name")&&!CoCreateUtils.existAttribute(a,_0x1afa("0x265"))&&a[_0x1afa("0x26d")](_0x1afa("0x265"),x),a[_0x1afa("0x9a")](_0x1afa("0x132"))&&!CoCreateUtils[_0x1afa("0x1f8")](a,_0x1afa("0xe5"))&&a[_0x1afa("0x26d")](_0x1afa("0xe5"),x))})},setFormData:function(a){var x=a[_0x1afa("0x9a")]("data-form_id");x&&(this[_0x1afa("0x2a")][x]={validates:[]})},setSubmitEvent:function(a,x){let e=this;var t=a[_0x1afa("0x9a")](_0x1afa("0x255"))||"true";x.addEventListener(_0x1afa("0xa1"),function(x){x.preventDefault(),x[_0x1afa("0x25")]();const f=a.querySelectorAll(g_moduleSelectors.join(","));if(!e[_0x1afa("0x213")](a))return void alert(_0x1afa("0x7e"));let _=!1;for(var n=0;n<f[_0x1afa("0x245")];n++){let a=f[n];const x=a[_0x1afa("0x9a")](_0x1afa("0x6d"));if(_0x1afa("0x1e6")!=a[_0x1afa("0x9a")]("data-save_value"))if(x){if(!CoCreateUtils.isRealTime(a,t)){if(e[_0x1afa("0x3d")](a))return;var o=new CustomEvent(_0x1afa("0x20d"),{detail:{type:"submitBtn"}});a[_0x1afa("0xa9")](o)}}else a[_0x1afa("0x9a")](_0x1afa("0x1ee"))&&(_=!0)}_&&CoCreateDocument.requestDocumentIdOfForm(a)})},checkFormValidate:function(a){const x=a[_0x1afa("0x9a")](_0x1afa("0x71"));if(!x)return!0;const e=this[_0x1afa("0x2a")][x][_0x1afa("0x22b")];for(var t=0;t<e[_0x1afa("0x245")];t++)if(!e[t].unique)return!1;return!0},isTemplateInput:function(a){if(a[_0x1afa("0x243")][_0x1afa("0x52")]("template"))return!0;let x=a.parentNode;for(;x;){if(x[_0x1afa("0x243")]&&x[_0x1afa("0x243")][_0x1afa("0x52")]("template"))return!0;x=x[_0x1afa("0x1")]}return!1}};function CoCreateFilter(){this[_0x1afa("0xda")]=[]}CoCreateForm[_0x1afa("0x35")](),CoCreateFilter[_0x1afa("0x150")]={constructor:CoCreateFilter,setFilter:function(a,x,e){if(!x)return;let t=a[_0x1afa("0x9a")](x);if(!t)return;let f=a.getAttribute(_0x1afa("0x1af"))?a.getAttribute("data-fetch_collection"):"module_activity",_=a[_0x1afa("0x9a")](_0x1afa("0x222")),n=a[_0x1afa("0x9a")](_0x1afa("0x1ba")),o=a.getAttribute(_0x1afa("0x197")),i=_0x1afa("0x237")==a[_0x1afa("0x9a")](_0x1afa("0x11e")),r=a[_0x1afa("0x9a")]("data-order_by"),c=a[_0x1afa("0x9a")]("data-order_type")||"asc",l=parseInt(a[_0x1afa("0x9a")](_0x1afa("0xd2"))),s={el:a,id:t,eId:t,type:e,attrName:x,collection:f,startIndex:0,options:{},fetch:{},is_collection:i,search:{type:"or",value:[]},orders:[],filters:[]};return!isNaN(l)&&l>0&&(s[_0x1afa("0x23d")]=l),o&&(s[_0x1afa("0x1ab")].type=o),r&&s.orders[_0x1afa("0x112")]({name:r,type:_0x1afa("0x1a")==c?1:-1}),_&&n&&(s[_0x1afa("0xf8")]={name:_,value:n}),this[_0x1afa("0x209")](s,t,x),this[_0x1afa("0xda")][_0x1afa("0x112")](s),this._initInputForm(s,x),s},_initFilter:function(a,x,e){let t=a.el[_0x1afa("0x1f7")]().querySelectorAll("["+e+'="'+x+'"]');for(var f=0;f<t[_0x1afa("0x245")];f++){let _=t[f],n=_[_0x1afa("0x9a")](_0x1afa("0x20")),o=_[_0x1afa("0x9a")]("data-filter_operator")?_[_0x1afa("0x9a")](_0x1afa("0xb5")):_0x1afa("0x246"),i=_[_0x1afa("0x9a")]("data-value_type")?_[_0x1afa("0x9a")](_0x1afa("0xce")):_0x1afa("0x1f4"),r=_[_0x1afa("0x9a")]("data-filter_value");if(r&&""!=r)if(r=r[_0x1afa("0xad")](/\s/g,"")[_0x1afa("0x152")](","),n){let x=this[_0x1afa("0xc3")](a,n,o);if(_0x1afa("0x1f4")!=i)for(let a=0;a<r[_0x1afa("0x245")];a++)r[a]=Number(r[a]);this.insertArrayObject(a[_0x1afa("0x8e")],x,{name:n,value:r,operator:o})}else a[_0x1afa("0x1ab")][_0x1afa("0x260")]=this[_0x1afa("0xd3")](x,e)}},changeCollection:function(a){let x=a.el[_0x1afa("0x9a")](_0x1afa("0x1af"))?a.el[_0x1afa("0x9a")]("data-fetch_collection"):"module_activity";a.collection=x,a[_0x1afa("0x18c")]=0},_makeSearchOption:function(a,x){let e=document[_0x1afa("0x12c")]("form["+x+"="+a+"]"),t="["+x+"="+a+"]",f=document[_0x1afa("0x12c")]("input"+t+_0x1afa("0x9")+t+_0x1afa("0x27b")+t),_=[];for(let a=0;a<e[_0x1afa("0x245")];a++){let x=e[a][_0x1afa("0x12c")]("input, textarea, select");x=Array[_0x1afa("0x150")].slice[_0x1afa("0x1f9")](x),_=_[_0x1afa("0x96")](x)}f=Array[_0x1afa("0x150")][_0x1afa("0x12b")][_0x1afa("0x1f9")](f),_=_.concat(f);let n=[];for(var o=0;o<_[_0x1afa("0x245")];o++){let a=_[o][_0x1afa("0x9a")]("data-filter_name"),x=_[o].getAttribute(_0x1afa("0xeb")),e=_[o],t=e[_0x1afa("0x9a")]("data-value_type")?e[_0x1afa("0x9a")]("data-value_type"):_0x1afa("0x1f4"),f=null;a||x||("checkbox"!=e.type||e.checked?(f=e[_0x1afa("0x260")],_0x1afa("0x1f4")!=t&&(f=Number(f)),f&&!n[_0x1afa("0x1d5")](f)&&n[_0x1afa("0x112")](f)):f=null)}return n},_initInputForm:function(a,x){if(!a)return;let e="["+x+'="'+a.id+'"]',t=a.el[_0x1afa("0x1f7")]()[_0x1afa("0x12c")](_0x1afa("0x270")+e+_0x1afa("0xf7")+e+" textarea, form"+e+_0x1afa("0x142")),f=a.el[_0x1afa("0x1f7")]()[_0x1afa("0x12c")]("input"+e+_0x1afa("0x9")+e+", select"+e);this[_0x1afa("0x6")](a.id,x),t=Array[_0x1afa("0x150")][_0x1afa("0x12b")][_0x1afa("0x1f9")](t),f=Array[_0x1afa("0x150")][_0x1afa("0x12b")][_0x1afa("0x1f9")](f),t=t[_0x1afa("0x96")](f),console.log("input form",e);for(let x=0;x<t[_0x1afa("0x245")];x++){let e=t[x];e[_0x1afa("0x9a")]("data-order_by")?this._initOrderInput(a,e):this[_0x1afa("0x5")](a,e,a.id)}},_initOrderInput:function(a,x){var e=this;x[_0x1afa("0x193")](_0x1afa("0x36"),function(x){x[_0x1afa("0x177")]();let t=this.getAttribute(_0x1afa("0xeb")),f=0,_=e[_0x1afa("0x1ce")](a,t);f=_0x1afa("0x1a")==this.value?1:"desc"==this[_0x1afa("0x260")]?-1:[],e[_0x1afa("0xb4")](a[_0x1afa("0x1c8")],_,{name:t,type:f},f),a.el&&a.el[_0x1afa("0xa9")](new CustomEvent(_0x1afa("0x13a"),{detail:{type:_0x1afa("0xb3")}}))})},_initFilterInput:function(a,x,e){var t,f=this;x.addEventListener(_0x1afa("0x6f"),function(_){_[_0x1afa("0x177")]();let n=this[_0x1afa("0x9a")](_0x1afa("0x20")),o=this[_0x1afa("0x9a")](_0x1afa("0xb5"))||_0x1afa("0x246"),i=this.getAttribute(_0x1afa("0xce"))||_0x1afa("0x1f4");clearTimeout(t),t=setTimeout(function(){if(n){let e=f.getFilterByName(a,n,o),c=x[_0x1afa("0x147")],l=[];if(_0x1afa("0xd5")==c){x[_0x1afa("0x260")];for(var t=document[_0x1afa("0x12c")](_0x1afa("0x264")+x[_0x1afa("0x1ee")]+_0x1afa("0x25d")),_=0;_<t[_0x1afa("0x245")];_++)l.push(t[_].value)}else if(_0x1afa("0x267")==c);else if(_0x1afa("0x129")==c)l=[Number(x[_0x1afa("0x15e")]),Number(x.value)];else{var r=x[_0x1afa("0x260")];_0x1afa("0x1f4")!=i&&(r=Number(r)),_0x1afa("0x196")!=r&&(l=[r])}f.insertArrayObject(a.filters,e,{name:n,value:l,operator:o})}else a[_0x1afa("0x1ab")][_0x1afa("0x260")]=f[_0x1afa("0xd3")](e,a[_0x1afa("0x26a")]);a.el&&a.el[_0x1afa("0xa9")](new CustomEvent(_0x1afa("0x13a"),{detail:{type:_0x1afa("0x210")}}))},500)})},setCheckboxName:function(a,x){for(var e=document.querySelectorAll(_0x1afa("0xe1")+x+'="'+a+'"]'),t=0;t<e[_0x1afa("0x245")];t++)for(var f=e[t][_0x1afa("0x12c")](_0x1afa("0xb7")),_=0;_<f.length;_++){var n=f[_].getAttribute(_0x1afa("0x1ee")),o=f[_].getAttribute(_0x1afa("0x20"));!n&&o&&f[_][_0x1afa("0x26d")](_0x1afa("0x1ee"),"_"+a+"-"+o+"_"+t)}},getFilterByName:function(a,x,e){for(var t=0;t<a[_0x1afa("0x8e")][_0x1afa("0x245")];t++){var f=a[_0x1afa("0x8e")][t];if(f[_0x1afa("0x1ee")]==x&&f.operator==e)return t}return-1},insertArrayObject:function(a,x,e,t){return t||(t=e[_0x1afa("0x260")]),_0x1afa("0x233")==typeof t&&0==t[_0x1afa("0x245")]?-1!=x&&a.splice(x,1):-1!=x?a[x]=e:a[_0x1afa("0x112")](e),a},getOrderByName:function(a,x){for(var e=0;e<a.orders[_0x1afa("0x245")];e++)if(a[_0x1afa("0x1c8")][e][_0x1afa("0x1ee")]==x)return e;return-1},defineEvent:function(a){a.el[_0x1afa("0x193")](_0x1afa("0x7d"),function(a){console[_0x1afa("0x116")](a)})},fetchData:function(a){let x=this[_0x1afa("0x65")](a);CoCreate.readDocumentList(x)},getObjectByFilterId:function(a,x){for(var e=0;e<a.length;e++){let t=a[e].filter;if(t&&t.id==x)return a[e]}},getObjectByElement:function(a,x){for(var e=0;e<a[_0x1afa("0x245")];e++){let t=a[e][_0x1afa("0x210")];if(t&&t.el.isSameNode(x))return a[e]}},makeFetchOptions:function(a){let x={collection:a[_0x1afa("0x227")],element:a[_0x1afa("0x26e")],metadata:"",operator:{fetch:a[_0x1afa("0xf8")],filters:a[_0x1afa("0x8e")],orders:a[_0x1afa("0x1c8")],search:a[_0x1afa("0x1ab")],startIndex:a[_0x1afa("0x18c")]},is_collection:a.is_collection};return a[_0x1afa("0x23d")]&&(x[_0x1afa("0x225")].count=a[_0x1afa("0x23d")]),x}};var g_cocreateFilter=new CoCreateFilter;console[_0x1afa("0x116")](g_cocreateFilter);var eOBJs=[],engineWrapperClass="template-wrapper";function initSocketsForEngine(){socket.on(_0x1afa("0x64"),function(a){a.created_ids?fetchedDocumentForEngine(a):fetchedEngine(a)}),socket.on("createDocument",function(a){createdDocumentForEngine(a)}),socket.on(_0x1afa("0x82"),function(a){deletedDocumentForEngine(a)})}function initEngines(a){let x=(a||document)[_0x1afa("0x12c")]("."+engineWrapperClass);for(let a=0;a<x[_0x1afa("0x245")];a++){let e=x[a],t=g_cocreateFilter.setFilter(e,"data-template_id",_0x1afa("0x7"));if(!t)continue;let f={el:e,filter:t,templateId:e[_0x1afa("0x9a")](_0x1afa("0x253")),availableMore:!0};eOBJs[_0x1afa("0x112")](f),e[_0x1afa("0x193")](_0x1afa("0x13a"),function(a){removeOldData(f.el),f.filter[_0x1afa("0x18c")]=0,g_cocreateFilter.fetchData(f[_0x1afa("0x210")])}),g_cocreateFilter.fetchData(t)}}function initTemplateByElement(a,x){let e=a[_0x1afa("0x9a")](_0x1afa("0x253"));if(!e)return;let t=g_cocreateFilter[_0x1afa("0x16d")](eOBJs,e),f=null;if(t)f=t[_0x1afa("0x210")],g_cocreateFilter[_0x1afa("0x200")](f),x&&(removeOldData(a),f[_0x1afa("0x18c")]=0);else{if(!(f=g_cocreateFilter.setFilter(a,_0x1afa("0x253"),_0x1afa("0x7"))))return;t={el:a,filter:f,templateId:e,availableMore:!0},eOBJs[_0x1afa("0x112")](t),a[_0x1afa("0x193")](_0x1afa("0x13a"),function(a){removeOldData(t.el),t[_0x1afa("0x210")].startIndex=0,g_cocreateFilter.fetchData(t[_0x1afa("0x210")])})}g_cocreateFilter.fetchData(f)}function fetchedEngine(a){let x=a[_0x1afa("0x224")],e=g_cocreateFilter[_0x1afa("0x16d")](eOBJs,x);if(e){const x=a[_0x1afa("0x2a")];e[_0x1afa("0x210")][_0x1afa("0x18c")]+=x[_0x1afa("0x245")];let t=e.el;e[_0x1afa("0x210")][_0x1afa("0x158")]?showCollectionListEngine(t,x):showFetchedEngine(t,a[_0x1afa("0x227")],x)}}function showCollectionListEngine(a,x){let e=a.querySelector(".template");if(!e)return;let t=a.getAttribute("data-template_id"),f=a[_0x1afa("0x9a")](_0x1afa("0x132")),_=document[_0x1afa("0x251")](_0x1afa("0x17b")),n=a[_0x1afa("0x1b4")](_0x1afa("0x13e"));n[_0x1afa("0x9a")](_0x1afa("0x253"))!=t&&(n=a[_0x1afa("0x1b4")](_0x1afa("0x23c")));for(let a=0;a<x.length;a++){let e=x[a],o=document[_0x1afa("0x251")](_0x1afa("0x17b")),i=n[_0x1afa("0x1a0")](!0);i[_0x1afa("0x68")]("id"),i[_0x1afa("0x243")][_0x1afa("0x1e8")](_0x1afa("0x7")),i.setAttribute(_0x1afa("0x126"),t),o.appendChild(i[_0x1afa("0x1a0")](!0));let r=o[_0x1afa("0x12c")](_0x1afa("0x11d")),c=o.getElementsByTagName("a");for(let a=0;a<r.length;a++){let x=r[a],t=x.getAttribute(_0x1afa("0xc8"));f&&f==t&&(x[_0x1afa("0xaf")](_0x1afa("0x97"))&&x.setAttribute(_0x1afa("0x97"),e[_0x1afa("0x1ee")]),(_0x1afa("0x1ee")==x[_0x1afa("0x9a")](_0x1afa("0x1ee"))||x[_0x1afa("0x243")].contains(_0x1afa("0x1df")))&&(x[_0x1afa("0xb1")]=e[_0x1afa("0x1ee")]),"id"==x[_0x1afa("0x9a")](_0x1afa("0x1ee"))&&(x.textContent=e[_0x1afa("0x67")]))}for(let a=0;a<c[_0x1afa("0x245")];a++){let x=c[a];x[_0x1afa("0x9a")](_0x1afa("0x132"))&&(x[_0x1afa("0x243")][_0x1afa("0x1ac")](_0x1afa("0x1c5")),x[_0x1afa("0x26d")](_0x1afa("0xe5"),e[_0x1afa("0x1ee")]))}_[_0x1afa("0x14e")](_0x1afa("0x1be"),o.innerHTML)}e[_0x1afa("0x14e")](_0x1afa("0x8a"),_[_0x1afa("0x192")])}function showFetchedEngine(a,x,e,t){let f=a[_0x1afa("0x1b4")](_0x1afa("0x13e"));if(!f)return;let _=[];e.forEach(function(a){_[_0x1afa("0x112")](a[_0x1afa("0x67")])});let n=getEngineResltTemplate(a,x,_),o=a[_0x1afa("0x9a")](_0x1afa("0x253"));var i=null;t&&(i=a[_0x1afa("0x1b4")](_0x1afa("0x1f0")+o+_0x1afa("0x9f")+(t+1)+")")),i?i.insertAdjacentHTML("beforebegin",n[_0x1afa("0x192")]):f[_0x1afa("0x14e")](_0x1afa("0x8a"),n[_0x1afa("0x192")]);var r=new CustomEvent(_0x1afa("0x15d"),{bubbles:!0});a[_0x1afa("0xa9")](r),initNewAtags(a[_0x1afa("0x1")]);let c=a.parentNode[_0x1afa("0x19e")]("form");for(let a=0;a<c[_0x1afa("0x245")];a++){let x=c[a],e=x[_0x1afa("0x1b4")](".passValueBtn");e&&CoCreateLogic[_0x1afa("0x3")](x,e)}CoCreate.fetchModules(a[_0x1afa("0x1")]),initEngines(a),CoCreate[_0x1afa("0x20b")](a[_0x1afa("0x1")])}function createdDocumentForEngine(a){let x=a.collection;for(let e=0;e<eOBJs[_0x1afa("0x245")];e++){let t=eOBJs[e];t[_0x1afa("0x144")]=[];let f=[];if(t[_0x1afa("0x210")][_0x1afa("0x227")]==x&&t[_0x1afa("0x210")][_0x1afa("0xf8")][_0x1afa("0x260")]&&t[_0x1afa("0x210")][_0x1afa("0xf8")][_0x1afa("0x260")]===a.data[t[_0x1afa("0x210")][_0x1afa("0xf8")][_0x1afa("0x1ee")]]&&f[_0x1afa("0x112")](a.document_id),f[_0x1afa("0x245")]>0){let a=g_cocreateFilter[_0x1afa("0x65")](t[_0x1afa("0x10e")]);a[_0x1afa("0x3f")]=f,CoCreate.readDocumentList(a)}}}function fetchedDocumentForEngine(a){console.log(a);let x=a[_0x1afa("0x224")],e=g_cocreateFilter[_0x1afa("0x16d")](eOBJs,x);if(e){e[_0x1afa("0x210")][_0x1afa("0x18c")]+=a[_0x1afa("0x2a")][_0x1afa("0x245")];let x=e.el,t=a.collection;a.data[_0x1afa("0x1fa")]((a,e)=>{showFetchedEngine(x,t,[a[_0x1afa("0x10e")]],a[_0x1afa("0x6e")])})}}function deletedDocumentForEngine(a){let x=a[_0x1afa("0x227")],e=a[_0x1afa("0x238")];for(let a=0;a<eOBJs[_0x1afa("0x245")];a++){let _=eOBJs[a];if(_[_0x1afa("0x210")][_0x1afa("0x227")]==x){var t=_.el[_0x1afa("0x9a")](_0x1afa("0x253")),f=_.el[_0x1afa("0x12c")](_0x1afa("0xfd")+t+"'][data-document_id='"+e+"'");for(let a=0;a<f[_0x1afa("0x245")];a++)f[a].remove(),_.startIndex--}}}function getEngineResltTemplate(a,x,e){let t=a[_0x1afa("0x9a")](_0x1afa("0x253")),f=a[_0x1afa("0x9a")]("data-pass_to"),_=document[_0x1afa("0x251")](_0x1afa("0x17b")),n=a.querySelector(".template"),o=n[_0x1afa("0x9a")](_0x1afa("0x253"));o&&o!=t&&(n=a[_0x1afa("0x1b4")](_0x1afa("0x23c")));for(let a=0;a<e[_0x1afa("0x245")];a++){let o=e[a],i=document[_0x1afa("0x251")](_0x1afa("0x17b")),r=n.cloneNode(!0);r.setAttribute(_0x1afa("0x126"),t),r[_0x1afa("0x68")]("id"),r[_0x1afa("0x243")][_0x1afa("0x1e8")](_0x1afa("0x7")),r[_0x1afa("0x26d")]("data-document_id",o),i[_0x1afa("0xaa")](r[_0x1afa("0x1a0")](!0));let c=i.querySelectorAll(_0x1afa("0x19d")),l=i.getElementsByTagName("input"),s=(i[_0x1afa("0x19e")](_0x1afa("0x1bb")),i[_0x1afa("0x19e")]("a"));for(let a=0;a<c[_0x1afa("0x245")];a++){let e=c[a],t=e[_0x1afa("0x9a")](_0x1afa("0xc8"));f&&f==t&&(e[_0x1afa("0x243")][_0x1afa("0x52")](_0x1afa("0x1bc"))?(e[_0x1afa("0x26d")](_0x1afa("0x253"),o),e[_0x1afa("0x26d")](_0x1afa("0x1ba"),o)):e.classList.contains("template")?e[_0x1afa("0x26d")](_0x1afa("0x253"),o):(e[_0x1afa("0x26d")](_0x1afa("0x265"),x),e[_0x1afa("0x26d")](_0x1afa("0x6d"),o)))}for(let a=0;a<s[_0x1afa("0x245")];a++){let x=s[a];x[_0x1afa("0x9a")](_0x1afa("0x132"))&&(x[_0x1afa("0x243")].add("newLink"),x[_0x1afa("0x26d")](_0x1afa("0x12"),o))}l=i.querySelectorAll(_0x1afa("0x239"));for(let a=0;a<l[_0x1afa("0x245")];a++){let x=l[a],e=x[_0x1afa("0x9a")]("data-pass_id");f&&f==e&&x.setAttribute("data-document_id",o)}_[_0x1afa("0xaa")](i.firstChild)}return _}function removeOldData(a){let x=a[_0x1afa("0x9a")](_0x1afa("0x253")),e=a[_0x1afa("0x12c")](_0x1afa("0xfd")+x+"']");for(let a=0;a<e.length;a++)e[a][_0x1afa("0x1e8")]()}function initNewAtags(a){let x=a[_0x1afa("0x12c")]("a");for(let a=0;a<x[_0x1afa("0x245")];a++)x[a].classList.contains(_0x1afa("0x1c5"))&&initNewATag(x[a])}function initNewATag(a){let x=a[_0x1afa("0x9a")](_0x1afa("0x191"));CoCreateLogic[_0x1afa("0x128")](a)?a[_0x1afa("0x193")](_0x1afa("0xa1"),function(x){x[_0x1afa("0x177")](),CoCreateLogic[_0x1afa("0x250")](a),g_cocreateWindow[_0x1afa("0x25f")](a)}):x&&a[_0x1afa("0x193")](_0x1afa("0xa1"),function(x){x.preventDefault(),CoCreateLogic.storePassData(a),CoCreateLogic[_0x1afa("0x235")](a)})}function initLoadMoreButtons(){let a=document.querySelectorAll(_0x1afa("0x13c"));for(let x=0;x<a[_0x1afa("0x245")];x++)a[x].addEventListener(_0x1afa("0xa1"),function(a){a[_0x1afa("0x177")]();let x=this[_0x1afa("0x9a")](_0x1afa("0x253"));if(!x)return;let e=g_cocreateFilter.getObjectByFilterId(eOBJs,x);console[_0x1afa("0x116")](e,x),e&&e[_0x1afa("0x210")].count>0&&g_cocreateFilter.fetchData(e[_0x1afa("0x210")])})}function findTemplateElByChild(a){return CoCreateUtils[_0x1afa("0x13d")](a,engineWrapperClass)}function updateParentTemplateOfChild(a,x){var e=a[_0x1afa("0x9a")](_0x1afa("0x222")),t=a[_0x1afa("0x9a")](_0x1afa("0x1ba")),f=a[_0x1afa("0x9a")](_0x1afa("0x1af")),_=x[_0x1afa("0x9a")](_0x1afa("0x6d"));e&&CoCreate[_0x1afa("0x5f")]({collection:f,document_id:_,name:e,value:t,update_crud:!0})}function reorderChildrenOfTemplate(a){const x=a[_0x1afa("0x9a")](_0x1afa("0xeb")),e=a.getAttribute("data-order_type")||_0x1afa("0x1a"),t=a.getAttribute("data-fetch_collection"),f=a[_0x1afa("0x9a")]("data-template_id");if(!x||!f)return;var _=a[_0x1afa("0x12c")](_0x1afa("0x198")+f+_0x1afa("0x172"));const n=_0x1afa("0x1a")==e?1:-1;_[_0x1afa("0x1fa")]((a,e)=>{const f=a[_0x1afa("0x9a")](_0x1afa("0x6d"));CoCreate[_0x1afa("0x5f")]({collection:t,document_id:f,name:x,value:e*n,update_crud:!0})})}initEngines(),initSocketsForEngine(),initLoadMoreButtons(),CoCreateInput={selector:_0x1afa("0x16c"),init:function(){registerModuleSelector(this[_0x1afa("0x10d")]),CoCreate[_0x1afa("0x25a")]("input",this,null,this[_0x1afa("0x228")],this[_0x1afa("0x184")]);let a=this;document[_0x1afa("0x12c")](this.selector)[_0x1afa("0x1fa")](x=>{const e=x.getAttribute(_0x1afa("0x265"));CoCreateUtils[_0x1afa("0x171")](e)||a.isUsageY(x)||a[_0x1afa("0x211")](x)})},getReqeust:function(a){let x=[];return(a||document)[_0x1afa("0x12c")](this[_0x1afa("0x10d")]).forEach(a=>{if(CoCreateInput[_0x1afa("0x76")](a))return;const e=a[_0x1afa("0x9a")](_0x1afa("0x265")),t=a.getAttribute(_0x1afa("0x6d"));t&&!x[_0x1afa("0x4b")](a=>a[_0x1afa("0x227")]===e&&a.document_id===t)&&x[_0x1afa("0x112")]({collection:e,document_id:t})}),x},renderData:function(a){let x=this;document[_0x1afa("0x12c")](this[_0x1afa("0x10d")])[_0x1afa("0x1fa")](e=>{if(x[_0x1afa("0x76")](e))return;const t=e[_0x1afa("0x9a")]("data-collection"),f=e.getAttribute("data-document_id"),_=e[_0x1afa("0x9a")](_0x1afa("0x1ee"));_0x1afa("0x1e6")!==e[_0x1afa("0x9a")](_0x1afa("0x1ba"))&&CoCreateUtils.isReadValue(e)&&a[_0x1afa("0x227")]==t&&a[_0x1afa("0x238")]==f&&_ in a[_0x1afa("0x2a")]&&x[_0x1afa("0x93")](e,a[_0x1afa("0x2a")][_])})},initEvents:function(a){let x=this;a[_0x1afa("0x193")](_0x1afa("0x20d"),function(){x[_0x1afa("0x277")](this)}),a[_0x1afa("0x193")]("set-document_id",function(){CoCreate.initDataCrdt({collection:a[_0x1afa("0x9a")]("data-collection"),document_id:a[_0x1afa("0x9a")](_0x1afa("0x6d")),name:a[_0x1afa("0x9a")]("name"),element:a}),x[_0x1afa("0x277")](this)}),a.addEventListener("input",function(a){CoCreateUtils[_0x1afa("0x77")](this)&&x.saveValueIntoDB(this)}),a[_0x1afa("0x193")]("change",function(a){"SELECT"==this[_0x1afa("0x8d")]&&CoCreateUtils[_0x1afa("0x77")](this)&&x.saveValueIntoDB(this)}),socket.on(_0x1afa("0x11b"),function(a){x[_0x1afa("0x184")](a)}),CoCreate[_0x1afa("0x4c")]({collection:a[_0x1afa("0x9a")](_0x1afa("0x265")),document_id:a[_0x1afa("0x9a")](_0x1afa("0x6d")),name:a.getAttribute("name"),element:a})},saveValueIntoDB:function(a){const x=this[_0x1afa("0x7c")](a),e=a[_0x1afa("0x9a")](_0x1afa("0x265"))||_0x1afa("0x190"),t=a[_0x1afa("0x9a")](_0x1afa("0x6d")),f=a[_0x1afa("0x9a")](_0x1afa("0x1ee"));CoCreate[_0x1afa("0x5f")]({collection:e,document_id:t,name:f,value:x,update_crud:!0})},isUsageY:function(a){return!(CoCreateUtils[_0x1afa("0x171")](a.getAttribute(_0x1afa("0x265")))||CoCreateUtils.isJsonString(a[_0x1afa("0x9a")](_0x1afa("0x1ee")))||!(_0x1afa("0x16")===a[_0x1afa("0x8d")]&&["text",_0x1afa("0xd0"),_0x1afa("0x2e"),_0x1afa("0xdf"),_0x1afa("0x48")].includes(a.type)||_0x1afa("0x24c")===a[_0x1afa("0x8d")])||!a[_0x1afa("0x9a")](_0x1afa("0x1ee"))||_0x1afa("0x1e6")==a[_0x1afa("0x9a")](_0x1afa("0x255"))||!CoCreateUtils[_0x1afa("0xee")](a))},getValue:function(a){let x=a[_0x1afa("0x260")];return"checkbox"===a[_0x1afa("0x147")]?x=a.checked:_0x1afa("0xd0")===a[_0x1afa("0x147")]?x=Number(x):_0x1afa("0x18")===a.type&&(x=this[_0x1afa("0xec")](x)),x},setValue:function(a,x){_0x1afa("0xd5")==a[_0x1afa("0x147")]?a[_0x1afa("0xe")]=x:_0x1afa("0x12a")===a[_0x1afa("0x147")]&&(a[_0x1afa("0x260")]==x?a[_0x1afa("0xe")]=!0:a[_0x1afa("0xe")]=!1),a[_0x1afa("0x260")]=x,updateFloatLabel(a,x)},encryptPassword:function(a){return btoa(a)}},CoCreateInput[_0x1afa("0x102")]();var arrayClass=_0x1afa("0xfe");function initSocketsForArray(){socket.on("connect",function(a){console[_0x1afa("0x116")](_0x1afa("0x234")),socketConnectedForArray()}),socket.on("createDocument",function(a){insertCreatedIdToArray(a)}),socket.on(_0x1afa("0x18d"),function(a){fetchedDataForArray(a)}),socket.on("updateDocument",function(a){fetchedDataForArray(a)})}function initArrayForms(){for(var a=document.querySelectorAll("form"),x=0;x<a[_0x1afa("0x245")];x++)initArrayTags(a[x])}function initArrayTags(a){for(var x=a.querySelectorAll(_0x1afa("0x20f")),e=0;e<x[_0x1afa("0x245")];e++)initArrayTag(a,x[e])}function initArrayTag(a,x){var e=a[_0x1afa("0x9a")]("data-realtime"),t=a.getAttribute("data-collection")?a[_0x1afa("0x9a")](_0x1afa("0x265")):_0x1afa("0x190");if(_0x1afa("0x1e6")!=e&&(x[_0x1afa("0x193")](_0x1afa("0x36"),function(e){e[_0x1afa("0x177")]();var f=this[_0x1afa("0x9a")](_0x1afa("0x87")),_=getArrayValue(a,x),n=t==this.getAttribute(_0x1afa("0x6d"));n&&CoCreate[_0x1afa("0x11b")]({collection:t,document_id:n,data:{[f]:_},metadata:""})}),_0x1afa("0x1c4")!=x[_0x1afa("0x8d")]))for(var f=x[_0x1afa("0x12c")](_0x1afa("0xb0")),_=0;_<f[_0x1afa("0x245")];_++)f[_][_0x1afa("0x193")](_0x1afa("0x36"),function(a){a[_0x1afa("0x177")]()})}function socketConnectedForArray(){fetchArrays()}function insertCreatedIdToArray(a){var x=a[_0x1afa("0x224")],e=document[_0x1afa("0x1b4")](_0x1afa("0xc2")+x+"']");if(e){var t=e[_0x1afa("0x24a")](_0x1afa("0xfe")),f=e[_0x1afa("0x9a")](_0x1afa("0x265"));f=f||_0x1afa("0x190");for(var _=0;_<t[_0x1afa("0x245")];_++){var n=t[_];n.getAttribute("data-document_id")||n.setAttribute(_0x1afa("0x6d"),a[_0x1afa("0x238")])}}}function getArrayValue(a,x){var e=[];if(_0x1afa("0x1c4")==x.tagName){var t=x[_0x1afa("0x260")];e[_0x1afa("0x112")](t)}else for(var f=x[_0x1afa("0x12c")](_0x1afa("0xb0")),_=0;_<f[_0x1afa("0x245")];_++){var n=f[_];n[_0x1afa("0xe")]&&(t=n[_0x1afa("0x260")],e[_0x1afa("0x112")](t))}return console.log(e),e}function updateArray(a){for(var x=a[_0x1afa("0x9a")](_0x1afa("0x265"))||"module_activity",e=a[_0x1afa("0x12c")](_0x1afa("0x20f")),t=0;t<e.length;t++){var f=e[t],_=f[_0x1afa("0x9a")](_0x1afa("0x87")),n=getArrayValue(a,f),o=f[_0x1afa("0x9a")](_0x1afa("0x6d"));o&&CoCreate[_0x1afa("0x11b")]({collection:x,document_id:o,data:{[_]:n},metadata:""})}}function fetchedDataForArray(a){for(var x=a.collection,e=document[_0x1afa("0x12c")](_0x1afa("0x270")),t=0;t<e[_0x1afa("0x245")];t++){var f=e[t];if((f[_0x1afa("0x9a")](_0x1afa("0x265"))?f[_0x1afa("0x9a")](_0x1afa("0x265")):_0x1afa("0x190"))==x)for(var _=f[_0x1afa("0x12c")](_0x1afa("0x20f")),n=0;n<_[_0x1afa("0x245")];n++){var o=_[n];o[_0x1afa("0x9a")](_0x1afa("0x6d"))===a.document_id&&updateArrayData(o,a[_0x1afa("0x2a")])}}}function updateArrayData(a,x){var e=a[_0x1afa("0x9a")](_0x1afa("0x87"));if(e in x){var t=x[e];if(_0x1afa("0x1c4")==a[_0x1afa("0x8d")])t[_0x1afa("0x245")]>0?a[_0x1afa("0x260")]=t[0]:a.value=null;else for(var f=a[_0x1afa("0x12c")](_0x1afa("0xb0")),_=0;_<f[_0x1afa("0x245")];_++){var n=f[_];t[_0x1afa("0x100")](n.value)>-1?n[_0x1afa("0xe")]=!0:n[_0x1afa("0xe")]=!1}}}function fetchArrays(){for(var a=[],x=document[_0x1afa("0x12c")]("form"),e=0;e<x[_0x1afa("0x245")];e++)for(var t=x[e],f=t[_0x1afa("0x9a")](_0x1afa("0x265"))?t[_0x1afa("0x9a")](_0x1afa("0x265")):_0x1afa("0x190"),_=t.querySelectorAll(_0x1afa("0x20f")),n=0;n<_[_0x1afa("0x245")];n++){var o=_[n][_0x1afa("0x9a")](_0x1afa("0x6d"));if(o){for(var i=!1,r=0;r<a.length;r++)f!=a[r][_0x1afa("0x265")]||o!=a[r].id||(i=!0);i||a.push({"data-collection":f,id:o})}}a.forEach(a=>{CoCreate[_0x1afa("0x18d")]({collection:a[_0x1afa("0x265")],document_id:a.id,metadata:""})})}initSocketsForArray(),initArrayForms(),CoCreateHtmlTags={selector:"",init:function(){CoCreate.registerModule("htmltags",this,null,this[_0x1afa("0x228")],this[_0x1afa("0x5a")]),this[_0x1afa("0xdb")]()},initAttribute:function(){document.querySelectorAll(_0x1afa("0x15c")).forEach(a=>{const x=a[_0x1afa("0x9a")](_0x1afa("0x265")),e=a[_0x1afa("0x9a")]("data-document_id"),t=a.getAttribute("name");x&&e&&t&&null==a[_0x1afa("0x9a")](_0x1afa("0x255"))&&a[_0x1afa("0x26d")](_0x1afa("0x255"),!0)})},getReqeust:function(a){let x=[];return(a||document)[_0x1afa("0x12c")](_0x1afa("0x11d"))[_0x1afa("0x1fa")](a=>{const e=a[_0x1afa("0x9a")](_0x1afa("0x265"))||_0x1afa("0x190"),t=a[_0x1afa("0x9a")]("data-document_id");CoCreateUtils[_0x1afa("0xee")](a)&&t&&!x.some(a=>a[_0x1afa("0x227")]===e&&a[_0x1afa("0x238")]===t)&&x.push({collection:e,document_id:t})}),x},renderHtml:function(a){document[_0x1afa("0x12c")]("h1, h2, h3, h4, h5, h6, p, i, q, a, b, li, span, code, head, body, #htmlBlock, img")[_0x1afa("0x1fa")](x=>{const e=x[_0x1afa("0x9a")](_0x1afa("0x265")),t=x[_0x1afa("0x9a")](_0x1afa("0x6d")),f=x[_0x1afa("0x9a")](_0x1afa("0x1ee"));if(CoCreateUtils[_0x1afa("0xee")](x)&&a[_0x1afa("0x227")]==e&&a[_0x1afa("0x238")]==t&&f in a[_0x1afa("0x2a")]&&!x[_0x1afa("0x5e")]&&(_0x1afa("0x1ef")==x[_0x1afa("0x8d")]?x[_0x1afa("0x21")]=a.data[f]:x[_0x1afa("0x192")]=a[_0x1afa("0x2a")][f],_0x1afa("0x88")==x[_0x1afa("0x8d")]||_0x1afa("0x22f")==x[_0x1afa("0x8d")])){x[_0x1afa("0x68")](_0x1afa("0x265")),x[_0x1afa("0x68")](_0x1afa("0x6d")),x[_0x1afa("0x68")](_0x1afa("0xc8"));for(var _=x[_0x1afa("0x12c")]("script"),n=0;n<_[_0x1afa("0x245")];n++){var o=document.createElement(_0x1afa("0x13b"));o.type=_0x1afa("0x30");var i=_[n][_0x1afa("0x9a")](_0x1afa("0x21")),r=_[n][_0x1afa("0x192")];""!=r&&(o[_0x1afa("0x192")]=r),i&&(o[_0x1afa("0x21")]=i),x[_0x1afa("0xaa")](o),_[n].remove()}}})}},CoCreateHtmlTags[_0x1afa("0x102")]();var cloneBtnClass=_0x1afa("0x78"),deleteBtnClass="deleteBtn";function initBtns(){document.addEventListener(_0x1afa("0xa1"),function(a){for(let x=0;x<a[_0x1afa("0x11")][_0x1afa("0x245")];x++){let e=a[_0x1afa("0x11")][x];e[_0x1afa("0x243")]&&e[_0x1afa("0x243")][_0x1afa("0x52")](cloneBtnClass)&&clickedCloneBtn(e),e[_0x1afa("0x243")]&&e[_0x1afa("0x243")][_0x1afa("0x52")](deleteBtnClass)&&clickedDeleteBtn(e)}})}function clickedCloneBtn(a){let x,e=a.getAttribute(_0x1afa("0xbf")),t=a[_0x1afa("0x9a")](_0x1afa("0x39"));if(!e)return;let f=document.getElementById(t);f&&(x=f[_0x1afa("0x260")]?f.value:"");let _=document[_0x1afa("0x1b4")]("#"+e+_0x1afa("0x13e"));if(!_)return;let n=_[_0x1afa("0x1a0")](!0);n[_0x1afa("0x243")][_0x1afa("0x1e8")](_0x1afa("0x7")),n[_0x1afa("0x243")][_0x1afa("0x1ac")](_0x1afa("0x113")),n[_0x1afa("0x68")](_0x1afa("0x1ea"));let o=n[_0x1afa("0x12c")]("*");for(let a=0;a<o[_0x1afa("0x245")];a++)o[a][_0x1afa("0x68")]("data-pass_value_id");let i=getNewPrefix(x);n[_0x1afa("0x26d")]("prefix",i),createDynamicCloneId(n,i),_[_0x1afa("0x1")][_0x1afa("0x275")](n,_),initFloatingLabelForClone(n),initCrudForClone(n);let r=findSaveFetchElByChild(n);r&&saveHtml(r),createSortableForSaveFetch(n)}function clickedDeleteBtn(a){console[_0x1afa("0x116")](a);let x=a.getAttribute(_0x1afa("0xbf"));console[_0x1afa("0x116")](x);let e=document[_0x1afa("0x145")](x);if(console[_0x1afa("0x116")](e),e){let a=findSaveFetchElByChild(e);e[_0x1afa("0x1e8")](),a&&saveHtml(a)}}function createDynamicCloneId(a,x){let e=a[_0x1afa("0x12c")]("*");for(let a=0;a<e[_0x1afa("0x245")];a++){let t=e[a],f=t[_0x1afa("0x9a")](_0x1afa("0x1ee"));if(!f)continue;let _=getOriginal(f);f=""==x?_:x+"_"+_,t[_0x1afa("0x26d")](_0x1afa("0x1ee"),f)}let t=a.getAttribute(_0x1afa("0x1ee"));if(t){let e=getOriginal(t);t=""==x?e:x+"_"+e,a[_0x1afa("0x26d")](_0x1afa("0x1ee"),t)}let f=getOriginal(a.id),_=""==x?f:x+"_"+f;a[_0x1afa("0x26d")]("id",_);let n=a.querySelectorAll("."+cloneBtnClass),o=a[_0x1afa("0x12c")]("."+deleteBtnClass);for(let e=0;e<n[_0x1afa("0x245")];e++){let t,f,_=n[e],o=_[_0x1afa("0x9a")]("data-clone_id"),i=_[_0x1afa("0x9a")]("data-clone_name");i&&(f=a.querySelector("#"+i)),t=a[_0x1afa("0x1b4")]("#"+o);let r=getOriginal(o),c=""==x?r:x+"_"+r;if(_[_0x1afa("0x26d")](_0x1afa("0xbf"),c),t&&(t.id=c),f){let a=getOriginal(i),e=""==x?a:x+"_"+a;_.setAttribute("data-clone_name",e),f.id=e}}for(let a=0;a<o[_0x1afa("0x245")];a++){let e=o[a],t=getOriginal(e[_0x1afa("0x9a")](_0x1afa("0xbf"))),f=""==x?t:x+"_"+t;e[_0x1afa("0x26d")]("data-clone_id",f)}}function getOriginal(a){let x=a,e=a[_0x1afa("0x100")]("_");return e>-1&&(x=a[_0x1afa("0x153")](e+1)),x}function getNewPrefix(a){let x=document[_0x1afa("0x24a")](_0x1afa("0x113")),e=!1;for(let t=0;t<x[_0x1afa("0x245")];t++)a!=x[t][_0x1afa("0x9a")](_0x1afa("0x1a4"))||(e=!0);return e?getRandomStringForDynamic():void 0==a?getRandomStringForDynamic():a}function getRandomStringForDynamic(a=8){let x="",e=_0x1afa("0xa0"),t=_0x1afa("0x72"),f=e[_0x1afa("0x245")],_=t[_0x1afa("0x245")];x+=e[_0x1afa("0x162")](Math.floor(Math[_0x1afa("0x70")]()*f));for(let e=0;e<a-1;e++)x+=t.charAt(Math[_0x1afa("0x247")](Math[_0x1afa("0x70")]()*_));return x}function createdDocumentForClone(a){console[_0x1afa("0x116")](a);let x=a.element;if(x){let e=document[_0x1afa("0x145")](x);e&&_0x1afa("0x190")==a.collection&&e[_0x1afa("0x26d")](_0x1afa("0x240"),a[_0x1afa("0x238")])}}function initFloatingLabelForClone(a){a[_0x1afa("0x243")][_0x1afa("0x52")](_0x1afa("0x4a"))&&initFloatLabelEle(a);let x=a[_0x1afa("0x12c")](_0x1afa("0x22c"));for(let a=0;a<x[_0x1afa("0x245")];a++)initFloatLabelEle(x[a])}function initCrudForClone(a){_0x1afa("0x22e")==a[_0x1afa("0x8d")]&&CoCreateForm[_0x1afa("0x154")](a);let x=a[_0x1afa("0x12c")](_0x1afa("0x270"));for(let a=0;a<x[_0x1afa("0x245")];a++)CoCreateForm[_0x1afa("0x154")](x[a])}initSocketsForClone(),initSaveFetchEls(),initBtns(),function(a,x){_0x1afa("0x233")==typeof exports&&_0x1afa("0x25c")!=typeof module?module[_0x1afa("0x27d")]=x():_0x1afa("0xbe")==typeof define&&define[_0x1afa("0x17f")]?define(x):(a=a||self)[_0x1afa("0xbd")]=x()}(this,function(){"use strict";var a,x=_0x1afa("0x1e7"),e=_0x1afa("0x25c")==typeof document?void 0:document,t=!!e&&_0x1afa("0x6c")in e.createElement(_0x1afa("0x7")),f=!!e&&e.createRange&&"createContextualFragment"in e[_0x1afa("0xae")]();function _(a,x){var e=a[_0x1afa("0xf4")],t=x.nodeName;return e===t||!!(x.actualize&&e[_0x1afa("0x23f")](0)<91&&t[_0x1afa("0x23f")](0)>90)&&e===t[_0x1afa("0x62")]()}function n(a,x,e){a[e]!==x[e]&&(a[e]=x[e],a[e]?a[_0x1afa("0x26d")](e,""):a[_0x1afa("0x68")](e))}var o,i={OPTION:function(a,x){var e=a[_0x1afa("0x1")];if(e){var t=e[_0x1afa("0xf4")][_0x1afa("0x62")]();_0x1afa("0xa2")===t&&(t=(e=e[_0x1afa("0x1")])&&e.nodeName[_0x1afa("0x62")]()),_0x1afa("0x1c4")!==t||e[_0x1afa("0xaf")]("multiple")||(a[_0x1afa("0xaf")](_0x1afa("0xcf"))&&!x[_0x1afa("0xcf")]&&(a.setAttribute(_0x1afa("0xcf"),_0x1afa("0xcf")),a[_0x1afa("0x68")](_0x1afa("0xcf"))),e.selectedIndex=-1)}n(a,x,_0x1afa("0xcf"))},INPUT:function(a,x){n(a,x,_0x1afa("0xe")),n(a,x,"disabled"),a.value!==x[_0x1afa("0x260")]&&(a[_0x1afa("0x260")]=x[_0x1afa("0x260")]),x[_0x1afa("0xaf")]("value")||a.removeAttribute("value")},TEXTAREA:function(a,x){var e=x[_0x1afa("0x260")];a.value!==e&&(a[_0x1afa("0x260")]=e);var t=a[_0x1afa("0x1f2")];if(t){var f=t[_0x1afa("0x4d")];if(f==e||!e&&f==a[_0x1afa("0xe8")])return;t.nodeValue=e}},SELECT:function(a,x){if(!x[_0x1afa("0xaf")](_0x1afa("0x55"))){for(var e,t,f=-1,_=0,n=a[_0x1afa("0x1f2")];n;)if(_0x1afa("0xa2")===(t=n.nodeName&&n[_0x1afa("0xf4")][_0x1afa("0x62")]()))n=(e=n)[_0x1afa("0x1f2")];else{if(_0x1afa("0x23b")===t){if(n.hasAttribute(_0x1afa("0xcf"))){f=_;break}_++}!(n=n[_0x1afa("0x134")])&&e&&(n=e[_0x1afa("0x134")],e=null)}a[_0x1afa("0x1c7")]=f}}},r=1,c=3,l=8;function s(){}function d(a){if(a)return a[_0x1afa("0x9a")]&&a.getAttribute("id")||a.id}return o=function(a,x){var e,t,f,_,n=x[_0x1afa("0x262")];if(11!==x[_0x1afa("0x1a7")]&&11!==a[_0x1afa("0x1a7")]){for(var o=n[_0x1afa("0x245")]-1;o>=0;o--)t=(e=n[o]).name,f=e.namespaceURI,_=e[_0x1afa("0x260")],f?(t=e[_0x1afa("0x151")]||t,a[_0x1afa("0x49")](f,t)!==_&&(_0x1afa("0x167")===e[_0x1afa("0x1a4")]&&(t=e[_0x1afa("0x1ee")]),a[_0x1afa("0xcd")](f,t,_))):a[_0x1afa("0x9a")](t)!==_&&a[_0x1afa("0x26d")](t,_);for(var i=a[_0x1afa("0x262")],r=i[_0x1afa("0x245")]-1;r>=0;r--)t=(e=i[r])[_0x1afa("0x1ee")],(f=e[_0x1afa("0x207")])?(t=e[_0x1afa("0x151")]||t,x[_0x1afa("0xe4")](f,t)||a.removeAttributeNS(f,t)):x[_0x1afa("0xaf")](t)||a[_0x1afa("0x68")](t)}},function(n,u,m){if(m||(m={}),"string"==typeof u)if(_0x1afa("0x1d0")===n[_0x1afa("0xf4")]||_0x1afa("0x18a")===n[_0x1afa("0xf4")]||_0x1afa("0x22f")===n[_0x1afa("0xf4")]){var h=u;(u=e[_0x1afa("0x251")]("html"))[_0x1afa("0x192")]=h}else g=(g=u)[_0x1afa("0x74")](),u=t?(v=g,(y=e[_0x1afa("0x251")](_0x1afa("0x7"))).innerHTML=v,y[_0x1afa("0x6c")][_0x1afa("0x2")][0]):f?(C=g,a||(a=e[_0x1afa("0xae")]())[_0x1afa("0xd")](e[_0x1afa("0x268")]),a[_0x1afa("0x27a")](C)[_0x1afa("0x2")][0]):(p=g,(b=e[_0x1afa("0x251")](_0x1afa("0x268")))[_0x1afa("0x192")]=p,b.childNodes[0]);var g,p,b,C,v,y,S=m[_0x1afa("0x1b9")]||d,E=m[_0x1afa("0xa")]||s,A=m.onNodeAdded||s,D=m[_0x1afa("0x1c")]||s,k=m[_0x1afa("0x9b")]||s,I=m[_0x1afa("0x6b")]||s,F=m.onNodeDiscarded||s,w=m[_0x1afa("0x1cf")]||s,B=!0===m[_0x1afa("0x121")],T=Object.create(null),O=[];function L(a){O[_0x1afa("0x112")](a)}function N(a,x,e){!1!==I(a)&&(x&&x[_0x1afa("0x118")](a),F(a),function a(x,e){if(x[_0x1afa("0x1a7")]===r)for(var t=x[_0x1afa("0x1f2")];t;){var f=void 0;e&&(f=S(t))?L(f):(F(t),t.firstChild&&a(t,e)),t=t.nextSibling}}(a,e))}function P(a){A(a);for(var x=a.firstChild;x;){var e=x[_0x1afa("0x134")],t=S(x);if(t){var f=T[t];f&&_(x,f)&&(x[_0x1afa("0x1")][_0x1afa("0x203")](f,x),q(f,x))}P(x),x=e}}function q(a,x,t){var f=S(x);if(f&&delete T[f],!t){if(!1===D(a,x))return;if(o(a,x),k(a),!1===w(a,x))return}_0x1afa("0x24c")!==a[_0x1afa("0xf4")]?function(a,x){var t,f,n,o,s,d=x[_0x1afa("0x1f2")],u=a[_0x1afa("0x1f2")];a:for(;d;){for(o=d[_0x1afa("0x134")],t=S(d);u;){if(n=u[_0x1afa("0x134")],d[_0x1afa("0x11c")]&&d.isSameNode(u)){d=o,u=n;continue a}f=S(u);var m=u[_0x1afa("0x1a7")],h=void 0;if(m===d.nodeType&&(m===r?(t?t!==f&&((s=T[t])?n===s?h=!1:(a.insertBefore(s,u),f?L(f):N(u,a,!0),u=s):h=!1):f&&(h=!1),(h=!1!==h&&_(u,d))&&q(u,d)):m!==c&&m!=l||(h=!0,u[_0x1afa("0x4d")]!==d[_0x1afa("0x4d")]&&(u.nodeValue=d[_0x1afa("0x4d")]))),h){d=o,u=n;continue a}f?L(f):N(u,a,!0),u=n}if(t&&(s=T[t])&&_(s,d))a.appendChild(s),q(s,d);else{var g=E(d);!1!==g&&(g&&(d=g),d.actualize&&(d=d[_0x1afa("0x1cb")](a[_0x1afa("0x110")]||e)),a[_0x1afa("0xaa")](d),P(d))}d=o,u=n}!function(a,x,e){for(;x;){var t=x[_0x1afa("0x134")];(e=S(x))?L(e):N(x,a,!0),x=t}}(a,u,f);var p=i[a[_0x1afa("0xf4")]];p&&p(a,x)}(a,x):i[_0x1afa("0x24c")](a,x)}!function a(x){if(x.nodeType===r||11===x.nodeType)for(var e=x.firstChild;e;){var t=S(e);t&&(T[t]=e),a(e),e=e[_0x1afa("0x134")]}}(n);var M,U,R=n,V=R.nodeType,H=u[_0x1afa("0x1a7")];if(!B)if(V===r)H===r?_(n,u)||(F(n),R=function(a,x){for(var e=a[_0x1afa("0x1f2")];e;){var t=e.nextSibling;x[_0x1afa("0xaa")](e),e=t}return x}(n,(M=u[_0x1afa("0xf4")],(U=u[_0x1afa("0x207")])&&U!==x?e.createElementNS(U,M):e[_0x1afa("0x251")](M)))):R=u;else if(V===c||V===l){if(H===V)return R[_0x1afa("0x4d")]!==u.nodeValue&&(R[_0x1afa("0x4d")]=u.nodeValue),R;R=u}if(R===u)F(n);else{if(u[_0x1afa("0x11c")]&&u[_0x1afa("0x11c")](R))return;if(q(R,u,B),O)for(var W=0,J=O.length;W<J;W++){var j=T[O[W]];j&&N(j,j[_0x1afa("0x1")],!1)}}return!B&&R!==n&&n[_0x1afa("0x1")]&&(R.actualize&&(R=R[_0x1afa("0x1cb")](n[_0x1afa("0x110")]||e)),n.parentNode[_0x1afa("0x203")](R,n)),R}});var saveFetchClass=_0x1afa("0x122");function initSocketsForClone(){socket.on(_0x1afa("0x18d"),function(a){fetchedHtml(a,!0)}),socket.on("updateDocument",function(a){fetchedHtml(a,!1)})}function initSaveFetchEls(){let a=document[_0x1afa("0x12c")]("."+saveFetchClass);registerModuleSelector("."+saveFetchClass);for(let x=0;x<a[_0x1afa("0x245")];x++){let e=a[x];fetchHtml(e),initEventOfSaveFetchElements(e)}}function initEventOfSaveFetchElements(a){CoCreateUtils[_0x1afa("0x77")](a)||(a[_0x1afa("0x193")](_0x1afa("0x20d"),function(){saveHtml(a,!0)}),CoCreate[_0x1afa("0x4c")]({collection:a[_0x1afa("0x9a")]("data-collection"),document_id:a.getAttribute(_0x1afa("0x6d")),name:a[_0x1afa("0x9a")](_0x1afa("0x1ee")),element:a}))}function createSortableForSaveFetch(a){try{if(!CoCreateSort)return;let x=a.querySelectorAll(_0x1afa("0x56"));for(let a=0;a<x[_0x1afa("0x245")];a++)CoCreateSort[_0x1afa("0xc7")](x[a]);initSortForSaveFetch()}catch(a){}}function createIsotopeForSaveFetch(a){try{if(!g_isotopeObjects)return;a[_0x1afa("0x12c")](_0x1afa("0xb6")),initIsotope()}catch(a){}}function findSaveFetchElByCloneId(a){let x=document[_0x1afa("0x12c")]("."+saveFetchClass);for(let e=0;e<x[_0x1afa("0x245")];e++){let t=x[e];if(t[_0x1afa("0x1b4")]("#"+a))return t}return null}function findSaveFetchElByChild(a){return CoCreateUtils[_0x1afa("0x13d")](a,saveFetchClass)}function saveHtml(a,x){if(createChangeContentEvent(a),a.classList[_0x1afa("0x52")](saveFetchClass)&&(CoCreateUtils[_0x1afa("0x77")](a)||x)){const x=a[_0x1afa("0x9a")](_0x1afa("0x265")),e=a.getAttribute("data-document_id"),t=a[_0x1afa("0x9a")](_0x1afa("0x1ee"));CoCreate[_0x1afa("0x5f")]({collection:x,document_id:e,name:t,value:a[_0x1afa("0x192")],update_crud:!0})}}function fetchHtml(a){let x=a[_0x1afa("0x9a")](_0x1afa("0x265"))||_0x1afa("0x190"),e=a.getAttribute(_0x1afa("0x6d"));e&&CoCreate[_0x1afa("0x18d")]({collection:x,document_id:e})}function fetchedHtml(a,x){let e=document[_0x1afa("0x12c")]("."+saveFetchClass);for(let t=0;t<e[_0x1afa("0x245")];t++){let f=e[t];if((f[_0x1afa("0x9a")](_0x1afa("0x265"))||_0x1afa("0x190"))==a[_0x1afa("0x227")]&&a.document_id==f.getAttribute(_0x1afa("0x6d"))){let e=f.getAttribute("name");e in a[_0x1afa("0x2a")]&&renderfetchedHTML(f,a[_0x1afa("0x2a")][e],x)}}}function renderfetchedHTML(a,x,e){e?(a.innerHTML=x,initCrudForClone(a),initFloatingLabelForClone(a),CoCreate[_0x1afa("0x8b")](a),CoCreateText.initElements(a),createIsotopeForSaveFetch(a),createSortableForSaveFetch(a)):(morphdom(a[_0x1afa("0xe2")][0],x,{onBeforeElUpdated:function(a,x){return!a[_0x1afa("0x10c")](x)}}),CoCreateText[_0x1afa("0x94")](a))}function createChangeContentEvent(a){if("object"!=typeof a)return;console[_0x1afa("0x116")](_0x1afa("0x8"));const x=new CustomEvent(_0x1afa("0xfa"),{});a[_0x1afa("0xa9")](x)}function CoCreateDOM(a,x){this[_0x1afa("0xa4")]=[],this[_0x1afa("0x186")]=[],this[_0x1afa("0x25e")]()}initSocketsForClone(),initSaveFetchEls(),_0x1afa("0xe3"),CoCreateDOM[_0x1afa("0x150")]={constructor:CoCreateDOM,_init:function(){},initContainers:function(){this.elements=[],this[_0x1afa("0xa4")]=document[_0x1afa("0x12c")](_0x1afa("0x23a"));for(var a=0;a<this[_0x1afa("0xa4")].length;a++){let x=this.elements[a];this.initEvent(x),this[_0x1afa("0xd7")](x)}},initEvent:function(a){a[_0x1afa("0x193")](_0x1afa("0xed"),function(a){})},createYDoc(a){CoCreate[_0x1afa("0x4c")]({collection:a[_0x1afa("0x9a")](_0x1afa("0x265")),document_id:a.getAttribute(_0x1afa("0x6d")),name:a[_0x1afa("0x9a")](_0x1afa("0x1ee")),element:a})},generateTypeName(a){var x=a[_0x1afa("0x9a")]("data-collection")||"_",e=a[_0x1afa("0x9a")](_0x1afa("0x6d"))||"_",t=a[_0x1afa("0x9a")]("name");return CoCreateYSocket[_0x1afa("0x11a")](config[_0x1afa("0x1f3")],x,e,t)},sendWholeText(a){const x=a.getAttribute(_0x1afa("0x265")),e=a[_0x1afa("0x9a")]("data-document_id"),t=a[_0x1afa("0x9a")](_0x1afa("0x1ee"));CoCreate[_0x1afa("0x5f")]({collection:x,document_id:e,name:t,value:a[_0x1afa("0x192")],update_crud:!0})},runAction:function(){for(let a=0;a<this[_0x1afa("0x186")].length;a++){const x=this[_0x1afa("0x186")][a],e=x[_0x1afa("0x224")],t=x.info,f=x.addition,_=e[_0x1afa("0x9a")](_0x1afa("0x265")),n=e[_0x1afa("0x9a")](_0x1afa("0x6d")),o=e[_0x1afa("0x9a")](_0x1afa("0x1ee"));if(_0x1afa("0x1d1")==x.status){let a=t.position+(f[_0x1afa("0x53")]||0);CoCreate[_0x1afa("0x141")]({collection:_,document_id:n,name:o,value:t[_0x1afa("0x260")],position:a})}else if(_0x1afa("0x261")==x.status){let a=t.value[_0x1afa("0x245")]-(f[_0x1afa("0x108")]||0);CoCreate[_0x1afa("0x20e")]({collection:_,document_id:n,name:o,position:t[_0x1afa("0x6e")],length:a})}}this[_0x1afa("0x1de")]()},addAction:function(a,x,e,t){const f=this[_0x1afa("0x1aa")](a,x);this[_0x1afa("0x186")][_0x1afa("0x112")]({element:a,item:x,info:f,status:e||_0x1afa("0x1d1"),addition:t||{}})},initAction:function(){this[_0x1afa("0x186")]=[]},getChangedInfo:function(a,x){let e=a[_0x1afa("0x192")],t=x[_0x1afa("0x21f")];console[_0x1afa("0x116")]("-------------------whode_test-----------------"),console[_0x1afa("0x116")](e),console[_0x1afa("0x116")](_0x1afa("0x1e")),console.log(t);let f=e.indexOf(t);return console.log(_0x1afa("0x1a6")),console[_0x1afa("0x116")](f),{position:f,value:t}}};var g_cocreateDom=new CoCreateDOM,CoCreateText={elements:[],init:function(){this.initElements(document)},initElements:function(a){for(var x=this,e=(a||document)[_0x1afa("0x12c")]("input[data-document_id][name], textarea[data-document_id][name]"),t=0;t<e[_0x1afa("0x245")];t++)CoCreateInput[_0x1afa("0x76")](e[t])&&(this[_0x1afa("0x1c2")](e[t])?this[_0x1afa("0x1cc")](e[t]):(this[_0x1afa("0x135")](e[t]),CoCreateDocument[_0x1afa("0x1a2")](e[t])?this.createYDoc(e[t]):e[t].addEventListener(_0x1afa("0x252"),function(a){var e=this[_0x1afa("0x260")];x.createYDoc(this),x[_0x1afa("0x1d4")](this,e,0,e.length)})))},checkExistElement(a){for(var x=0;x<this[_0x1afa("0xa4")][_0x1afa("0x245")];x++)if(this[_0x1afa("0xa4")][x].isSameNode(a))return!0;return!1},setInitValue(a){var x=this.generateTypeName(a),e=CoCreateCrdt[_0x1afa("0x1fc")](x);a.value=e},createYDoc(a){CoCreate[_0x1afa("0x4c")]({collection:a[_0x1afa("0x9a")](_0x1afa("0x265")),document_id:a[_0x1afa("0x9a")]("data-document_id"),name:a[_0x1afa("0x9a")](_0x1afa("0x1ee")),element:a}),this[_0x1afa("0x1cc")](a),this.elements[_0x1afa("0x112")](a)},_initEvents:function(a){var x=this;a[_0x1afa("0x193")](_0x1afa("0x278"),function(){this[_0x1afa("0x1fe")]!==this[_0x1afa("0x1a9")]&&(x[_0x1afa("0x178")](this,!0,this[_0x1afa("0x1a9")],this.selectionEnd),document[_0x1afa("0x3c")]===this&&x.sendPosition(this))}),a[_0x1afa("0x193")](_0x1afa("0xc4"),function(a){-1!=[37,38,39,40][_0x1afa("0x100")](a.keyCode)&&x[_0x1afa("0x1a5")](this)}),a.addEventListener(_0x1afa("0x46"),function(a){-1!=[37,38,39,40][_0x1afa("0x100")](a[_0x1afa("0x14b")])&&x[_0x1afa("0x1a5")](this)}),a[_0x1afa("0x193")](_0x1afa("0xa1"),function(a){document[_0x1afa("0x3c")]===this&&x[_0x1afa("0x1a5")](this)}),a[_0x1afa("0x193")]("blur",function(a){const e=x[_0x1afa("0x34")](this);CoCreateCrdt[_0x1afa("0x1c6")](e)}),a[_0x1afa("0x193")](_0x1afa("0x6f"),function(a){let e=this[_0x1afa("0x1a9")]-1,t=e,f=x[_0x1afa("0x21e")](this),_="",n=!1;switch(a[_0x1afa("0xcc")]){case _0x1afa("0xc1"):case _0x1afa("0x45"):n=!0,t=++e+1;break;case _0x1afa("0x266"):n=!0,_="\n",t++;break;case _0x1afa("0x9d"):n=!0,_=a.data||"\n";break;case _0x1afa("0x199"):n=!0}if(n)if(f.is_selected){recalculate_local_cursors(this,f[_0x1afa("0x4f")]-f[_0x1afa("0xcb")]),x[_0x1afa("0x1d4")](this,"",f[_0x1afa("0x4f")],f[_0x1afa("0xcb")]),_[_0x1afa("0x245")]>0&&x[_0x1afa("0x1d4")](this,_,e,t),x[_0x1afa("0x178")](this,!1,this[_0x1afa("0x1a9")],this[_0x1afa("0x1a9")])}else x[_0x1afa("0x1d4")](this,_,e,t)}),a[_0x1afa("0x193")](_0x1afa("0x124"),function(a){x[_0x1afa("0x178")](this,!1,this[_0x1afa("0x1a9")],this[_0x1afa("0x1a9")])}),a[_0x1afa("0x193")](_0x1afa("0xa1"),function(a){x[_0x1afa("0x178")](this,!1,this[_0x1afa("0x1a9")],this[_0x1afa("0x1a9")])}),a[_0x1afa("0x193")](_0x1afa("0x1e2"),function(a){let e=a[_0x1afa("0x79")][_0x1afa("0x1f5")](_0x1afa("0x204")),t=this[_0x1afa("0x1a9")],f=this[_0x1afa("0x1fe")];t!=f&&(this[_0x1afa("0xd4")](f,f),x.sendChangeData(this,"",t,f,!1)),x.sendChangeData(this,e,t,t,!1),a[_0x1afa("0x177")]()}),a[_0x1afa("0x193")](_0x1afa("0x37"),function(a){var e=0,t=!0;a[_0x1afa("0x27c")].forEach(a=>{a[_0x1afa("0xfb")]&&(t=!0,e=a[_0x1afa("0xfb")]),(a[_0x1afa("0x1d1")]||a[_0x1afa("0x261")])&&(0==t&&(e=0),t=!1,a.insert?x[_0x1afa("0x8f")](this,a[_0x1afa("0x1d1")],e,e):a[_0x1afa("0x261")]&&x[_0x1afa("0x8f")](this,"",e,e+a[_0x1afa("0x261")]))})})},setSelectionInfo:function(a,x,e,t){a.setAttribute("is_selected",x),a[_0x1afa("0x26d")](_0x1afa("0x26f"),e),a[_0x1afa("0x26d")](_0x1afa("0x1d2"),t),this[_0x1afa("0x1a5")](a)},getSelectionInfo:function(a){return{is_selected:_0x1afa("0x237")===a[_0x1afa("0x9a")](_0x1afa("0x215")),start:parseInt(a.getAttribute(_0x1afa("0x26f"))),end:parseInt(a[_0x1afa("0x9a")](_0x1afa("0x1d2")))}},checkDocumentID:function(a){let x=a.getAttribute(_0x1afa("0x6d"));return!(!x||""===x)},sendChangeData:function(a,x,e,t,f=!0){if(!this[_0x1afa("0x75")](a))return CoCreateDocument[_0x1afa("0x1b1")](a),void a[_0x1afa("0x26d")]("data-document_id",_0x1afa("0xd9"));if("pending"==a[_0x1afa("0x9a")](_0x1afa("0x6d")))return;const _=a[_0x1afa("0x9a")](_0x1afa("0x265")),n=a.getAttribute(_0x1afa("0x6d")),o=a.getAttribute(_0x1afa("0x1ee"));_0x1afa("0x1e6")!=a[_0x1afa("0x9a")]("data-save_value")&&(x[_0x1afa("0x245")]>0?(f&&a.setRangeText("",e,e+x[_0x1afa("0x245")],_0x1afa("0x4f")),CoCreate[_0x1afa("0x141")]({collection:_,document_id:n,name:o,value:x,position:e})):(f&&a[_0x1afa("0x1bd")](" ".repeat(t-e),e,e,"end"),CoCreate[_0x1afa("0x20e")]({collection:_,document_id:n,name:o,position:e,length:t-e})),document.activeElement===a&&this[_0x1afa("0x1a5")](a))},updateChangeData:function(a,x,e,t){let f=a.selectionStart,_=a[_0x1afa("0x1fe")];a[_0x1afa("0x1bd")](x,e,t,"end"),f>=e&&(""==x?(_-=t-e,f=(f-=t-e)<e?e:f):(f+=x[_0x1afa("0x245")],_+=x[_0x1afa("0x245")])),""==x&&_>=e&&(_=_>=t?_-(t-e):e),a[_0x1afa("0x1a9")]=f,a[_0x1afa("0x1fe")]=_,document.activeElement,refresh_mirror(a),updateFloatLabel(a,a[_0x1afa("0x260")])},generateTypeName(a){var x=a[_0x1afa("0x9a")](_0x1afa("0x265")),e=a.getAttribute("data-document_id"),t=a.getAttribute("name");return CoCreateYSocket[_0x1afa("0x11a")](config[_0x1afa("0x1f3")],x,e,t)},setText:function(a,x){var e=0,t=!0;x[_0x1afa("0x1fa")](x=>{x[_0x1afa("0xfb")]&&(t=!0,e=x[_0x1afa("0xfb")]),(x.insert||x.delete)&&(0==t&&(e=0),t=!1,x.insert?this[_0x1afa("0x15a")](a,x[_0x1afa("0x1d1")],e,e):x[_0x1afa("0x261")]&&this[_0x1afa("0x15a")](a,"",e,e+x[_0x1afa("0x261")]))})},isAvaiableEl:function(a){for(var x=0;x<this.elements[_0x1afa("0x245")];x++)if(this[_0x1afa("0xa4")][x][_0x1afa("0x10c")](a))return!0;return!1},sendPosition:function(a){if(!this[_0x1afa("0x218")](a))return;const x=this.generateTypeName(a);console.log(a[_0x1afa("0x1a9")],a.selectionEnd);let e=a[_0x1afa("0x1a9")],t=a[_0x1afa("0x1fe")];CoCreateCrdt[_0x1afa("0x1c0")](x,e,t)}};CoCreateText[_0x1afa("0x102")]();class CoCreateContentEditable{constructor(){this[_0x1afa("0x21b")]=[],this[_0x1afa("0x1c3")](),this[_0x1afa("0x43")]=0,this.to=0}[_0x1afa("0x1c3")](){var a=document.querySelectorAll("[contentEditable]:not([contentEditable='false'])");for(var x of a)this[_0x1afa("0x1fb")](x),this[_0x1afa("0x21b")][_0x1afa("0x112")](x)}[_0x1afa("0x1fb")](a){if(CoCreateDocument[_0x1afa("0x1a2")](a))a[_0x1afa("0x192")]="",this[_0x1afa("0x155")](a),this[_0x1afa("0x89")](a);else{let x=this;a[_0x1afa("0x193")](_0x1afa("0x252"),function(a){x[_0x1afa("0x155")](this),x._createYDoc(this)})}}_initElementEvents(a){var x=this;a[_0x1afa("0x193")](_0x1afa("0x278"),function(a){console.log("selection",a)}),a.addEventListener("input",function(a){let e=x[_0x1afa("0x21e")](this),t=e[_0x1afa("0x4f")],f=t+1,_="",n=!0;switch(a[_0x1afa("0xcc")]){case"deleteContentBackward":t--,f--;break;case _0x1afa("0x45"):break;case"insertLineBreak":_="\n",f++;break;case _0x1afa("0x9d"):_=a[_0x1afa("0x2a")]||"";break;case"deleteByCut":f=t;break;default:n=!1}n&&(e[_0x1afa("0x215")]?(x[_0x1afa("0x1d4")](this,"",e[_0x1afa("0x4f")],e[_0x1afa("0xcb")]),_[_0x1afa("0x245")]>0&&x[_0x1afa("0x1d4")](this,_,t,f),x.setSelectionInfo(this,!1,this.selectionStart,this[_0x1afa("0x1a9")])):x.sendChangeData(this,_,t,f))}),a[_0x1afa("0x193")](_0x1afa("0x1e2"),function(a){let e=event[_0x1afa("0x79")].getData(_0x1afa("0x204")),t=x[_0x1afa("0x21e")](this);t[_0x1afa("0x4f")]!==t.end&&x[_0x1afa("0x1d4")](this,"",t[_0x1afa("0x4f")],t.end,!1),x.sendChangeData(this,e,t[_0x1afa("0x4f")],t[_0x1afa("0xcb")],!1),event[_0x1afa("0x177")]()}),a[_0x1afa("0x193")](_0x1afa("0xc4"),function(a){-1!=[37,38,39,40][_0x1afa("0x100")](a.keyCode)&&x.sendPosition(this)}),a[_0x1afa("0x193")](_0x1afa("0x46"),function(e){-1!=[37,38,39,40].indexOf(e[_0x1afa("0x14b")])&&x[_0x1afa("0x1a5")](this);const t=x[_0x1afa("0x115")](a);x[_0x1afa("0x178")](a,t[_0x1afa("0x43")]!=t.to,t.from,t.to)}),a[_0x1afa("0x193")](_0x1afa("0xa1"),function(a){x[_0x1afa("0x1a5")](this)}),a[_0x1afa("0x193")](_0x1afa("0x124"),function(e){x[_0x1afa("0x1a5")](a,!0)}),a[_0x1afa("0x193")](_0x1afa("0x37"),function(a){var e=0,t=!0;event[_0x1afa("0x27c")][_0x1afa("0x1fa")](a=>{a.retain&&(t=!0,e=a[_0x1afa("0xfb")]),(a[_0x1afa("0x1d1")]||a[_0x1afa("0x261")])&&(0==t&&(e=0),t=!1,a.insert?x[_0x1afa("0xdc")](this,a.insert,e):a[_0x1afa("0x261")]&&x.deleteData(this,e,e+a[_0x1afa("0x261")]))})})}[_0x1afa("0x1d4")](a,x,e,t,f=!0){if(!this[_0x1afa("0x26b")](a))return;if("pending"==a[_0x1afa("0x9a")]("data-document_id"))return;const _=a.getAttribute(_0x1afa("0x265")),n=a[_0x1afa("0x9a")](_0x1afa("0x6d")),o=a[_0x1afa("0x9a")](_0x1afa("0x1ee"));_0x1afa("0x1e6")!=a[_0x1afa("0x9a")](_0x1afa("0x117"))&&(x[_0x1afa("0x245")]>0?(f&&this.deleteData(a,e,e+x[_0x1afa("0x245")]),CoCreate[_0x1afa("0x141")]({collection:_,document_id:n,name:o,value:x,position:e,attributes:null})):(f&&this[_0x1afa("0xdc")](a," ".repeat(t-e),e),CoCreate[_0x1afa("0x20e")]({collection:_,document_id:n,name:o,position:e,length:t-e})))}setSelectionInfo(a,x,e,t){a[_0x1afa("0x26d")](_0x1afa("0x215"),x),a.setAttribute(_0x1afa("0x26f"),e),a[_0x1afa("0x26d")](_0x1afa("0x1d2"),t),this[_0x1afa("0x1a5")](a)}[_0x1afa("0x21e")](a){return{is_selected:_0x1afa("0x237")===a[_0x1afa("0x9a")](_0x1afa("0x215")),start:parseInt(a[_0x1afa("0x9a")](_0x1afa("0x26f"))),end:parseInt(a[_0x1afa("0x9a")]("selection_end"))}}[_0x1afa("0x1a5")](a,x){if(this[_0x1afa("0x26b")](a)){var e=this[_0x1afa("0x115")](a),t=this[_0x1afa("0x16f")](a);if(e&&!x)t[_0x1afa("0x254")]=e[_0x1afa("0x43")],t.endPositon=e.to,CoCreate[_0x1afa("0x1a5")](t);else{var f=this[_0x1afa("0x231")](a);CoCreateCrdt[_0x1afa("0x1c6")](f)}}}[_0x1afa("0x16f")](a){return{collection:a[_0x1afa("0x9a")](_0x1afa("0x265"))||"_",document_id:a[_0x1afa("0x9a")](_0x1afa("0x6d"))||"_",name:a[_0x1afa("0x9a")](_0x1afa("0x1ee"))||"_"}}_createYDoc(a){CoCreate[_0x1afa("0x4c")]({collection:a[_0x1afa("0x9a")](_0x1afa("0x265")),document_id:a[_0x1afa("0x9a")]("data-document_id"),name:a[_0x1afa("0x9a")]("name"),element:a})}[_0x1afa("0x231")](a){var x=this[_0x1afa("0x16f")](a);return CoCreateYSocket.generateID(config[_0x1afa("0x1f3")],x[_0x1afa("0x227")],x[_0x1afa("0x238")],x[_0x1afa("0x1ee")])}[_0x1afa("0x14c")](a){let x=a.getAttribute("data-document_id");return!(!x||""===x)}[_0x1afa("0x26b")](a){if(!a[_0x1afa("0x5e")])return!1;for(var x of this._elements)if(a[_0x1afa("0x11c")](x))return!0;return this[_0x1afa("0x1fb")](a),this[_0x1afa("0x21b")][_0x1afa("0x112")](a),!0}[_0x1afa("0x115")](a){if(document[_0x1afa("0x3c")]!==a)return null;var x=document.getSelection();if(!x[_0x1afa("0x259")])return null;var e=x.getRangeAt(0),t=e[_0x1afa("0x1ff")]()[_0x1afa("0x245")],f=e[_0x1afa("0x60")]();f.selectNodeContents(a),f[_0x1afa("0x1c9")](e[_0x1afa("0x95")],e[_0x1afa("0x13f")]);var _=f[_0x1afa("0x1ff")]()[_0x1afa("0x245")];return{from:t?_-t:_,to:_}}[_0x1afa("0xca")](a,x,e){if(document.activeElement===a){var t=document[_0x1afa("0x201")](),f=this[_0x1afa("0x119")](a,x,e);t[_0x1afa("0x66")](),t[_0x1afa("0x14d")](f)}}[_0x1afa("0x119")](a,x,e,t){if(t||((t=document[_0x1afa("0xae")]())[_0x1afa("0xd")](a),t[_0x1afa("0x19a")](a,0),this.from=x,this.to=e),a&&(this[_0x1afa("0x43")]>0||this.to>0))if(a.nodeType===Node.TEXT_NODE)a[_0x1afa("0xb1")][_0x1afa("0x245")]<this[_0x1afa("0x43")]?this[_0x1afa("0x43")]-=a[_0x1afa("0xb1")][_0x1afa("0x245")]:this[_0x1afa("0x43")]>0&&(t[_0x1afa("0x19a")](a,this.from),this[_0x1afa("0x43")]=0),a[_0x1afa("0xb1")][_0x1afa("0x245")]<this.to?this.to-=a.textContent[_0x1afa("0x245")]:this.to>0&&(t[_0x1afa("0x1c9")](a,this.to),this.to=0);else for(var f=0;f<a.childNodes.length&&(t=this._cloneRangeByPosition(a[_0x1afa("0x2")][f],this[_0x1afa("0x43")],this.to,t),0!==this[_0x1afa("0x43")]||0!==this.to);f++);return t}_getPositionFromRange(a,x){var e,t=document[_0x1afa("0xae")]();return t[_0x1afa("0x90")](a),t[_0x1afa("0x1c9")](x[_0x1afa("0x95")],x[_0x1afa("0x13f")]),e=t.toString()[_0x1afa("0x245")],t.setEnd(x.startContainer,x[_0x1afa("0x24")]),{from:t[_0x1afa("0x1ff")]()[_0x1afa("0x245")],to:e}}[_0x1afa("0xdc")](a,x,e){if(x&&""!==x){var t,f=window[_0x1afa("0x201")](),_=this._getCaretPosition(a),n=this[_0x1afa("0x119")](a,e,e),o=document[_0x1afa("0x251")](_0x1afa("0x17b")),i=document[_0x1afa("0x5d")]();for(o[_0x1afa("0x192")]=x;t=o[_0x1afa("0x1f2")];)i[_0x1afa("0xaa")](t);if(n.insertNode(i),!_)return f[_0x1afa("0x14d")](n),void f[_0x1afa("0x271")](n);var r=this[_0x1afa("0x249")](x,_[_0x1afa("0x43")],_.to,e,e);this[_0x1afa("0xca")](a,r[_0x1afa("0x4f")],r.end),this.sendPosition(a)}}[_0x1afa("0x232")](a,x,e){if(e-x){var t=this[_0x1afa("0x115")](a),f=window[_0x1afa("0x201")](),_=this[_0x1afa("0x119")](a,x,e);if(_&&_[_0x1afa("0x0")](),t){var n=this[_0x1afa("0x249")]("",t.from,t.to,x,e);this[_0x1afa("0xca")](a,n[_0x1afa("0x4f")],n[_0x1afa("0xcb")]),this[_0x1afa("0x1a5")](a)}else f[_0x1afa("0x271")](_)}}selectionProcessing(a,x,e,t,f){return x>=t&&(""==a?(e-=f-t,x=(x-=f-t)<t?t:x):(x+=a[_0x1afa("0x245")],e+=a.length)),""==a&&e>=t&&(e=e>=f?e-(f-t):t),{start:x,end:e}}}var g_CoCreateContentEditable=new CoCreateContentEditable,element_multicursors=document.querySelectorAll("input,textarea"),debug=!1,enviroment_prod=!0,properties=[_0x1afa("0x149"),_0x1afa("0x157"),"borderRightWidth",_0x1afa("0xa3"),_0x1afa("0x106"),_0x1afa("0x1e9"),_0x1afa("0x2c"),_0x1afa("0xac"),_0x1afa("0x23e"),"marginTop",_0x1afa("0x1e4"),_0x1afa("0x1d3"),_0x1afa("0x9c"),"fontStyle",_0x1afa("0x1e1"),_0x1afa("0x174"),_0x1afa("0x202"),_0x1afa("0x248"),_0x1afa("0x33"),_0x1afa("0x263"),"textAlign",_0x1afa("0x165"),"textIndent",_0x1afa("0xf3"),_0x1afa("0x21a"),"wordSpacing",_0x1afa("0x91"),"webkitWritingMode",_0x1afa("0x165"),_0x1afa("0xef"),_0x1afa("0x188")],length_uuid=30;class CocreateUtils{static[_0x1afa("0x159")](a=null){var x=(new Date).getTime(),e=performance&&performance.now&&1e3*performance[_0x1afa("0x22")]()||0,t=_0x1afa("0x137")[_0x1afa("0xad")](/[xy]/g,function(a){var t=16*Math.random();return x>0?(t=(x+t)%16|0,x=Math[_0x1afa("0x247")](x/16)):(t=(e+t)%16|0,e=Math.floor(e/16)),("x"==a?t:7&t|8)[_0x1afa("0x1ff")](16)});return null!=a&&(t=t[_0x1afa("0x24b")](0,a)),t}}var mirrorDiv,computed,style,getParents=function(a,x){Element[_0x1afa("0x150")][_0x1afa("0x219")]||(Element[_0x1afa("0x150")][_0x1afa("0x219")]=Element[_0x1afa("0x150")].matchesSelector||Element.prototype[_0x1afa("0x183")]||Element[_0x1afa("0x150")].msMatchesSelector||Element[_0x1afa("0x150")].oMatchesSelector||Element[_0x1afa("0x150")][_0x1afa("0x1b0")]||function(a){for(var x=(this[_0x1afa("0xa8")]||this[_0x1afa("0x110")]).querySelectorAll(a),e=x[_0x1afa("0x245")];--e>=0&&x[_0x1afa("0x10e")](e)!==this;);return e>-1})},getCaretCoordinates=function(a,x,e){if(a[_0x1afa("0x9a")](_0x1afa("0x1ee")),""==(a.getAttribute(_0x1afa("0x6d"))||""))return!1;var t=a.dataset[_0x1afa("0x40")];mirrorDiv=document[_0x1afa("0x145")](t),a[_0x1afa("0x22a")][_0x1afa("0x100")](_0x1afa("0x4a")),mirrorDiv||((mirrorDiv=document[_0x1afa("0x251")]("div")).id=t,mirrorDiv[_0x1afa("0x22a")]=enviroment_prod?_0x1afa("0x1dd"):"mirror-width-scroll",document[_0x1afa("0x268")].appendChild(mirrorDiv));var f=a.offsetWidth-a[_0x1afa("0x195")];style=mirrorDiv.style,computed=getComputedStyle(a),parseInt(computed[_0x1afa("0x1d")]),parseInt(computed[_0x1afa("0x9c")]),_0x1afa("0x16")!==a.nodeName?(style[_0x1afa("0x104")]=_0x1afa("0x16a"),style.whiteSpace=_0x1afa("0x99")):style.whiteSpace=_0x1afa("0xf"),style[_0x1afa("0x6e")]=_0x1afa("0x242");var _=a[_0x1afa("0xab")]();let n=document[_0x1afa("0x15b")][_0x1afa("0x1c1")];style.top=_[_0x1afa("0x24d")]+n-1-(parseInt(computed[_0x1afa("0x1d")])-parseInt(computed[_0x1afa("0x157")]))+"px",style.left=_[_0x1afa("0xf0")]-(parseInt(computed[_0x1afa("0x9c")])-parseInt(computed.borderLeftWidth))+"px",style[_0x1afa("0x84")]=_[_0x1afa("0x84")]-(parseInt(computed[_0x1afa("0x106")])+parseInt(computed[_0x1afa("0x31")]))+"px",style.height=_[_0x1afa("0x18e")]-(parseInt(computed.borderTopWidth)+parseInt(computed[_0x1afa("0xa3")]))+"px",style[_0x1afa("0x59")]=_0x1afa("0x273"),properties.forEach(function(a){style[a]=computed[a]}),_0x1afa("0x6f")==a[_0x1afa("0xf4")].toLowerCase()?(style.overflowX="auto",style.overflowY=_0x1afa("0x241")):style.overflow=_0x1afa("0x273"),style[_0x1afa("0x2c")]=parseInt(style[_0x1afa("0x2c")])+f-parseInt(computed.borderRightWidth)+"px";let o=mirrorDiv.querySelectorAll(_0x1afa("0x1db")),i=mirrorDiv[_0x1afa("0x12c")](_0x1afa("0x256")),r=-1==["TEXTAREA",_0x1afa("0x16")][_0x1afa("0x100")](a[_0x1afa("0xf4")])?a[_0x1afa("0x192")]:a.value;mirrorDiv.textContent=r[_0x1afa("0x153")](0,x),_0x1afa("0x16")===a[_0x1afa("0xf4")]&&(mirrorDiv.textContent=mirrorDiv[_0x1afa("0xb1")][_0x1afa("0xad")](/\s/g," "));var c=document[_0x1afa("0x251")](_0x1afa("0xbc"));c.id=a.nodeName+"span_selections";let l=r.substring(x,e)||"";c[_0x1afa("0xb1")]=l,mirrorDiv.appendChild(c),o&&o[_0x1afa("0x1fa")](function(a,x,e){mirrorDiv[_0x1afa("0xaa")](a)}),i&&i[_0x1afa("0x1fa")](function(a,x,e){mirrorDiv[_0x1afa("0xaa")](a)});let s=r.substring(e)||"";var d=document.createElement(_0x1afa("0xbc"));return mirrorDiv[_0x1afa("0xaa")](d),d[_0x1afa("0xb1")]=s,_=a[_0x1afa("0xab")](),{start:{top:c[_0x1afa("0x130")],left:c[_0x1afa("0x160")]},end:{top:d[_0x1afa("0x130")],left:d[_0x1afa("0x160")]}}};function getStyle(a,x){if(window[_0x1afa("0x107")])var e=document[_0x1afa("0x20c")][_0x1afa("0x107")](a,null)[_0x1afa("0x1e3")](x);return e}function getDocument(a,x){CoCreate[_0x1afa("0x18d")]({collection:a,document_id:x})}function draw_cursor(a){let x=a[_0x1afa("0x224")],e=a[_0x1afa("0x254")],t=a[_0x1afa("0x131")],f=a[_0x1afa("0x1da")],_=x[_0x1afa("0x9a")](_0x1afa("0x6d"))||"";if(""!=_){debug&&console.log(_0x1afa("0x29")+_),void 0!==x[_0x1afa("0x1b2")][_0x1afa("0x40")]&&""!=x[_0x1afa("0x1b2")][_0x1afa("0x40")]||(x[_0x1afa("0x1b2")][_0x1afa("0x40")]=CocreateUtils[_0x1afa("0x159")](length_uuid));let i=getCaretCoordinates(x,e,t);if(!i)return!1;x[_0x1afa("0x9a")](_0x1afa("0x1ee"));let r=x[_0x1afa("0x1b2")][_0x1afa("0x40")],c=document.getElementById(r),l=!1,s=!1,d="_"+r,u=!(void 0===a||!a[_0x1afa("0xb8")]("user"))&&a[_0x1afa("0x26c")],m=!(void 0===a||!a[_0x1afa("0xb8")](_0x1afa("0xf1")))&&u[_0x1afa("0xf1")];if(f){if(cursores_other_elements=document[_0x1afa("0x12c")](_0x1afa("0x10")+f+d),cursores_other_elements[_0x1afa("0x1fa")](function(a,x,e){a[_0x1afa("0x1b7")][_0x1afa("0x9a")]("id")!=r&&a[_0x1afa("0x1e8")]()}),!(l=c[_0x1afa("0x1b4")](_0x1afa("0x5c")+f+d))&&a[_0x1afa("0xb8")](_0x1afa("0x26c"))){if(u){let a=_0x1afa("0x272")+f+d+_0x1afa("0x7a")+u[_0x1afa("0x146")]+_0x1afa("0x17a")+u[_0x1afa("0x1ee")]+_0x1afa("0x1d8")+u.color+'"                                                 data-socket_id="'+f+_0x1afa("0x57")+r+_0x1afa("0x15")+m+_0x1afa("0x1ad")+u[_0x1afa("0x146")]+_0x1afa("0xf9")+u.name+_0x1afa("0x17d");c[_0x1afa("0x192")]=a+c[_0x1afa("0x192")]}m&&CoCreate.getDocument({collection:_0x1afa("0x3e"),document_id:m})}l=c.querySelector(_0x1afa("0x5c")+f+d)}if(l){let a=getStyle(x,_0x1afa("0x109")),_=112.5*(a=parseFloat(a[_0x1afa("0x153")](0,a[_0x1afa("0x245")]-2)))/100,r=l[_0x1afa("0x1b4")](".cursor");if(l[_0x1afa("0x1b2")].start=e,l.dataset.end=t,l[_0x1afa("0x1b2")].socket_id=f,l[_0x1afa("0x1b2")][_0x1afa("0x276")]=f,l[_0x1afa("0x205")][_0x1afa("0x24d")]=i[_0x1afa("0xcb")][_0x1afa("0x24d")]+"px",l[_0x1afa("0x205")][_0x1afa("0x84")]=_0x1afa("0x27"),r.style[_0x1afa("0x18e")]=_+"px",l.style[_0x1afa("0xf0")]=i[_0x1afa("0xcb")][_0x1afa("0xf0")]+"px",s=document.getElementById(_0x1afa("0x6a")+f+d),e!=t&&u){(s=document[_0x1afa("0x145")](_0x1afa("0x6a")+f+d))&&s[_0x1afa("0x1e8")]();var n=x[_0x1afa("0xde")]-x[_0x1afa("0x195")],o=parseInt(getComputedStyle(x)[_0x1afa("0x2c")]);(s=document[_0x1afa("0x251")](_0x1afa("0xbc"))).id=_0x1afa("0x6a")+f+d,s.className=_0x1afa("0x80");let a=getComputedStyle(c);s[_0x1afa("0x205")][_0x1afa("0x6e")]="absolute",s[_0x1afa("0x205")].top=a[_0x1afa("0x1e9")],s[_0x1afa("0x205")][_0x1afa("0xf0")]=a[_0x1afa("0x23e")],s[_0x1afa("0x205")]["padding-right"]=n+o+"px",c[_0x1afa("0x275")](s,c[_0x1afa("0x1f2")]);let _=document.createElement(_0x1afa("0xbc"));_.id=_0x1afa("0x1e0")+f+d,_.style[_0x1afa("0x61")]=u.color;let i=-1==[_0x1afa("0x24c"),_0x1afa("0x16")][_0x1afa("0x100")](x.nodeName)?x[_0x1afa("0x192")]:x.value;s[_0x1afa("0xb1")]=i.substring(0,e);let r=i[_0x1afa("0x153")](e,t)||"";_[_0x1afa("0xb1")]=r,s[_0x1afa("0xaa")](_)}else s&&s[_0x1afa("0x1e8")]()}}}function refresh_mirror(a){let x=a[_0x1afa("0x9a")]("data-document_id")||"";""!=x&&(name=a.getAttribute(_0x1afa("0x1ee")),id_mirror=x+name+_0x1afa("0xe6"),mi_mirror=document[_0x1afa("0x145")](id_mirror),selector_element=a[_0x1afa("0xf4")]+_0x1afa("0xa6")+name+"'][data-document_id='"+x+"']",debug&&console[_0x1afa("0x116")](_0x1afa("0x140")+selector_element),mi_mirror&&(computed=getComputedStyle(a),(style=mi_mirror[_0x1afa("0x205")]).width=a[_0x1afa("0xde")]-(parseInt(computed[_0x1afa("0x106")])+parseInt(computed[_0x1afa("0x31")]))+"px",style[_0x1afa("0x18e")]=a[_0x1afa("0x1d9")]-(parseInt(computed[_0x1afa("0x157")])+parseInt(computed[_0x1afa("0xa3")]))+"px",cursor_container=mi_mirror.querySelectorAll(_0x1afa("0x1db")),cursor_container.forEach(function(x,e,t){let f=x[_0x1afa("0x1b2")];draw_cursor({element:a,startPosition:f[_0x1afa("0x4f")],endPositon:f[_0x1afa("0xcb")],clientId:f[_0x1afa("0xf5")],user:{color:f[_0x1afa("0x3b")],name:f[_0x1afa("0x276")]}})})))}function recalculate_local_cursors(a,x){let e=a.selectionStart,t=(a.getAttribute(_0x1afa("0x1ee")),a[_0x1afa("0x9a")]("data-document_id"),a[_0x1afa("0x9a")](_0x1afa("0x265")),a[_0x1afa("0x1b2")][_0x1afa("0x40")]),f=document[_0x1afa("0x145")](t)[_0x1afa("0x12c")](_0x1afa("0x1db"));f&&f[_0x1afa("0x1fa")](function(t,f,_){let n=parseInt(t.getAttribute(_0x1afa("0x163")));if(debug&&console[_0x1afa("0x116")](_0x1afa("0x58"),e,_0x1afa("0x4f"),n),n>e){let e=parseInt(t[_0x1afa("0x9a")]("data-end")),f=n+x,_=e+x;debug&&console[_0x1afa("0x116")]("pos_start",f,_0x1afa("0x1dc"),_);let o=t[_0x1afa("0x1b4")](_0x1afa("0x101"))[_0x1afa("0x1b2")],i=o[_0x1afa("0xf5")];draw_cursor({element:a,startPosition:f,endPositon:_,clientId:i,user:{color:o[_0x1afa("0x3b")],name:o.user_name}})}})}socket.on(_0x1afa("0x18d"),function(a){cursor=document.querySelector('.cursor-flag[data-document_id="'+a[_0x1afa("0x238")]+'"]'),cursor&&(cursor[_0x1afa("0x192")]=a[_0x1afa("0x161")][cursor.getAttribute(_0x1afa("0x1ee"))])}),Element[_0x1afa("0x150")][_0x1afa("0x1e8")]=function(){this.parentElement&&this[_0x1afa("0x1b7")][_0x1afa("0x118")](this)};var initialize_multicursor=function(a){a[_0x1afa("0x1fa")](function(x,e,t){if(formulario=getParents(x,_0x1afa("0x270")),debug&&console[_0x1afa("0x116")](x[_0x1afa("0x9a")](_0x1afa("0x255"))),_0x1afa("0x237")==x[_0x1afa("0x9a")](_0x1afa("0x255"))||formulario&&_0x1afa("0x237")==formulario[_0x1afa("0x9a")](_0x1afa("0x255"))){if(_0x1afa("0x1e6")==x[_0x1afa("0x9a")](_0x1afa("0x255")))return!1;x.addEventListener("input",function(a){let e=x.selectionStart,t=x[_0x1afa("0x1fe")],f=(getCaretCoordinates(x,e,t),0);switch(a.inputType){case _0x1afa("0x9d"):f=1;break;case"insertFromPaste":break;case _0x1afa("0xc1"):f=-1}f&&recalculate_local_cursors(this,f)},!1),_0x1afa("0x24c")==x[_0x1afa("0xf4")]?(x[_0x1afa("0x193")]("scroll",function(){x[_0x1afa("0x9a")](_0x1afa("0x1ee")),x[_0x1afa("0x9a")]("data-document_id");let a=x.dataset[_0x1afa("0x40")],e=document[_0x1afa("0x145")](a);e&&e[_0x1afa("0x1f6")](x[_0x1afa("0x19")],x[_0x1afa("0x1c1")])},!1),new ResizeObserver(function(){a.forEach(function(a,e,t){a[_0x1afa("0x9a")](_0x1afa("0x1ee"));let f=x[_0x1afa("0x1b2")][_0x1afa("0x40")],_=document[_0x1afa("0x145")](f);_&&(_[_0x1afa("0x205")].width=a[_0x1afa("0xde")]+"px",_[_0x1afa("0x205")][_0x1afa("0x18e")]=a[_0x1afa("0x1d9")]+"px",document.activeElement,document[_0x1afa("0x3c")],refresh_mirror(x),console[_0x1afa("0x116")](_0x1afa("0x105")))})})[_0x1afa("0x220")](x)):(x.addEventListener(_0x1afa("0x180"),function(a){x[_0x1afa("0x9a")](_0x1afa("0x1ee")),x[_0x1afa("0x9a")](_0x1afa("0x6d"));let e=x.dataset.mirror_id,t=document[_0x1afa("0x145")](e);t&&t[_0x1afa("0x1f6")](x.scrollLeft,x.scrollTop)}),x[_0x1afa("0x193")](_0x1afa("0x1ae"),function(a){x[_0x1afa("0x9a")]("name"),x[_0x1afa("0x9a")](_0x1afa("0x6d"));let e=x[_0x1afa("0x1b2")][_0x1afa("0x40")],t=document.getElementById(e);t&&t[_0x1afa("0x1f6")](x[_0x1afa("0x19")],x[_0x1afa("0x1c1")])}),x[_0x1afa("0x193")](_0x1afa("0xc4"),function(a){x[_0x1afa("0x9a")](_0x1afa("0x1ee"));let e=x.dataset[_0x1afa("0x40")],t=document[_0x1afa("0x145")](e);t&&t[_0x1afa("0x1f6")](x.scrollLeft,x[_0x1afa("0x1c1")])}))}})};debug&&console[_0x1afa("0x116")](_0x1afa("0xf6"),element_multicursors),initialize_multicursor(element_multicursors);var permissionClass="checkPermission",usersCollection=_0x1afa("0x3e"),redirectClass=_0x1afa("0x125");checkSession(),initSocketsForUsers(),fetchUser(),initLoginForms(),initCurrentOrgEles(),initLogoutBtn();var getOrg=!1,updatedCurrentOrg=!1;function initSocketsForUsers(){socket.on(_0x1afa("0xa7"),function(a){fetchedUser(a)}),socket.on("login",function(a){loginResult(a)}),socket.on("createDocument",function(a){registerResult(a)}),socket.on(_0x1afa("0x50"),function(a){console.log(a),updatedCurrentOrg=!0,getOrg=!0,localStorage[_0x1afa("0x217")]("apiKey",a[_0x1afa("0x103")]),localStorage[_0x1afa("0x217")](_0x1afa("0x10b"),a[_0x1afa("0x10b")]),localStorage[_0x1afa("0x217")]("organization_id",a[_0x1afa("0x2b")]),localStorage[_0x1afa("0x217")](_0x1afa("0x4e"),a[_0x1afa("0x4e")]),localStorage[_0x1afa("0x217")](_0x1afa("0x11f"),a[_0x1afa("0x11f")])})}function fetchUser(){var a=localStorage[_0x1afa("0x98")]("user_id");if(a){var x={apiKey:config[_0x1afa("0x103")],securityKey:config[_0x1afa("0x10b")],organization_id:config.organization_Id,"data-collection":usersCollection,user_id:a};socket[_0x1afa("0x133")]("fetchUser",x)}}function fetchedUser(a){console.log(a),checkPermissions(a)}function checkPermissions(a){var x=document[_0x1afa("0x12c")]("."+permissionClass);console[_0x1afa("0x116")](x);for(var e=0;e<x[_0x1afa("0x245")];e++){var t=x[e],f=t[_0x1afa("0x9a")](_0x1afa("0x6d"))?t.getAttribute("data-document_id"):t[_0x1afa("0x9a")]("data-pass_document_id"),_=t[_0x1afa("0x9a")](_0x1afa("0xc9")),n=a[_0x1afa("0x226")+f];if(console[_0x1afa("0x116")](n),-1==n[_0x1afa("0x100")](_))switch(_){case _0x1afa("0x85"):case _0x1afa("0x1a8"):case"delete":t[_0x1afa("0x205")].display=_0x1afa("0x196");break;case _0x1afa("0x261"):t[_0x1afa("0x86")]=!0}}}function initLoginForms(){for(var a=document[_0x1afa("0x12c")]("form"),x=0;x<a.length;x++)isLoginForm(a[x])&&initLoginForm(a[x])}function initLoginForm(a){console[_0x1afa("0x116")](a);var x=a.getAttribute("data-form_id");a.querySelector(_0x1afa("0x1fd")).addEventListener(_0x1afa("0xa1"),function(e){e[_0x1afa("0x177")](),console[_0x1afa("0x116")](this);var t=a[_0x1afa("0x9a")](_0x1afa("0x73"))?a.getAttribute(_0x1afa("0x73")):_0x1afa("0x190"),f=a[_0x1afa("0x9a")]("data-search_module");console[_0x1afa("0x116")](t,f);var _=new Object,n=a[_0x1afa("0x12c")](_0x1afa("0x239"));console[_0x1afa("0x116")](n);for(var o=0;o<n[_0x1afa("0x245")];o++){var i=n[o],r=i[_0x1afa("0x9a")](_0x1afa("0x1ee")),c=i[_0x1afa("0x260")];"password"==i[_0x1afa("0x147")]&&(c=CoCreateUtils[_0x1afa("0x236")](c)),r&&(_[r]=c)}var l={apiKey:config[_0x1afa("0x103")],securityKey:config[_0x1afa("0x10b")],organization_id:config.organization_Id,eId:x,"data-collection":t,loginData:_};_0x1afa("0x190")==t&&(l[_0x1afa("0xf2")]=f),console[_0x1afa("0x116")](l),socket.emit(_0x1afa("0xc6"),l)})}function loginResult(a){if(a.success){localStorage[_0x1afa("0x217")]("user_id",a.id),getCurrentOrg(a.id);var x=a[_0x1afa("0x26e")],e=setInterval(function(){if(getOrg){var a=document.querySelector(_0x1afa("0xc2")+x+"']");if(a){var t=a[_0x1afa("0x1b4")](_0x1afa("0x1fd"));if(t){var f=t[_0x1afa("0x1b4")]("a");f&&(CoCreateLogic[_0x1afa("0xe0")](f),clearInterval(e))}}}},100)}else console.log(_0x1afa("0x185"))}function getCurrentOrg(a){var x={"data-collection":"users",user_id:a};socket.emit(_0x1afa("0x50"),x)}function isLoginForm(a){return!!a[_0x1afa("0x1b4")](_0x1afa("0x1fd"))}function registerResult(a){var x=a[_0x1afa("0x224")];const e=a[_0x1afa("0x238")];var t=document[_0x1afa("0x1b4")](_0x1afa("0xc2")+x+"']");if(t&&isRegisterForm(t)){localStorage[_0x1afa("0x217")](_0x1afa("0xf1"),e);var f=t[_0x1afa("0x1b4")](_0x1afa("0x221"));if(f){var _=f[_0x1afa("0x1b4")]("a");_&&(_[_0x1afa("0x26d")]("data-pass_document_id",e),CoCreateLogic[_0x1afa("0xe0")](_))}}}function isRegisterForm(a){return!!a.querySelector(".registerBtn")}function initCurrentOrgEles(){var a=localStorage[_0x1afa("0x98")](_0x1afa("0xf1"));if(!a)return;let x=document.querySelectorAll(_0x1afa("0x170"));for(let f=0;f<x[_0x1afa("0x245")];f++){let _=x[f];var e=_[_0x1afa("0x9a")](_0x1afa("0x265"))?_[_0x1afa("0x9a")](_0x1afa("0x265")):_0x1afa("0x190"),t=_[_0x1afa("0x9a")](_0x1afa("0x6d"));_0x1afa("0x3e")==e&&t==a&&_[_0x1afa("0x193")](_0x1afa("0x18f"),function(x){console[_0x1afa("0x116")](CoCreateSelect[_0x1afa("0x7b")](this)),setTimeout(function(){getCurrentOrg(a);var x=setInterval(function(){updatedCurrentOrg&&(location[_0x1afa("0x1b")](),clearInterval(x))},100)},300)})}}function initLogoutBtn(){let a=document[_0x1afa("0x12c")](_0x1afa("0x257"));for(let x=0;x<a[_0x1afa("0x245")];x++)a[x][_0x1afa("0x193")](_0x1afa("0xa1"),function(a){a.preventDefault(),localStorage.clear();let x=this.getAttribute(_0x1afa("0x191"));x&&(document.location[_0x1afa("0x191")]=x)})}function checkSession(){var a;if(localStorage[_0x1afa("0x98")](_0x1afa("0xf1"))){if(console.log(1),a=document[_0x1afa("0x1b4")](_0x1afa("0x23"))){console[_0x1afa("0x116")](2);let x=a[_0x1afa("0x9a")](_0x1afa("0x191"));x&&(console.log(3),document[_0x1afa("0x38")].href=x)}}else if(console[_0x1afa("0x116")](4),a=document[_0x1afa("0x1b4")](_0x1afa("0x1eb"))){console[_0x1afa("0x116")](5);let x=a[_0x1afa("0x9a")]("href");x&&(console[_0x1afa("0x116")](6),localStorage[_0x1afa("0x41")](),document.location[_0x1afa("0x191")]=x)}}function initShowHideEles(){var a=document.querySelectorAll(_0x1afa("0x2f"));for(let x of a)_0x1afa("0x1ed")==x[_0x1afa("0x8d")].toLowerCase()&&(x=x.closest(_0x1afa("0x278"))),x[_0x1afa("0x44")](_0x1afa("0x36"),selectShowHideEle),x[_0x1afa("0x44")](_0x1afa("0xa1"),clickShowHideEle),x[_0x1afa("0x193")](_0x1afa("0x36"),selectShowHideEle),x[_0x1afa("0x193")]("click",clickShowHideEle)}function selectShowHideEle(a){if(console[_0x1afa("0x116")](this,_0x1afa("0x278")),a[_0x1afa("0x177")](),void 0!==this.options)for(var x=0,e=this[_0x1afa("0x175")][_0x1afa("0x245")];x<e;x++){var t=this[_0x1afa("0x175")][x];if(""!=t[_0x1afa("0x260")]){var f=t.dataset[_0x1afa("0x156")];if(void 0!==f){for(let a of document[_0x1afa("0x12c")](f))a[_0x1afa("0x243")][_0x1afa("0x1ac")](_0x1afa("0x241"));if(!0===t[_0x1afa("0xcf")])for(let a of document[_0x1afa("0x12c")](f))a.classList[_0x1afa("0x1e8")]("hidden")}}}}function clickShowHideEle(a){console[_0x1afa("0x116")](this,_0x1afa("0xa1"));var x=this[_0x1afa("0x1b2")][_0x1afa("0x156")],e=this[_0x1afa("0x1b2")][_0x1afa("0x194")];let t=this[_0x1afa("0x8d")][_0x1afa("0x179")]();if(_0x1afa("0x6f")==t&&_0x1afa("0x12a")==this[_0x1afa("0x9a")]("type")[_0x1afa("0x179")]()){let a=this[_0x1afa("0x9a")](_0x1afa("0x1ee")),e=document[_0x1afa("0x12c")](t+'[name="'+a+'"]');for(let a of e){x=a[_0x1afa("0x1b2")][_0x1afa("0x156")];for(let a of document[_0x1afa("0x12c")](x))a.classList[_0x1afa("0x1ac")](_0x1afa("0x241"));if(a[_0x1afa("0xe")])for(let a of document.querySelectorAll(x))a.classList[_0x1afa("0x1e8")](_0x1afa("0x241"))}}else{let a=[];for(let e of document[_0x1afa("0x12c")](x))e[_0x1afa("0x243")][_0x1afa("0x52")](_0x1afa("0x241"))&&(e[_0x1afa("0x243")][_0x1afa("0x1e8")](_0x1afa("0x241")),a[_0x1afa("0x112")](e));for(let x of document.querySelectorAll(e)){let e=!1;for(let t of a)if(x.isEqualNode(t)){e=!0;break}e||x[_0x1afa("0x243")][_0x1afa("0x1ac")](_0x1afa("0x241"))}}}initShowHideEles(),document[_0x1afa("0x193")](_0x1afa("0x15d"),()=>{initShowHideEles()});var CoCreateCalculation={init:function(){function a(a){x(a);let t=e(a[_0x1afa("0x9a")]("data-calculation"));for(let e=0;e<t[_0x1afa("0x245")];e++){let f=t[e],_=document[_0x1afa("0x145")](f);_&&_[_0x1afa("0x193")](_0x1afa("0x6f"),function(){x(a)})}}function x(a){let x=function(a){let x=e(a);for(let e=0;e<x[_0x1afa("0x245")];e++){let t=x[e],f=document.getElementById(t);if(f){let x=Number(f.value);a=a[_0x1afa("0xad")](new RegExp("{"+t+"}","g"),x)}}return a}(a[_0x1afa("0x9a")]("data-calculation"));console[_0x1afa("0x116")](x);let t=calculation(x);_0x1afa("0x16")==a[_0x1afa("0x8d")]||_0x1afa("0x24c")==a[_0x1afa("0x8d")]||_0x1afa("0x1c4")==a.tagName?a[_0x1afa("0x260")]=t:a[_0x1afa("0x192")]=t}function e(a){let x=a,e=[];for(;x[_0x1afa("0x245")]>0;){let a=x[_0x1afa("0x100")]("{"),t=x.indexOf("}",a);if(!(a>-1&&t>-1))return e;{let f=x.substring(a+1,t);-1==e.indexOf(f)&&e[_0x1afa("0x112")](f),x=x[_0x1afa("0x153")](t+1)}}return e}!function(){let x=document.querySelectorAll(_0x1afa("0x136"));for(let e=0;e<x[_0x1afa("0x245")];e++)a(x[e])}()}};function calculation(a){let x,e,t,f;if(x=a[_0x1afa("0x100")]("+"),e=a[_0x1afa("0x100")]("-"),t=a.indexOf("*"),f=a[_0x1afa("0x100")]("/"),x>-1){let e=a[_0x1afa("0x24b")](0,x),t=a.substr(x+1);return calculation(e)+calculation(t)}if(e>-1){let x=a[_0x1afa("0x24b")](0,e),t=a[_0x1afa("0x24b")](e+1);return calculation(x)-calculation(t)}if(t>-1){let x=a[_0x1afa("0x24b")](0,t),e=a[_0x1afa("0x24b")](t+1);return calculation(x)*calculation(e)}if(f>-1){let x=a[_0x1afa("0x24b")](0,f),e=a.substr(f+1),t=calculation(x),_=calculation(e);return 0==_?0:t/_}{let x=Number(a);return isNaN(x)?0:x}}CoCreateCalculation[_0x1afa("0x102")]();/* CoCreateJS */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Sortable=e()}(this,function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(){return(e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}function n(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){var o,i,r;o=t,r=n[i=e],i in o?Object.defineProperty(o,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[i]=r})}return t}function o(t){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(t)}var i=o(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),r=o(/Edge/i),a=o(/firefox/i),l=o(/safari/i)&&!o(/chrome/i)&&!o(/android/i),s=o(/iP(ad|od|hone)/i),c=o(/chrome/i)&&o(/android/i),u={capture:!1,passive:!1};function d(t,e,n){t.addEventListener(e,n,!i&&u)}function h(t,e,n){t.removeEventListener(e,n,!i&&u)}function f(t,e){if(e){if(">"===e[0]&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(t){return!1}return!1}}function p(t,e,n,o){if(t){n=n||document;do{if(null!=e&&(">"===e[0]?t.parentNode===n&&f(t,e):f(t,e))||o&&t===n)return t;if(t===n)break}while(t=(i=t).host&&i!==document&&i.host.nodeType?i.host:i.parentNode)}var i;return null}var g,m=/\s+/g;function v(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var o=(" "+t.className+" ").replace(m," ").replace(" "+e+" "," ");t.className=(o+(n?" "+e:"")).replace(m," ")}}function b(t,e,n){var o=t&&t.style;if(o){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in o||-1!==e.indexOf("webkit")||(e="-webkit-"+e),o[e]=n+("string"==typeof n?"":"px")}}function y(t,e){var n="";if("string"==typeof t)n=t;else do{var o=b(t,"transform");o&&"none"!==o&&(n=o+" "+n)}while(!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix;return i&&new i(n)}function w(t,e,n){if(t){var o=t.getElementsByTagName(e),i=0,r=o.length;if(n)for(;i<r;i++)n(o[i],i);return o}return[]}function E(){return i?document.documentElement:document.scrollingElement}function D(t,e,n,o,r){if(t.getBoundingClientRect||t===window){var a,l,s,c,u,d,h;if(h=t!==window&&t!==E()?(l=(a=t.getBoundingClientRect()).top,s=a.left,c=a.bottom,u=a.right,d=a.height,a.width):(s=l=0,c=window.innerHeight,u=window.innerWidth,d=window.innerHeight,window.innerWidth),(e||n)&&t!==window&&(r=r||t.parentNode,!i))do{if(r&&r.getBoundingClientRect&&("none"!==b(r,"transform")||n&&"static"!==b(r,"position"))){var f=r.getBoundingClientRect();l-=f.top+parseInt(b(r,"border-top-width")),s-=f.left+parseInt(b(r,"border-left-width")),c=l+a.height,u=s+a.width;break}}while(r=r.parentNode);if(o&&t!==window){var p=y(r||t),g=p&&p.a,m=p&&p.d;p&&(c=(l/=m)+(d/=m),u=(s/=g)+(h/=g))}return{top:l,left:s,bottom:c,right:u,width:h,height:d}}}function S(t,e,n){for(var o=x(t,!0),i=D(t)[e];o;){var r=D(o)[n];if(!("top"===n||"left"===n?r<=i:i<=r))return o;if(o===E())break;o=x(o,!1)}return!1}function _(t,e,n){for(var o=0,i=0,r=t.children;i<r.length;){if("none"!==r[i].style.display&&r[i]!==It.ghost&&r[i]!==It.dragged&&p(r[i],n.draggable,t,!1)){if(o===e)return r[i];o++}i++}return null}function C(t,e){for(var n=t.lastElementChild;n&&(n===It.ghost||"none"===b(n,"display")||e&&!f(n,e));)n=n.previousElementSibling;return n||null}function T(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)"TEMPLATE"===t.nodeName.toUpperCase()||t===It.clone||e&&!f(t,e)||n++;return n}function O(t){var e=0,n=0,o=E();if(t)do{var i=y(t),r=i.a,a=i.d;e+=t.scrollLeft*r,n+=t.scrollTop*a}while(t!==o&&(t=t.parentNode));return[e,n]}function x(t,e){if(!t||!t.getBoundingClientRect)return E();var n=t,o=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=b(n);if(n.clientWidth<n.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!n.getBoundingClientRect||n===document.body)return E();if(o||e)return n;o=!0}}}while(n=n.parentNode);return E()}function M(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function A(t,e){return function(){if(!g){var n=arguments;1===n.length?t.call(this,n[0]):t.apply(this,n),g=setTimeout(function(){g=void 0},e)}}}function N(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function I(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function P(t,e){b(t,"position","absolute"),b(t,"top",e.top),b(t,"left",e.left),b(t,"width",e.width),b(t,"height",e.height)}function k(t){b(t,"position",""),b(t,"top",""),b(t,"left",""),b(t,"width",""),b(t,"height","")}var R="Sortable"+(new Date).getTime();var X=[],B={initializeByDefault:!0},Y={mount:function(t){for(var e in B)!B.hasOwnProperty(e)||e in t||(t[e]=B[e]);X.push(t)},pluginEvent:function(t,e,o){var i=this;this.eventCanceled=!1,o.cancel=function(){i.eventCanceled=!0};var r=t+"Global";X.forEach(function(i){e[i.pluginName]&&(e[i.pluginName][r]&&e[i.pluginName][r](n({sortable:e},o)),e.options[i.pluginName]&&e[i.pluginName][t]&&e[i.pluginName][t](n({sortable:e},o)))})},initializePlugins:function(t,n,o,i){for(var r in X.forEach(function(i){var r=i.pluginName;if(t.options[r]||i.initializeByDefault){var a=new i(t,n,t.options);a.sortable=t,a.options=t.options,t[r]=a,e(o,a.defaults)}}),t.options)if(t.options.hasOwnProperty(r)){var a=this.modifyOption(t,r,t.options[r]);void 0!==a&&(t.options[r]=a)}},getEventProperties:function(t,n){var o={};return X.forEach(function(i){"function"==typeof i.eventProperties&&e(o,i.eventProperties.call(n[i.pluginName],t))}),o},modifyOption:function(t,e,n){var o;return X.forEach(function(i){t[i.pluginName]&&i.optionListeners&&"function"==typeof i.optionListeners[e]&&(o=i.optionListeners[e].call(t[i.pluginName],n))}),o}};function j(t){var e=t.sortable,o=t.rootEl,a=t.name,l=t.targetEl,s=t.cloneEl,c=t.toEl,u=t.fromEl,d=t.oldIndex,h=t.newIndex,f=t.oldDraggableIndex,p=t.newDraggableIndex,g=t.originalEvent,m=t.putSortable,v=t.extraEventProperties;if(e=e||o&&o[R]){var b,y=e.options,w="on"+a.charAt(0).toUpperCase()+a.substr(1);!window.CustomEvent||i||r?(b=document.createEvent("Event")).initEvent(a,!0,!0):b=new CustomEvent(a,{bubbles:!0,cancelable:!0}),b.to=c||o,b.from=u||o,b.item=l||o,b.clone=s,b.oldIndex=d,b.newIndex=h,b.oldDraggableIndex=f,b.newDraggableIndex=p,b.originalEvent=g,b.pullMode=m?m.lastPutMode:void 0;var E=n({},v,Y.getEventProperties(a,e));for(var D in E)b[D]=E[D];o&&o.dispatchEvent(b),y[w]&&y[w].call(e,b)}}function F(t,e,o){var i=2<arguments.length&&void 0!==o?o:{},r=i.evt,a=function(t,e){if(null==t)return{};var n,o,i=function(t,e){if(null==t)return{};var n,o,i={},r=Object.keys(t);for(o=0;o<r.length;o++)n=r[o],0<=e.indexOf(n)||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(o=0;o<r.length;o++)n=r[o],0<=e.indexOf(n)||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(i,["evt"]);Y.pluginEvent.bind(It)(t,e,n({dragEl:L,parentEl:K,ghostEl:W,rootEl:z,nextEl:G,lastDownEl:U,cloneEl:q,cloneHidden:V,dragStarted:st,putSortable:et,activeSortable:It.active,originalEvent:r,oldIndex:Z,oldDraggableIndex:$,newIndex:Q,newDraggableIndex:J,hideGhostForTarget:xt,unhideGhostForTarget:Mt,cloneNowHidden:function(){V=!0},cloneNowShown:function(){V=!1},dispatchSortableEvent:function(t){H({sortable:e,name:t,originalEvent:r})}},a))}function H(t){j(n({putSortable:et,cloneEl:q,targetEl:L,rootEl:z,oldIndex:Z,oldDraggableIndex:$,newIndex:Q,newDraggableIndex:J},t))}var L,K,W,z,G,U,q,V,Z,Q,$,J,tt,et,nt,ot,it,rt,at,lt,st,ct,ut,dt,ht,ft=!1,pt=!1,gt=[],mt=!1,vt=!1,bt=[],yt=!1,wt=[],Et="undefined"!=typeof document,Dt=s,St=r||i?"cssFloat":"float",_t=Et&&!c&&!s&&"draggable"in document.createElement("div"),Ct=function(){if(Et){if(i)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}}(),Tt=function(t,e){var n=b(t),o=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=_(t,0,e),r=_(t,1,e),a=i&&b(i),l=r&&b(r),s=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+D(i).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+D(r).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&a.float&&"none"!==a.float){var u="left"===a.float?"left":"right";return!r||"both"!==l.clear&&l.clear!==u?"horizontal":"vertical"}return i&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||o<=s&&"none"===n[St]||r&&"none"===n[St]&&o<s+c)?"vertical":"horizontal"},Ot=function(e){function n(t,e){return function(o,i,r,a){var l=o.options.group.name&&i.options.group.name&&o.options.group.name===i.options.group.name;if(null==t&&(e||l))return!0;if(null==t||!1===t)return!1;if(e&&"clone"===t)return t;if("function"==typeof t)return n(t(o,i,r,a),e)(o,i,r,a);var s=(e?o:i).options.group.name;return!0===t||"string"==typeof t&&t===s||t.join&&-1<t.indexOf(s)}}var o={},i=e.group;i&&"object"==t(i)||(i={name:i}),o.name=i.name,o.checkPull=n(i.pull,!0),o.checkPut=n(i.put),o.revertClone=i.revertClone,e.group=o},xt=function(){!Ct&&W&&b(W,"display","none")},Mt=function(){!Ct&&W&&b(W,"display","")};function At(t){if(L){var e=(i=(t=t.touches?t.touches[0]:t).clientX,r=t.clientY,gt.some(function(t){if(!C(t)){var e=D(t),n=t[R].options.emptyInsertThreshold,o=i>=e.left-n&&i<=e.right+n,l=r>=e.top-n&&r<=e.bottom+n;return n&&o&&l?a=t:void 0}}),a);if(e){var n={};for(var o in t)t.hasOwnProperty(o)&&(n[o]=t[o]);n.target=n.rootEl=e,n.preventDefault=void 0,n.stopPropagation=void 0,e[R]._onDragOver(n)}}var i,r,a}function Nt(t){L&&L.parentNode[R]._isOutsideThisEl(t.target)}function It(t,o){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=o=e({},o),t[R]=this;var i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Tt(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==It.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var r in Y.initializePlugins(this,t,i),i)r in o||(o[r]=i[r]);for(var a in Ot(o),this)"_"===a.charAt(0)&&"function"==typeof this[a]&&(this[a]=this[a].bind(this));this.nativeDraggable=!o.forceFallback&&_t,this.nativeDraggable&&(this.options.touchStartThreshold=1),o.supportPointer?d(t,"pointerdown",this._onTapStart):(d(t,"mousedown",this._onTapStart),d(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(d(t,"dragover",this),d(t,"dragenter",this)),gt.push(this.el),o.store&&o.store.get&&this.sort(o.store.get(this)||[]),e(this,function(){var t,e=[];return{captureAnimationState:function(){e=[],this.options.animation&&[].slice.call(this.el.children).forEach(function(t){if("none"!==b(t,"display")&&t!==It.ghost){e.push({target:t,rect:D(t)});var o=n({},e[e.length-1].rect);if(t.thisAnimationDuration){var i=y(t,!0);i&&(o.top-=i.f,o.left-=i.e)}t.fromRect=o}})},addAnimationState:function(t){e.push(t)},removeAnimationState:function(t){e.splice(function(t,e){for(var n in t)if(t.hasOwnProperty(n))for(var o in e)if(e.hasOwnProperty(o)&&e[o]===t[n][o])return Number(n);return-1}(e,{target:t}),1)},animateAll:function(n){var o=this;if(!this.options.animation)return clearTimeout(t),void("function"==typeof n&&n());var i=!1,r=0;e.forEach(function(t){var e=0,n=t.target,a=n.fromRect,l=D(n),s=n.prevFromRect,c=n.prevToRect,u=t.rect,d=y(n,!0);d&&(l.top-=d.f,l.left-=d.e),n.toRect=l,n.thisAnimationDuration&&M(s,l)&&!M(a,l)&&(u.top-l.top)/(u.left-l.left)==(a.top-l.top)/(a.left-l.left)&&(e=function(t,e,n,o){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*o.animation}(u,s,c,o.options)),M(l,a)||(n.prevFromRect=a,n.prevToRect=l,e||(e=o.options.animation),o.animate(n,u,l,e)),e&&(i=!0,r=Math.max(r,e),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout(function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null},e),n.thisAnimationDuration=e)}),clearTimeout(t),i?t=setTimeout(function(){"function"==typeof n&&n()},r):"function"==typeof n&&n(),e=[]},animate:function(t,e,n,o){if(o){b(t,"transition",""),b(t,"transform","");var i=y(this.el),r=i&&i.a,a=i&&i.d,l=(e.left-n.left)/(r||1),s=(e.top-n.top)/(a||1);t.animatingX=!!l,t.animatingY=!!s,b(t,"transform","translate3d("+l+"px,"+s+"px,0)"),function(t){t.offsetWidth}(t),b(t,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),b(t,"transform","translate3d(0,0,0)"),"number"==typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout(function(){b(t,"transition",""),b(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1},o)}}}}())}function Pt(t,e,n,o,a,l,s,c){var u,d,h=t[R],f=h.options.onMove;return!window.CustomEvent||i||r?(u=document.createEvent("Event")).initEvent("move",!0,!0):u=new CustomEvent("move",{bubbles:!0,cancelable:!0}),u.to=e,u.from=t,u.dragged=n,u.draggedRect=o,u.related=a||e,u.relatedRect=l||D(e),u.willInsertAfter=c,u.originalEvent=s,t.dispatchEvent(u),f&&(d=f.call(h,u,s)),d}function kt(t){t.draggable=!1}function Rt(){yt=!1}function Xt(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,o=0;n--;)o+=e.charCodeAt(n);return o.toString(36)}function Bt(t){return setTimeout(t,0)}function Yt(t){return clearTimeout(t)}Et&&document.addEventListener("click",function(t){if(pt)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),pt=!1},!0),It.prototype={constructor:It,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(ct=null)},_getDirection:function(t,e){return"function"==typeof this.options.direction?this.options.direction.call(this,t,e,L):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,n=this.el,o=this.options,i=o.preventOnFilter,r=t.type,a=t.touches&&t.touches[0]||t.pointerType&&"touch"===t.pointerType&&t,l=(a||t).target,s=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||l,c=o.filter;if(function(t){wt.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var o=e[n];o.checked&&wt.push(o)}}(n),!L&&!(/mousedown|pointerdown/.test(r)&&0!==t.button||o.disabled||s.isContentEditable||(l=p(l,o.draggable,n,!1))&&l.animated||U===l)){if(Z=T(l),$=T(l,o.draggable),"function"==typeof c){if(c.call(this,t,l,this))return H({sortable:e,rootEl:s,name:"filter",targetEl:l,toEl:n,fromEl:n}),F("filter",e,{evt:t}),void(i&&t.cancelable&&t.preventDefault())}else if(c&&(c=c.split(",").some(function(o){if(o=p(s,o.trim(),n,!1))return H({sortable:e,rootEl:o,name:"filter",targetEl:l,fromEl:n,toEl:n}),F("filter",e,{evt:t}),!0})))return void(i&&t.cancelable&&t.preventDefault());o.handle&&!p(s,o.handle,n,!1)||this._prepareDragStart(t,a,l)}}},_prepareDragStart:function(t,e,n){var o,l=this,s=l.el,c=l.options,u=s.ownerDocument;if(n&&!L&&n.parentNode===s){var h=D(n);if(z=s,K=(L=n).parentNode,G=L.nextSibling,U=n,tt=c.group,nt={target:It.dragged=L,clientX:(e||t).clientX,clientY:(e||t).clientY},at=nt.clientX-h.left,lt=nt.clientY-h.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,L.style["will-change"]="all",o=function(){F("delayEnded",l,{evt:t}),It.eventCanceled?l._onDrop():(l._disableDelayedDragEvents(),!a&&l.nativeDraggable&&(L.draggable=!0),l._triggerDragStart(t,e),H({sortable:l,name:"choose",originalEvent:t}),v(L,c.chosenClass,!0))},c.ignore.split(",").forEach(function(t){w(L,t.trim(),kt)}),d(u,"dragover",At),d(u,"mousemove",At),d(u,"touchmove",At),d(u,"mouseup",l._onDrop),d(u,"touchend",l._onDrop),d(u,"touchcancel",l._onDrop),a&&this.nativeDraggable&&(this.options.touchStartThreshold=4,L.draggable=!0),F("delayStart",this,{evt:t}),!c.delay||c.delayOnTouchOnly&&!e||this.nativeDraggable&&(r||i))o();else{if(It.eventCanceled)return void this._onDrop();d(u,"mouseup",l._disableDelayedDrag),d(u,"touchend",l._disableDelayedDrag),d(u,"touchcancel",l._disableDelayedDrag),d(u,"mousemove",l._delayedDragTouchMoveHandler),d(u,"touchmove",l._delayedDragTouchMoveHandler),c.supportPointer&&d(u,"pointermove",l._delayedDragTouchMoveHandler),l._dragStartTimer=setTimeout(o,c.delay)}}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){L&&kt(L),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;h(t,"mouseup",this._disableDelayedDrag),h(t,"touchend",this._disableDelayedDrag),h(t,"touchcancel",this._disableDelayedDrag),h(t,"mousemove",this._delayedDragTouchMoveHandler),h(t,"touchmove",this._delayedDragTouchMoveHandler),h(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||"touch"==t.pointerType&&t,!this.nativeDraggable||e?this.options.supportPointer?d(document,"pointermove",this._onTouchMove):d(document,e?"touchmove":"mousemove",this._onTouchMove):(d(L,"dragend",this),d(z,"dragstart",this._onDragStart));try{document.selection?Bt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(t,e){if(ft=!1,z&&L){F("dragStarted",this,{evt:e}),this.nativeDraggable&&d(document,"dragover",Nt);var n=this.options;t||v(L,n.dragClass,!1),v(L,n.ghostClass,!0),It.active=this,t&&this._appendGhost(),H({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(ot){this._lastX=ot.clientX,this._lastY=ot.clientY,xt();for(var t=document.elementFromPoint(ot.clientX,ot.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(ot.clientX,ot.clientY))!==e;)e=t;if(L.parentNode[R]._isOutsideThisEl(t),e)do{if(e[R]&&e[R]._onDragOver({clientX:ot.clientX,clientY:ot.clientY,target:t,rootEl:e})&&!this.options.dragoverBubble)break;t=e}while(e=e.parentNode);Mt()}},_onTouchMove:function(t){if(nt){var e=this.options,n=e.fallbackTolerance,o=e.fallbackOffset,i=t.touches?t.touches[0]:t,r=W&&y(W),a=W&&r&&r.a,l=W&&r&&r.d,s=Dt&&ht&&O(ht),c=(i.clientX-nt.clientX+o.x)/(a||1)+(s?s[0]-bt[0]:0)/(a||1),u=(i.clientY-nt.clientY+o.y)/(l||1)+(s?s[1]-bt[1]:0)/(l||1);if(!It.active&&!ft){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}if(W){r?(r.e+=c-(it||0),r.f+=u-(rt||0)):r={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");b(W,"webkitTransform",d),b(W,"mozTransform",d),b(W,"msTransform",d),b(W,"transform",d),it=c,rt=u,ot=i}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!W){var t=this.options.fallbackOnBody?document.body:z,e=D(L,!0,Dt,!0,t),n=this.options;if(Dt){for(ht=t;"static"===b(ht,"position")&&"none"===b(ht,"transform")&&ht!==document;)ht=ht.parentNode;ht!==document.body&&ht!==document.documentElement?(ht===document&&(ht=E()),e.top+=ht.scrollTop,e.left+=ht.scrollLeft):ht=E(),bt=O(ht)}v(W=L.cloneNode(!0),n.ghostClass,!1),v(W,n.fallbackClass,!0),v(W,n.dragClass,!0),b(W,"transition",""),b(W,"transform",""),b(W,"box-sizing","border-box"),b(W,"margin",0),b(W,"top",e.top),b(W,"left",e.left),b(W,"width",e.width),b(W,"height",e.height),b(W,"opacity","0.8"),b(W,"position",Dt?"absolute":"fixed"),b(W,"zIndex","100000"),b(W,"pointerEvents","none"),It.ghost=W,t.appendChild(W),b(W,"transform-origin",at/parseInt(W.style.width)*100+"% "+lt/parseInt(W.style.height)*100+"%")}},_onDragStart:function(t,e){var n=this,o=t.dataTransfer,i=n.options;F("dragStart",this,{evt:t}),It.eventCanceled?this._onDrop():(F("setupClone",this),It.eventCanceled||((q=I(L)).draggable=!1,q.style["will-change"]="",this._hideClone(),v(q,this.options.chosenClass,!1),It.clone=q),n.cloneId=Bt(function(){F("clone",n),It.eventCanceled||(n.options.removeCloneOnHide||z.insertBefore(q,L),n._hideClone(),H({sortable:n,name:"clone"}))}),e||v(L,i.dragClass,!0),e?(pt=!0,n._loopId=setInterval(n._emulateDragOver,50)):(h(document,"mouseup",n._onDrop),h(document,"touchend",n._onDrop),h(document,"touchcancel",n._onDrop),o&&(o.effectAllowed="move",i.setData&&i.setData.call(n,o,L)),d(document,"drop",n),b(L,"transform","translateZ(0)")),ft=!0,n._dragStartId=Bt(n._dragStarted.bind(n,e,t)),d(document,"selectstart",n),st=!0,l&&b(document.body,"user-select","none"))},_onDragOver:function(t){var e,o,i,r,a=this.el,l=t.target,s=this.options,c=s.group,u=It.active,d=tt===c,h=s.sort,f=et||u,g=this,m=!1;if(!yt){if(void 0!==t.preventDefault&&t.cancelable&&t.preventDefault(),l=p(l,s.draggable,a,!0),Y("dragOver"),It.eventCanceled)return m;if(L.contains(t.target)||l.animated&&l.animatingX&&l.animatingY||g._ignoreWhileAnimating===l)return U(!1);if(pt=!1,u&&!s.disabled&&(d?h||(i=!z.contains(L)):et===this||(this.lastPutMode=tt.checkPull(this,u,L,t))&&c.checkPut(this,u,L,t))){if(r="vertical"===this._getDirection(t,l),e=D(L),Y("dragOverValid"),It.eventCanceled)return m;if(i)return K=z,j(),this._hideClone(),Y("revert"),It.eventCanceled||(G?z.insertBefore(L,G):z.appendChild(L)),U(!0);var y=C(a,s.draggable);if(!y||function(t,e,n){var o=D(C(n.el,n.options.draggable));return e?t.clientX>o.right+10||t.clientX<=o.right&&t.clientY>o.bottom&&t.clientX>=o.left:t.clientX>o.right&&t.clientY>o.top||t.clientX<=o.right&&t.clientY>o.bottom+10}(t,r,this)&&!y.animated){if(y===L)return U(!1);if(y&&a===t.target&&(l=y),l&&(o=D(l)),!1!==Pt(z,a,L,e,l,o,t,!!l))return j(),a.appendChild(L),K=a,q(),U(!0)}else if(l.parentNode===a){o=D(l);var w,E,_,O=L.parentNode!==a,x=!function(t,e,n){var o=n?t.left:t.top,i=n?t.right:t.bottom,r=n?t.width:t.height,a=n?e.left:e.top,l=n?e.right:e.bottom,s=n?e.width:e.height;return o===a||i===l||o+r/2===a+s/2}(L.animated&&L.toRect||e,l.animated&&l.toRect||o,r),M=r?"top":"left",A=S(l,"top","top")||S(L,"top","top"),I=A?A.scrollTop:void 0;if(ct!==l&&(E=o[M],mt=!1,vt=!x&&s.invertSwap||O),0!==(w=function(t,e,n,o,i,r,a,l){var s=o?t.clientY:t.clientX,c=o?n.height:n.width,u=o?n.top:n.left,d=o?n.bottom:n.right,h=!1;if(!a)if(l&&dt<c*i){if(!mt&&(1===ut?u+c*r/2<s:s<d-c*r/2)&&(mt=!0),mt)h=!0;else if(1===ut?s<u+dt:d-dt<s)return-ut}else if(u+c*(1-i)/2<s&&s<d-c*(1-i)/2)return function(t){return T(L)<T(t)?1:-1}(e);return(h=h||a)&&(s<u+c*r/2||d-c*r/2<s)?u+c/2<s?1:-1:0}(t,l,o,r,x?1:s.swapThreshold,null==s.invertedSwapThreshold?s.swapThreshold:s.invertedSwapThreshold,vt,ct===l)))for(var P=T(L);P-=w,(_=K.children[P])&&("none"===b(_,"display")||_===W););if(0===w||_===l)return U(!1);ut=w;var k=(ct=l).nextElementSibling,X=!1,B=Pt(z,a,L,e,l,o,t,X=1===w);if(!1!==B)return 1!==B&&-1!==B||(X=1===B),yt=!0,setTimeout(Rt,30),j(),X&&!k?a.appendChild(L):l.parentNode.insertBefore(L,X?k:l),A&&N(A,0,I-A.scrollTop),K=L.parentNode,void 0===E||vt||(dt=Math.abs(E-D(l)[M])),q(),U(!0)}if(a.contains(L))return U(!1)}return!1}function Y(s,c){F(s,g,n({evt:t,isOwner:d,axis:r?"vertical":"horizontal",revert:i,dragRect:e,targetRect:o,canSort:h,fromSortable:f,target:l,completed:U,onMove:function(n,o){return Pt(z,a,L,e,n,D(n),t,o)},changed:q},c))}function j(){Y("dragOverAnimationCapture"),g.captureAnimationState(),g!==f&&f.captureAnimationState()}function U(e){return Y("dragOverCompleted",{insertion:e}),e&&(d?u._hideClone():u._showClone(g),g!==f&&(v(L,et?et.options.ghostClass:u.options.ghostClass,!1),v(L,s.ghostClass,!0)),et!==g&&g!==It.active?et=g:g===It.active&&et&&(et=null),f===g&&(g._ignoreWhileAnimating=l),g.animateAll(function(){Y("dragOverAnimationComplete"),g._ignoreWhileAnimating=null}),g!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(l===L&&!L.animated||l===a&&!l.animated)&&(ct=null),s.dragoverBubble||t.rootEl||l===document||(L.parentNode[R]._isOutsideThisEl(t.target),e||At(t)),!s.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),m=!0}function q(){Q=T(L),J=T(L,s.draggable),H({sortable:g,name:"change",toEl:a,newIndex:Q,newDraggableIndex:J,originalEvent:t})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){h(document,"mousemove",this._onTouchMove),h(document,"touchmove",this._onTouchMove),h(document,"pointermove",this._onTouchMove),h(document,"dragover",At),h(document,"mousemove",At),h(document,"touchmove",At)},_offUpEvents:function(){var t=this.el.ownerDocument;h(t,"mouseup",this._onDrop),h(t,"touchend",this._onDrop),h(t,"pointerup",this._onDrop),h(t,"touchcancel",this._onDrop),h(document,"selectstart",this)},_onDrop:function(t){var e=this.el,n=this.options;Q=T(L),J=T(L,n.draggable),F("drop",this,{evt:t}),K=L&&L.parentNode,Q=T(L),J=T(L,n.draggable),It.eventCanceled||(mt=vt=ft=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Yt(this.cloneId),Yt(this._dragStartId),this.nativeDraggable&&(h(document,"drop",this),h(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),l&&b(document.body,"user-select",""),t&&(st&&(t.cancelable&&t.preventDefault(),n.dropBubble||t.stopPropagation()),W&&W.parentNode&&W.parentNode.removeChild(W),(z===K||et&&"clone"!==et.lastPutMode)&&q&&q.parentNode&&q.parentNode.removeChild(q),L&&(this.nativeDraggable&&h(L,"dragend",this),kt(L),L.style["will-change"]="",st&&!ft&&v(L,et?et.options.ghostClass:this.options.ghostClass,!1),v(L,this.options.chosenClass,!1),H({sortable:this,name:"unchoose",toEl:K,newIndex:null,newDraggableIndex:null,originalEvent:t}),z!==K?(0<=Q&&(H({rootEl:K,name:"add",toEl:K,fromEl:z,originalEvent:t}),H({sortable:this,name:"remove",toEl:K,originalEvent:t}),H({rootEl:K,name:"sort",toEl:K,fromEl:z,originalEvent:t}),H({sortable:this,name:"sort",toEl:K,originalEvent:t})),et&&et.save()):Q!==Z&&0<=Q&&(H({sortable:this,name:"update",toEl:K,originalEvent:t}),H({sortable:this,name:"sort",toEl:K,originalEvent:t})),It.active&&(null!=Q&&-1!==Q||(Q=Z,J=$),H({sortable:this,name:"end",toEl:K,originalEvent:t}),this.save())))),this._nulling()},_nulling:function(){F("nulling",this),z=L=K=W=G=q=U=V=nt=ot=st=Q=J=Z=$=ct=ut=et=tt=It.dragged=It.ghost=It.clone=It.active=null,wt.forEach(function(t){t.checked=!0}),wt.length=it=rt=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":L&&(this._onDragOver(t),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var t,e=[],n=this.el.children,o=0,i=n.length,r=this.options;o<i;o++)p(t=n[o],r.draggable,this.el,!1)&&e.push(t.getAttribute(r.dataIdAttr)||Xt(t));return e},sort:function(t){var e={},n=this.el;this.toArray().forEach(function(t,o){var i=n.children[o];p(i,this.options.draggable,n,!1)&&(e[t]=i)},this),t.forEach(function(t){e[t]&&(n.removeChild(e[t]),n.appendChild(e[t]))})},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return p(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];var o=Y.modifyOption(this,t,e);n[t]=void 0!==o?o:e,"group"===t&&Ot(n)},destroy:function(){F("destroy",this);var t=this.el;t[R]=null,h(t,"mousedown",this._onTapStart),h(t,"touchstart",this._onTapStart),h(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(h(t,"dragover",this),h(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),gt.splice(gt.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!V){if(F("hideClone",this),It.eventCanceled)return;b(q,"display","none"),this.options.removeCloneOnHide&&q.parentNode&&q.parentNode.removeChild(q),V=!0}},_showClone:function(t){if("clone"===t.lastPutMode){if(V){if(F("showClone",this),It.eventCanceled)return;z.contains(L)&&!this.options.group.revertClone?z.insertBefore(q,L):G?z.insertBefore(q,G):z.appendChild(q),this.options.group.revertClone&&this.animate(L,q),b(q,"display",""),V=!1}}else this._hideClone()}},Et&&d(document,"touchmove",function(t){(It.active||ft)&&t.cancelable&&t.preventDefault()}),It.utils={on:d,off:h,css:b,find:w,is:function(t,e){return!!p(t,e,t,!1)},extend:function(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},throttle:A,closest:p,toggleClass:v,clone:I,index:T,nextTick:Bt,cancelNextTick:Yt,detectDirection:Tt,getChild:_},It.get=function(t){return t[R]},It.mount=function(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];e[0].constructor===Array&&(e=e[0]),e.forEach(function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(t));t.utils&&(It.utils=n({},It.utils,t.utils)),Y.mount(t)})},It.create=function(t,e){return new It(t,e)};var jt,Ft,Ht,Lt,Kt,Wt,zt=[],Gt=!(It.version="1.10.1");function Ut(){zt.forEach(function(t){clearInterval(t.pid)}),zt=[]}function qt(){clearInterval(Wt)}function Vt(t){var e=t.originalEvent,n=t.putSortable,o=t.dragEl,i=t.activeSortable,r=t.dispatchSortableEvent,a=t.hideGhostForTarget,l=t.unhideGhostForTarget;if(e){var s=n||i;a();var c=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,u=document.elementFromPoint(c.clientX,c.clientY);l(),s&&!s.el.contains(u)&&(r("spill"),this.onSpill({dragEl:o,putSortable:n}))}}var Zt,Qt=A(function(t,e,n,o){if(e.scroll){var i,r=(t.touches?t.touches[0]:t).clientX,a=(t.touches?t.touches[0]:t).clientY,l=e.scrollSensitivity,s=e.scrollSpeed,c=E(),u=!1;Ft!==n&&(Ft=n,Ut(),jt=e.scroll,i=e.scrollFn,!0===jt&&(jt=x(n,!0)));var d=0,h=jt;do{var f,p=h,g=D(p),m=g.top,v=g.bottom,y=g.left,w=g.right,S=g.width,_=g.height,C=void 0,T=p.scrollWidth,O=p.scrollHeight,M=b(p),A=p.scrollLeft,I=p.scrollTop;f=p===c?(C=S<T&&("auto"===M.overflowX||"scroll"===M.overflowX||"visible"===M.overflowX),_<O&&("auto"===M.overflowY||"scroll"===M.overflowY||"visible"===M.overflowY)):(C=S<T&&("auto"===M.overflowX||"scroll"===M.overflowX),_<O&&("auto"===M.overflowY||"scroll"===M.overflowY));var P=C&&(Math.abs(w-r)<=l&&A+S<T)-(Math.abs(y-r)<=l&&!!A),k=f&&(Math.abs(v-a)<=l&&I+_<O)-(Math.abs(m-a)<=l&&!!I);if(!zt[d])for(var X=0;X<=d;X++)zt[X]||(zt[X]={});zt[d].vx==P&&zt[d].vy==k&&zt[d].el===p||(zt[d].el=p,zt[d].vx=P,zt[d].vy=k,clearInterval(zt[d].pid),0==P&&0==k||(u=!0,zt[d].pid=setInterval(function(){o&&0===this.layer&&It.active._onTouchMove(Kt);var e=zt[this.layer].vy?zt[this.layer].vy*s:0,n=zt[this.layer].vx?zt[this.layer].vx*s:0;"function"==typeof i&&"continue"!==i.call(It.dragged.parentNode[R],n,e,t,Kt,zt[this.layer].el)||N(zt[this.layer].el,n,e)}.bind({layer:d}),24))),d++}while(e.bubbleScroll&&h!==c&&(h=x(h,!1)));Gt=u}},30);function $t(){}function Jt(){}$t.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var o=_(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(e,o):this.sortable.el.appendChild(e),this.sortable.animateAll(),n&&n.animateAll()},drop:Vt},e($t,{pluginName:"revertOnSpill"}),Jt.prototype={onSpill:function(t){var e=t.dragEl,n=t.putSortable||this.sortable;n.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),n.animateAll()},drop:Vt},e(Jt,{pluginName:"removeOnSpill"});var te,ee,ne,oe,ie,re=[],ae=[],le=!1,se=!1,ce=!1;function ue(t,e){ae.forEach(function(n,o){var i=e.children[n.sortableIndex+(t?Number(o):0)];i?e.insertBefore(n,i):e.appendChild(n)})}function de(){re.forEach(function(t){t!==ne&&t.parentNode&&t.parentNode.removeChild(t)})}return It.mount(new function(){function t(){for(var t in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted:function(t){var e=t.originalEvent;this.sortable.nativeDraggable?d(document,"dragover",this._handleAutoScroll):this.options.supportPointer?d(document,"pointermove",this._handleFallbackAutoScroll):e.touches?d(document,"touchmove",this._handleFallbackAutoScroll):d(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var e=t.originalEvent;this.options.dragOverBubble||e.rootEl||this._handleAutoScroll(e)},drop:function(){this.sortable.nativeDraggable?h(document,"dragover",this._handleAutoScroll):(h(document,"pointermove",this._handleFallbackAutoScroll),h(document,"touchmove",this._handleFallbackAutoScroll),h(document,"mousemove",this._handleFallbackAutoScroll)),qt(),Ut(),clearTimeout(g),g=void 0},nulling:function(){Kt=Ft=jt=Gt=Wt=Ht=Lt=null,zt.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,e){var n=this,o=(t.touches?t.touches[0]:t).clientX,a=(t.touches?t.touches[0]:t).clientY,s=document.elementFromPoint(o,a);if(Kt=t,e||r||i||l){Qt(t,this.options,s,e);var c=x(s,!0);!Gt||Wt&&o===Ht&&a===Lt||(Wt&&qt(),Wt=setInterval(function(){var i=x(document.elementFromPoint(o,a),!0);i!==c&&(c=i,Ut()),Qt(t,n.options,i,e)},10),Ht=o,Lt=a)}else{if(!this.options.bubbleScroll||x(s,!0)===E())return void Ut();Qt(t,this.options,x(s,!1),!1)}}},e(t,{pluginName:"scroll",initializeByDefault:!0})}),It.mount(Jt,$t),It.mount(new function(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(t){var e=t.dragEl;Zt=e},dragOverValid:function(t){var e=t.completed,n=t.target,o=t.onMove,i=t.activeSortable,r=t.changed,a=t.cancel;if(i.options.swap){var l=this.sortable.el,s=this.options;if(n&&n!==l){var c=Zt;Zt=!1!==o(n)?(v(n,s.swapClass,!0),n):null,c&&c!==Zt&&v(c,s.swapClass,!1)}r(),e(!0),a()}},drop:function(t){var e=t.activeSortable,n=t.putSortable,o=t.dragEl,i=n||this.sortable,r=this.options;Zt&&v(Zt,r.swapClass,!1),Zt&&(r.swap||n&&n.options.swap)&&o!==Zt&&(i.captureAnimationState(),i!==e&&e.captureAnimationState(),function(t,e){var n,o,i=t.parentNode,r=e.parentNode;i&&r&&!i.isEqualNode(e)&&!r.isEqualNode(t)&&(n=T(t),o=T(e),i.isEqualNode(r)&&n<o&&o++,i.insertBefore(e,i.children[n]),r.insertBefore(t,r.children[o]))}(o,Zt),i.animateAll(),i!==e&&e.animateAll())},nulling:function(){Zt=null}},e(t,{pluginName:"swap",eventProperties:function(){return{swapItem:Zt}}})}),It.mount(new function(){function t(t){for(var e in this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this));t.options.supportPointer?d(document,"pointerup",this._deselectMultiDrag):(d(document,"mouseup",this._deselectMultiDrag),d(document,"touchend",this._deselectMultiDrag)),d(document,"keydown",this._checkKeyDown),d(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(e,n){var o="";re.length&&ee===t?re.forEach(function(t,e){o+=(e?", ":"")+t.textContent}):o=n.textContent,e.setData("Text",o)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(t){var e=t.dragEl;ne=e},delayEnded:function(){this.isMultiDrag=~re.indexOf(ne)},setupClone:function(t){var e=t.sortable,n=t.cancel;if(this.isMultiDrag){for(var o=0;o<re.length;o++)ae.push(I(re[o])),ae[o].sortableIndex=re[o].sortableIndex,ae[o].draggable=!1,ae[o].style["will-change"]="",v(ae[o],this.options.selectedClass,!1),re[o]===ne&&v(ae[o],this.options.chosenClass,!1);e._hideClone(),n()}},clone:function(t){var e=t.sortable,n=t.rootEl,o=t.dispatchSortableEvent,i=t.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||re.length&&ee===e&&(ue(!0,n),o("clone"),i()))},showClone:function(t){var e=t.cloneNowShown,n=t.rootEl,o=t.cancel;this.isMultiDrag&&(ue(!1,n),ae.forEach(function(t){b(t,"display","")}),e(),ie=!1,o())},hideClone:function(t){var e=this,n=(t.sortable,t.cloneNowHidden),o=t.cancel;this.isMultiDrag&&(ae.forEach(function(t){b(t,"display","none"),e.options.removeCloneOnHide&&t.parentNode&&t.parentNode.removeChild(t)}),n(),ie=!0,o())},dragStartGlobal:function(t){t.sortable,!this.isMultiDrag&&ee&&ee.multiDrag._deselectMultiDrag(),re.forEach(function(t){t.sortableIndex=T(t)}),re=re.sort(function(t,e){return t.sortableIndex-e.sortableIndex}),ce=!0},dragStarted:function(t){var e=this,n=t.sortable;if(this.isMultiDrag){if(this.options.sort&&(n.captureAnimationState(),this.options.animation)){re.forEach(function(t){t!==ne&&b(t,"position","absolute")});var o=D(ne,!1,!0,!0);re.forEach(function(t){t!==ne&&P(t,o)}),le=se=!0}n.animateAll(function(){le=se=!1,e.options.animation&&re.forEach(function(t){k(t)}),e.options.sort&&de()})}},dragOver:function(t){var e=t.target,n=t.completed,o=t.cancel;se&&~re.indexOf(e)&&(n(!1),o())},revert:function(t){var e=t.fromSortable,n=t.rootEl,o=t.sortable,i=t.dragRect;1<re.length&&(re.forEach(function(t){o.addAnimationState({target:t,rect:se?D(t):i}),k(t),t.fromRect=i,e.removeAnimationState(t)}),se=!1,function(t,e){re.forEach(function(n,o){var i=e.children[n.sortableIndex+(t?Number(o):0)];i?e.insertBefore(n,i):e.appendChild(n)})}(!this.options.removeCloneOnHide,n))},dragOverCompleted:function(t){var e=t.sortable,n=t.isOwner,o=t.insertion,i=t.activeSortable,r=t.parentEl,a=t.putSortable,l=this.options;if(o){if(n&&i._hideClone(),le=!1,l.animation&&1<re.length&&(se||!n&&!i.options.sort&&!a)){var s=D(ne,!1,!0,!0);re.forEach(function(t){t!==ne&&(P(t,s),r.appendChild(t))}),se=!0}if(!n)if(se||de(),1<re.length){var c=ie;i._showClone(e),i.options.animation&&!ie&&c&&ae.forEach(function(t){i.addAnimationState({target:t,rect:oe}),t.fromRect=oe,t.thisAnimationDuration=null})}else i._showClone(e)}},dragOverAnimationCapture:function(t){var n=t.dragRect,o=t.isOwner,i=t.activeSortable;if(re.forEach(function(t){t.thisAnimationDuration=null}),i.options.animation&&!o&&i.multiDrag.isMultiDrag){oe=e({},n);var r=y(ne,!0);oe.top-=r.f,oe.left-=r.e}},dragOverAnimationComplete:function(){se&&(se=!1,de())},drop:function(t){var e=t.originalEvent,n=t.rootEl,o=t.parentEl,i=t.sortable,r=t.dispatchSortableEvent,a=t.oldIndex,l=t.putSortable,s=l||this.sortable;if(e){var c=this.options,u=o.children;if(!ce)if(c.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),v(ne,c.selectedClass,!~re.indexOf(ne)),~re.indexOf(ne))re.splice(re.indexOf(ne),1),te=null,j({sortable:i,rootEl:n,name:"deselect",targetEl:ne,originalEvt:e});else{if(re.push(ne),j({sortable:i,rootEl:n,name:"select",targetEl:ne,originalEvt:e}),e.shiftKey&&te&&i.el.contains(te)){var d,h,f=T(te),p=T(ne);if(~f&&~p&&f!==p)for(d=f<p?(h=f,p):(h=p,f+1);h<d;h++)~re.indexOf(u[h])||(v(u[h],c.selectedClass,!0),re.push(u[h]),j({sortable:i,rootEl:n,name:"select",targetEl:u[h],originalEvt:e}))}else te=ne;ee=s}if(ce&&this.isMultiDrag){if((o[R].options.sort||o!==n)&&1<re.length){var g=D(ne),m=T(ne,":not(."+this.options.selectedClass+")");if(!le&&c.animation&&(ne.thisAnimationDuration=null),s.captureAnimationState(),!le&&(c.animation&&(ne.fromRect=g,re.forEach(function(t){if(t.thisAnimationDuration=null,t!==ne){var e=se?D(t):g;t.fromRect=e,s.addAnimationState({target:t,rect:e})}})),de(),re.forEach(function(t){u[m]?o.insertBefore(t,u[m]):o.appendChild(t),m++}),a===T(ne))){var b=!1;re.forEach(function(t){t.sortableIndex===T(t)||(b=!0)}),b&&r("update")}re.forEach(function(t){k(t)}),s.animateAll()}ee=s}(n===o||l&&"clone"!==l.lastPutMode)&&ae.forEach(function(t){t.parentNode&&t.parentNode.removeChild(t)})}},nullingGlobal:function(){this.isMultiDrag=ce=!1,ae.length=0},destroyGlobal:function(){this._deselectMultiDrag(),h(document,"pointerup",this._deselectMultiDrag),h(document,"mouseup",this._deselectMultiDrag),h(document,"touchend",this._deselectMultiDrag),h(document,"keydown",this._checkKeyDown),h(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(t){if(!ce&&ee===this.sortable&&!(t&&p(t.target,this.options.draggable,this.sortable.el,!1)||t&&0!==t.button))for(;re.length;){var e=re[0];v(e,this.options.selectedClass,!1),re.shift(),j({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:e,originalEvt:t})}},_checkKeyDown:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},e(t,{pluginName:"multiDrag",utils:{select:function(t){var e=t.parentNode[R];e&&e.options.multiDrag&&!~re.indexOf(t)&&(ee&&ee!==e&&(ee.multiDrag._deselectMultiDrag(),ee=e),v(t,e.options.selectedClass,!0),re.push(t))},deselect:function(t){var e=t.parentNode[R],n=re.indexOf(t);e&&e.options.multiDrag&&~n&&(v(t,e.options.selectedClass,!1),re.splice(n,1))}},eventProperties:function(){var t,e=this,n=[],o=[];return re.forEach(function(t){var i;n.push({multiDragElement:t,index:t.sortableIndex}),i=se&&t!==ne?-1:se?T(t,":not(."+e.options.selectedClass+")"):T(t),o.push({multiDragElement:t,index:i})}),{items:(t=re,function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()),clones:[].concat(ae),oldIndicies:n,newIndicies:o}},optionListeners:{multiDragKey:function(t){return"ctrl"===(t=t.toLowerCase())?t="Control":1<t.length&&(t=t.charAt(0).toUpperCase()+t.substr(1)),t}}})}),It});var CoCreateSort={main_objects:[],init:function(){CoCreate.registerModule("sort",this,this.mainInit,null,null),this.mainInit()},mainInit:function(t){let e=(t||document).querySelectorAll(".sortable");for(let t=0;t<e.length;t++)this.createObject(e[t])},checkRegisteredObject:function(t){let e=!1;for(var n=0;n<this.main_objects.length;n++)if(t.isSameNode(this.main_objects[n].el)){e=!0;break}return e},createObject:function(t){if(this.checkRegisteredObject(t))return;let e=t.getAttribute("data-group_name"),n=this.makeObject(t,{group:{name:e}});this.main_objects.push({el:t,obj:n}),Sortable.utils.on(t,"sort",function(t){t.stopPropagation();let e=t.from,n=t.to;if((e.isSameNode(n)||!this.isSameNode(e))&&e&&n){let o=findSaveFetchElByChild(e),i=findSaveFetchElByChild(n);(o||i)&&(o==i?saveHtml(o):(saveHtml(o),saveHtml(i)));let r=findTemplateElByChild(e),a=findTemplateElByChild(n);r.isSameNode(a)?reorderChildrenOfTemplate(a):(updateParentTemplateOfChild(a,t.item),reorderChildrenOfTemplate(r),reorderChildrenOfTemplate(a))}}),Sortable.utils.on(t,"change",function(t,e,n){t.target.classList.contains("isotope-grid")&&createChangeContentEvent(t.target)})},makeObject:function(t,e={}){return new Sortable(t,Object.assign({animation:150,ghostClass:"sort-ghost-class",delayOnTouchOnly:!0,touchStartThreshold:0,filter:".noDrag"},e))},registerSortEvent:function(t){Sortable.utils.on(el,t)}};CoCreateSort.init();